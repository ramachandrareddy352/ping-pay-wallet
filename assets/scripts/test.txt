(function(Ze,Xe){typeof exports=="object"&&typeof module<"u"?Xe(exports):typeof define=="function"&&define.amd?define(["exports"],Xe):(Ze=typeof globalThis<"u"?globalThis:Ze||self,Xe(Ze.MyBundle={}))})(this,(function(Ze){"use strict";function Xe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function sn(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var n=function i(){var f=!1;try{f=this instanceof i}catch{}return f?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var f=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,f.get?f:{enumerable:!0,get:function(){return r[i]}})}),n}var an={},gr={},Ri;function Ns(){if(Ri)return gr;Ri=1,gr.byteLength=l,gr.toByteArray=x,gr.fromByteArray=B;for(var r=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,s=i.length;f<s;++f)r[f]=i[f],t[i.charCodeAt(f)]=f;t[45]=62,t[95]=63;function h(I){var M=I.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=I.indexOf("=");L===-1&&(L=M);var F=L===M?0:4-L%4;return[L,F]}function l(I){var M=h(I),L=M[0],F=M[1];return(L+F)*3/4-F}function _(I,M,L){return(M+L)*3/4-L}function x(I){var M,L=h(I),F=L[0],K=L[1],G=new n(_(I,F,K)),z=0,W=K>0?F-4:F,Z;for(Z=0;Z<W;Z+=4)M=t[I.charCodeAt(Z)]<<18|t[I.charCodeAt(Z+1)]<<12|t[I.charCodeAt(Z+2)]<<6|t[I.charCodeAt(Z+3)],G[z++]=M>>16&255,G[z++]=M>>8&255,G[z++]=M&255;return K===2&&(M=t[I.charCodeAt(Z)]<<2|t[I.charCodeAt(Z+1)]>>4,G[z++]=M&255),K===1&&(M=t[I.charCodeAt(Z)]<<10|t[I.charCodeAt(Z+1)]<<4|t[I.charCodeAt(Z+2)]>>2,G[z++]=M>>8&255,G[z++]=M&255),G}function T(I){return r[I>>18&63]+r[I>>12&63]+r[I>>6&63]+r[I&63]}function C(I,M,L){for(var F,K=[],G=M;G<L;G+=3)F=(I[G]<<16&16711680)+(I[G+1]<<8&65280)+(I[G+2]&255),K.push(T(F));return K.join("")}function B(I){for(var M,L=I.length,F=L%3,K=[],G=16383,z=0,W=L-F;z<W;z+=G)K.push(C(I,z,z+G>W?W:z+G));return F===1?(M=I[L-1],K.push(r[M>>2]+r[M<<4&63]+"==")):F===2&&(M=(I[L-2]<<8)+I[L-1],K.push(r[M>>10]+r[M>>4&63]+r[M<<2&63]+"=")),K.join("")}return gr}var br={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ai;function Ts(){return Ai||(Ai=1,br.read=function(r,t,n,i,f){var s,h,l=f*8-i-1,_=(1<<l)-1,x=_>>1,T=-7,C=n?f-1:0,B=n?-1:1,I=r[t+C];for(C+=B,s=I&(1<<-T)-1,I>>=-T,T+=l;T>0;s=s*256+r[t+C],C+=B,T-=8);for(h=s&(1<<-T)-1,s>>=-T,T+=i;T>0;h=h*256+r[t+C],C+=B,T-=8);if(s===0)s=1-x;else{if(s===_)return h?NaN:(I?-1:1)*(1/0);h=h+Math.pow(2,i),s=s-x}return(I?-1:1)*h*Math.pow(2,s-i)},br.write=function(r,t,n,i,f,s){var h,l,_,x=s*8-f-1,T=(1<<x)-1,C=T>>1,B=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=i?0:s-1,M=i?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,h=T):(h=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-h))<1&&(h--,_*=2),h+C>=1?t+=B/_:t+=B*Math.pow(2,1-C),t*_>=2&&(h++,_/=2),h+C>=T?(l=0,h=T):h+C>=1?(l=(t*_-1)*Math.pow(2,f),h=h+C):(l=t*Math.pow(2,C-1)*Math.pow(2,f),h=0));f>=8;r[n+I]=l&255,I+=M,l/=256,f-=8);for(h=h<<f|l,x+=f;x>0;r[n+I]=h&255,I+=M,h/=256,x-=8);r[n+I-M]|=L*128}),br}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Si;function un(){return Si||(Si=1,(function(r){const t=Ns(),n=Ts(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=G,r.INSPECT_MAX_BYTES=50;const f=2147483647;r.kMaxLength=f,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.log=="function"&&console.log("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const u=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(u,e),u.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function h(u){if(u>f)throw new RangeError('The value "'+u+'" is invalid for option "size"');const e=new Uint8Array(u);return Object.setPrototypeOf(e,l.prototype),e}function l(u,e,o){if(typeof u=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(u)}return _(u,e,o)}l.poolSize=8192;function _(u,e,o){if(typeof u=="string")return B(u,e);if(ArrayBuffer.isView(u))return M(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(bt(u,ArrayBuffer)||u&&bt(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(u,SharedArrayBuffer)||u&&bt(u.buffer,SharedArrayBuffer)))return L(u,e,o);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=u.valueOf&&u.valueOf();if(g!=null&&g!==u)return l.from(g,e,o);const m=F(u);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return l.from(u[Symbol.toPrimitive]("string"),e,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}l.from=function(u,e,o){return _(u,e,o)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function x(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function T(u,e,o){return x(u),u<=0?h(u):e!==void 0?typeof o=="string"?h(u).fill(e,o):h(u).fill(e):h(u)}l.alloc=function(u,e,o){return T(u,e,o)};function C(u){return x(u),h(u<0?0:K(u)|0)}l.allocUnsafe=function(u){return C(u)},l.allocUnsafeSlow=function(u){return C(u)};function B(u,e){if((typeof e!="string"||e==="")&&(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const o=z(u,e)|0;let g=h(o);const m=g.write(u,e);return m!==o&&(g=g.slice(0,m)),g}function I(u){const e=u.length<0?0:K(u.length)|0,o=h(e);for(let g=0;g<e;g+=1)o[g]=u[g]&255;return o}function M(u){if(bt(u,Uint8Array)){const e=new Uint8Array(u);return L(e.buffer,e.byteOffset,e.byteLength)}return I(u)}function L(u,e,o){if(e<0||u.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<e+(o||0))throw new RangeError('"length" is outside of buffer bounds');let g;return e===void 0&&o===void 0?g=new Uint8Array(u):o===void 0?g=new Uint8Array(u,e):g=new Uint8Array(u,e,o),Object.setPrototypeOf(g,l.prototype),g}function F(u){if(l.isBuffer(u)){const e=K(u.length)|0,o=h(e);return o.length===0||u.copy(o,0,0,e),o}if(u.length!==void 0)return typeof u.length!="number"||At(u.length)?h(0):I(u);if(u.type==="Buffer"&&Array.isArray(u.data))return I(u.data)}function K(u){if(u>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return u|0}function G(u){return+u!=u&&(u=0),l.alloc(+u)}l.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==l.prototype},l.compare=function(e,o){if(bt(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),bt(o,Uint8Array)&&(o=l.from(o,o.offset,o.byteLength)),!l.isBuffer(e)||!l.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===o)return 0;let g=e.length,m=o.length;for(let S=0,N=Math.min(g,m);S<N;++S)if(e[S]!==o[S]){g=e[S],m=o[S];break}return g<m?-1:m<g?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,o){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return l.alloc(0);let g;if(o===void 0)for(o=0,g=0;g<e.length;++g)o+=e[g].length;const m=l.allocUnsafe(o);let S=0;for(g=0;g<e.length;++g){let N=e[g];if(bt(N,Uint8Array))S+N.length>m.length?(l.isBuffer(N)||(N=l.from(N)),N.copy(m,S)):Uint8Array.prototype.set.call(m,N,S);else if(l.isBuffer(N))N.copy(m,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=N.length}return m};function z(u,e){if(l.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||bt(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const o=u.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&o===0)return 0;let m=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Rt(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return It(u).length;default:if(m)return g?-1:Rt(u).length;e=(""+e).toLowerCase(),m=!0}}l.byteLength=z;function W(u,e,o){let g=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,e>>>=0,o<=e))return"";for(u||(u="utf8");;)switch(u){case"hex":return O(this,e,o);case"utf8":case"utf-8":return a(this,e,o);case"ascii":return A(this,e,o);case"latin1":case"binary":return v(this,e,o);case"base64":return E(this,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,o);default:if(g)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),g=!0}}l.prototype._isBuffer=!0;function Z(u,e,o){const g=u[e];u[e]=u[o],u[o]=g}l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<e;o+=2)Z(this,o,o+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<e;o+=4)Z(this,o,o+3),Z(this,o+1,o+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<e;o+=8)Z(this,o,o+7),Z(this,o+1,o+6),Z(this,o+2,o+5),Z(this,o+3,o+4);return this},l.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?a(this,0,e):W.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:l.compare(this,e)===0},l.prototype.inspect=function(){let e="";const o=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,o,g,m,S){if(bt(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(o===void 0&&(o=0),g===void 0&&(g=e?e.length:0),m===void 0&&(m=0),S===void 0&&(S=this.length),o<0||g>e.length||m<0||S>this.length)throw new RangeError("out of range index");if(m>=S&&o>=g)return 0;if(m>=S)return-1;if(o>=g)return 1;if(o>>>=0,g>>>=0,m>>>=0,S>>>=0,this===e)return 0;let N=S-m,tt=g-o;const at=Math.min(N,tt),it=this.slice(m,S),ht=e.slice(o,g);for(let et=0;et<at;++et)if(it[et]!==ht[et]){N=it[et],tt=ht[et];break}return N<tt?-1:tt<N?1:0};function nt(u,e,o,g,m){if(u.length===0)return-1;if(typeof o=="string"?(g=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,At(o)&&(o=m?0:u.length-1),o<0&&(o=u.length+o),o>=u.length){if(m)return-1;o=u.length-1}else if(o<0)if(m)o=0;else return-1;if(typeof e=="string"&&(e=l.from(e,g)),l.isBuffer(e))return e.length===0?-1:ft(u,e,o,g,m);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(u,e,o):Uint8Array.prototype.lastIndexOf.call(u,e,o):ft(u,[e],o,g,m);throw new TypeError("val must be string, number or Buffer")}function ft(u,e,o,g,m){let S=1,N=u.length,tt=e.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(u.length<2||e.length<2)return-1;S=2,N/=2,tt/=2,o/=2}function at(ht,et){return S===1?ht[et]:ht.readUInt16BE(et*S)}let it;if(m){let ht=-1;for(it=o;it<N;it++)if(at(u,it)===at(e,ht===-1?0:it-ht)){if(ht===-1&&(ht=it),it-ht+1===tt)return ht*S}else ht!==-1&&(it-=it-ht),ht=-1}else for(o+tt>N&&(o=N-tt),it=o;it>=0;it--){let ht=!0;for(let et=0;et<tt;et++)if(at(u,it+et)!==at(e,et)){ht=!1;break}if(ht)return it}return-1}l.prototype.includes=function(e,o,g){return this.indexOf(e,o,g)!==-1},l.prototype.indexOf=function(e,o,g){return nt(this,e,o,g,!0)},l.prototype.lastIndexOf=function(e,o,g){return nt(this,e,o,g,!1)};function ut(u,e,o,g){o=Number(o)||0;const m=u.length-o;g?(g=Number(g),g>m&&(g=m)):g=m;const S=e.length;g>S/2&&(g=S/2);let N;for(N=0;N<g;++N){const tt=parseInt(e.substr(N*2,2),16);if(At(tt))return N;u[o+N]=tt}return N}function k(u,e,o,g){return Et(Rt(e,u.length-o),u,o,g)}function P(u,e,o,g){return Et(xt(e),u,o,g)}function V(u,e,o,g){return Et(It(e),u,o,g)}function H(u,e,o,g){return Et(pr(e,u.length-o),u,o,g)}l.prototype.write=function(e,o,g,m){if(o===void 0)m="utf8",g=this.length,o=0;else if(g===void 0&&typeof o=="string")m=o,g=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(g)?(g=g>>>0,m===void 0&&(m="utf8")):(m=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const S=this.length-o;if((g===void 0||g>S)&&(g=S),e.length>0&&(g<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");let N=!1;for(;;)switch(m){case"hex":return ut(this,e,o,g);case"utf8":case"utf-8":return k(this,e,o,g);case"ascii":case"latin1":case"binary":return P(this,e,o,g);case"base64":return V(this,e,o,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,e,o,g);default:if(N)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),N=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(u,e,o){return e===0&&o===u.length?t.fromByteArray(u):t.fromByteArray(u.slice(e,o))}function a(u,e,o){o=Math.min(u.length,o);const g=[];let m=e;for(;m<o;){const S=u[m];let N=null,tt=S>239?4:S>223?3:S>191?2:1;if(m+tt<=o){let at,it,ht,et;switch(tt){case 1:S<128&&(N=S);break;case 2:at=u[m+1],(at&192)===128&&(et=(S&31)<<6|at&63,et>127&&(N=et));break;case 3:at=u[m+1],it=u[m+2],(at&192)===128&&(it&192)===128&&(et=(S&15)<<12|(at&63)<<6|it&63,et>2047&&(et<55296||et>57343)&&(N=et));break;case 4:at=u[m+1],it=u[m+2],ht=u[m+3],(at&192)===128&&(it&192)===128&&(ht&192)===128&&(et=(S&15)<<18|(at&63)<<12|(it&63)<<6|ht&63,et>65535&&et<1114112&&(N=et))}}N===null?(N=65533,tt=1):N>65535&&(N-=65536,g.push(N>>>10&1023|55296),N=56320|N&1023),g.push(N),m+=tt}return y(g)}const p=4096;function y(u){const e=u.length;if(e<=p)return String.fromCharCode.apply(String,u);let o="",g=0;for(;g<e;)o+=String.fromCharCode.apply(String,u.slice(g,g+=p));return o}function A(u,e,o){let g="";o=Math.min(u.length,o);for(let m=e;m<o;++m)g+=String.fromCharCode(u[m]&127);return g}function v(u,e,o){let g="";o=Math.min(u.length,o);for(let m=e;m<o;++m)g+=String.fromCharCode(u[m]);return g}function O(u,e,o){const g=u.length;(!e||e<0)&&(e=0),(!o||o<0||o>g)&&(o=g);let m="";for(let S=e;S<o;++S)m+=Ot[u[S]];return m}function D(u,e,o){const g=u.slice(e,o);let m="";for(let S=0;S<g.length-1;S+=2)m+=String.fromCharCode(g[S]+g[S+1]*256);return m}l.prototype.slice=function(e,o){const g=this.length;e=~~e,o=o===void 0?g:~~o,e<0?(e+=g,e<0&&(e=0)):e>g&&(e=g),o<0?(o+=g,o<0&&(o=0)):o>g&&(o=g),o<e&&(o=e);const m=this.subarray(e,o);return Object.setPrototypeOf(m,l.prototype),m};function R(u,e,o){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+e>o)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=this[e],S=1,N=0;for(;++N<o&&(S*=256);)m+=this[e+N]*S;return m},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=this[e+--o],S=1;for(;o>0&&(S*=256);)m+=this[e+--o]*S;return m},l.prototype.readUint8=l.prototype.readUInt8=function(e,o){return e=e>>>0,o||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,o){return e=e>>>0,o||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,o){return e=e>>>0,o||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,o){return e=e>>>0,o||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,o){return e=e>>>0,o||R(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=o+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,S=this[++e]+this[++e]*2**8+this[++e]*2**16+g*2**24;return BigInt(m)+(BigInt(S)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=o*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],S=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+g;return(BigInt(m)<<BigInt(32))+BigInt(S)}),l.prototype.readIntLE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=this[e],S=1,N=0;for(;++N<o&&(S*=256);)m+=this[e+N]*S;return S*=128,m>=S&&(m-=Math.pow(2,8*o)),m},l.prototype.readIntBE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=o,S=1,N=this[e+--m];for(;m>0&&(S*=256);)N+=this[e+--m]*S;return S*=128,N>=S&&(N-=Math.pow(2,8*o)),N},l.prototype.readInt8=function(e,o){return e=e>>>0,o||R(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},l.prototype.readInt16LE=function(e,o){e=e>>>0,o||R(e,2,this.length);const g=this[e]|this[e+1]<<8;return g&32768?g|4294901760:g},l.prototype.readInt16BE=function(e,o){e=e>>>0,o||R(e,2,this.length);const g=this[e+1]|this[e]<<8;return g&32768?g|4294901760:g},l.prototype.readInt32LE=function(e,o){return e=e>>>0,o||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,o){return e=e>>>0,o||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(g<<24);return(BigInt(m)<<BigInt(32))+BigInt(o+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),l.prototype.readBigInt64BE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=(o<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(m)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+g)}),l.prototype.readFloatLE=function(e,o){return e=e>>>0,o||R(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,o){return e=e>>>0,o||R(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,o){return e=e>>>0,o||R(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,o){return e=e>>>0,o||R(e,8,this.length),n.read(this,e,!1,52,8)};function c(u,e,o,g,m,S){if(!l.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>m||e<S)throw new RangeError('"value" argument is out of bounds');if(o+g>u.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,o,g,m){if(e=+e,o=o>>>0,g=g>>>0,!m){const tt=Math.pow(2,8*g)-1;c(this,e,o,g,tt,0)}let S=1,N=0;for(this[o]=e&255;++N<g&&(S*=256);)this[o+N]=e/S&255;return o+g},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,o,g,m){if(e=+e,o=o>>>0,g=g>>>0,!m){const tt=Math.pow(2,8*g)-1;c(this,e,o,g,tt,0)}let S=g-1,N=1;for(this[o+S]=e&255;--S>=0&&(N*=256);)this[o+S]=e/N&255;return o+g},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,1,255,0),this[o]=e&255,o+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,65535,0),this[o]=e&255,this[o+1]=e>>>8,o+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,65535,0),this[o]=e>>>8,this[o+1]=e&255,o+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,4294967295,0),this[o+3]=e>>>24,this[o+2]=e>>>16,this[o+1]=e>>>8,this[o]=e&255,o+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,4294967295,0),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=e&255,o+4};function d(u,e,o,g,m){wt(e,g,m,u,o,7);let S=Number(e&BigInt(4294967295));u[o++]=S,S=S>>8,u[o++]=S,S=S>>8,u[o++]=S,S=S>>8,u[o++]=S;let N=Number(e>>BigInt(32)&BigInt(4294967295));return u[o++]=N,N=N>>8,u[o++]=N,N=N>>8,u[o++]=N,N=N>>8,u[o++]=N,o}function w(u,e,o,g,m){wt(e,g,m,u,o,7);let S=Number(e&BigInt(4294967295));u[o+7]=S,S=S>>8,u[o+6]=S,S=S>>8,u[o+5]=S,S=S>>8,u[o+4]=S;let N=Number(e>>BigInt(32)&BigInt(4294967295));return u[o+3]=N,N=N>>8,u[o+2]=N,N=N>>8,u[o+1]=N,N=N>>8,u[o]=N,o+8}l.prototype.writeBigUInt64LE=Ut(function(e,o=0){return d(this,e,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ut(function(e,o=0){return w(this,e,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,o,g,m){if(e=+e,o=o>>>0,!m){const at=Math.pow(2,8*g-1);c(this,e,o,g,at-1,-at)}let S=0,N=1,tt=0;for(this[o]=e&255;++S<g&&(N*=256);)e<0&&tt===0&&this[o+S-1]!==0&&(tt=1),this[o+S]=(e/N>>0)-tt&255;return o+g},l.prototype.writeIntBE=function(e,o,g,m){if(e=+e,o=o>>>0,!m){const at=Math.pow(2,8*g-1);c(this,e,o,g,at-1,-at)}let S=g-1,N=1,tt=0;for(this[o+S]=e&255;--S>=0&&(N*=256);)e<0&&tt===0&&this[o+S+1]!==0&&(tt=1),this[o+S]=(e/N>>0)-tt&255;return o+g},l.prototype.writeInt8=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,1,127,-128),e<0&&(e=255+e+1),this[o]=e&255,o+1},l.prototype.writeInt16LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,32767,-32768),this[o]=e&255,this[o+1]=e>>>8,o+2},l.prototype.writeInt16BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,32767,-32768),this[o]=e>>>8,this[o+1]=e&255,o+2},l.prototype.writeInt32LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,2147483647,-2147483648),this[o]=e&255,this[o+1]=e>>>8,this[o+2]=e>>>16,this[o+3]=e>>>24,o+4},l.prototype.writeInt32BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=e&255,o+4},l.prototype.writeBigInt64LE=Ut(function(e,o=0){return d(this,e,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ut(function(e,o=0){return w(this,e,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function b(u,e,o,g,m,S){if(o+g>u.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function $(u,e,o,g,m){return e=+e,o=o>>>0,m||b(u,e,o,4),n.write(u,e,o,g,23,4),o+4}l.prototype.writeFloatLE=function(e,o,g){return $(this,e,o,!0,g)},l.prototype.writeFloatBE=function(e,o,g){return $(this,e,o,!1,g)};function Y(u,e,o,g,m){return e=+e,o=o>>>0,m||b(u,e,o,8),n.write(u,e,o,g,52,8),o+8}l.prototype.writeDoubleLE=function(e,o,g){return Y(this,e,o,!0,g)},l.prototype.writeDoubleBE=function(e,o,g){return Y(this,e,o,!1,g)},l.prototype.copy=function(e,o,g,m){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(g||(g=0),!m&&m!==0&&(m=this.length),o>=e.length&&(o=e.length),o||(o=0),m>0&&m<g&&(m=g),m===g||e.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),e.length-o<m-g&&(m=e.length-o+g);const S=m-g;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,g,m):Uint8Array.prototype.set.call(e,this.subarray(g,m),o),S},l.prototype.fill=function(e,o,g,m){if(typeof e=="string"){if(typeof o=="string"?(m=o,o=0,g=this.length):typeof g=="string"&&(m=g,g=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(e.length===1){const N=e.charCodeAt(0);(m==="utf8"&&N<128||m==="latin1")&&(e=N)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(o<0||this.length<o||this.length<g)throw new RangeError("Out of range index");if(g<=o)return this;o=o>>>0,g=g===void 0?this.length:g>>>0,e||(e=0);let S;if(typeof e=="number")for(S=o;S<g;++S)this[S]=e;else{const N=l.isBuffer(e)?e:l.from(e,m),tt=N.length;if(tt===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(S=0;S<g-o;++S)this[S+o]=N[S%tt]}return this};const J={};function rt(u,e,o){J[u]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(m){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:m,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(u,e){return`The "${u}" argument must be of type number. Received type ${typeof e}`},TypeError),rt("ERR_OUT_OF_RANGE",function(u,e,o){let g=`The value of "${u}" is out of range.`,m=o;return Number.isInteger(o)&&Math.abs(o)>2**32?m=gt(String(o)):typeof o=="bigint"&&(m=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(m=gt(m)),m+="n"),g+=` It must be ${e}. Received ${m}`,g},RangeError);function gt(u){let e="",o=u.length;const g=u[0]==="-"?1:0;for(;o>=g+4;o-=3)e=`_${u.slice(o-3,o)}${e}`;return`${u.slice(0,o)}${e}`}function _t(u,e,o){te(e,"offset"),(u[e]===void 0||u[e+o]===void 0)&&yt(e,u.length-(o+1))}function wt(u,e,o,g,m,S){if(u>o||u<e){const N=typeof e=="bigint"?"n":"";let tt;throw e===0||e===BigInt(0)?tt=`>= 0${N} and < 2${N} ** ${(S+1)*8}${N}`:tt=`>= -(2${N} ** ${(S+1)*8-1}${N}) and < 2 ** ${(S+1)*8-1}${N}`,new J.ERR_OUT_OF_RANGE("value",tt,u)}_t(g,m,S)}function te(u,e){if(typeof u!="number")throw new J.ERR_INVALID_ARG_TYPE(e,"number",u)}function yt(u,e,o){throw Math.floor(u)!==u?(te(u,o),new J.ERR_OUT_OF_RANGE("offset","an integer",u)):e<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,u)}const vt=/[^+/0-9A-Za-z-_]/g;function dr(u){if(u=u.split("=")[0],u=u.trim().replace(vt,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function Rt(u,e){e=e||1/0;let o;const g=u.length;let m=null;const S=[];for(let N=0;N<g;++N){if(o=u.charCodeAt(N),o>55295&&o<57344){if(!m){if(o>56319){(e-=3)>-1&&S.push(239,191,189);continue}else if(N+1===g){(e-=3)>-1&&S.push(239,191,189);continue}m=o;continue}if(o<56320){(e-=3)>-1&&S.push(239,191,189),m=o;continue}o=(m-55296<<10|o-56320)+65536}else m&&(e-=3)>-1&&S.push(239,191,189);if(m=null,o<128){if((e-=1)<0)break;S.push(o)}else if(o<2048){if((e-=2)<0)break;S.push(o>>6|192,o&63|128)}else if(o<65536){if((e-=3)<0)break;S.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((e-=4)<0)break;S.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return S}function xt(u){const e=[];for(let o=0;o<u.length;++o)e.push(u.charCodeAt(o)&255);return e}function pr(u,e){let o,g,m;const S=[];for(let N=0;N<u.length&&!((e-=2)<0);++N)o=u.charCodeAt(N),g=o>>8,m=o%256,S.push(m),S.push(g);return S}function It(u){return t.toByteArray(dr(u))}function Et(u,e,o,g){let m;for(m=0;m<g&&!(m+o>=e.length||m>=u.length);++m)e[m+o]=u[m];return m}function bt(u,e){return u instanceof e||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===e.name}function At(u){return u!==u}const Ot=(function(){const u="0123456789abcdef",e=new Array(256);for(let o=0;o<16;++o){const g=o*16;for(let m=0;m<16;++m)e[g+m]=u[o]+u[m]}return e})();function Ut(u){return typeof BigInt>"u"?Nt:u}function Nt(){throw new Error("BigInt not supported")}})(an)),an}var dt=un();const We=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _r(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function cn(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function ke(r,...t){if(!_r(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error("Uint8Array expected of length "+t+", got length="+r.length)}function Ii(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");cn(r.outputLen),cn(r.blockLen)}function Or(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Bs(r,t){ke(r);const n=t.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Je(...r){for(let t=0;t<r.length;t++)r[t].fill(0)}function fn(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function me(r,t){return r<<32-t|r>>>t}const vi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ms=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Pe(r){if(ke(r),vi)return r.toHex();let t="";for(let n=0;n<r.length;n++)t+=Ms[r[n]];return t}const Ie={_0:48,_9:57,A:65,F:70,a:97,f:102};function xi(r){if(r>=Ie._0&&r<=Ie._9)return r-Ie._0;if(r>=Ie.A&&r<=Ie.F)return r-(Ie.A-10);if(r>=Ie.a&&r<=Ie.f)return r-(Ie.a-10)}function Nr(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(vi)return Uint8Array.fromHex(r);const t=r.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let f=0,s=0;f<n;f++,s+=2){const h=xi(r.charCodeAt(s)),l=xi(r.charCodeAt(s+1));if(h===void 0||l===void 0){const _=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+s)}i[f]=h*16+l}return i}function Ls(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function hn(r){return typeof r=="string"&&(r=Ls(r)),ke(r),r}function we(...r){let t=0;for(let i=0;i<r.length;i++){const f=r[i];ke(f),t+=f.length}const n=new Uint8Array(t);for(let i=0,f=0;i<r.length;i++){const s=r[i];n.set(s,f),f+=s.length}return n}class bi{}function Oi(r){const t=i=>r().update(hn(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function ln(r=32){if(We&&typeof We.getRandomValues=="function")return We.getRandomValues(new Uint8Array(r));if(We&&typeof We.randomBytes=="function")return Uint8Array.from(We.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function Cs(r,t,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,n,i);const f=BigInt(32),s=BigInt(4294967295),h=Number(n>>f&s),l=Number(n&s),_=i?4:0,x=i?0:4;r.setUint32(t+_,h,i),r.setUint32(t+x,l,i)}function Us(r,t,n){return r&t^~r&n}function Ds(r,t,n){return r&t^r&n^t&n}class Ni extends bi{constructor(t,n,i,f){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=f,this.buffer=new Uint8Array(t),this.view=fn(this.buffer)}update(t){Or(this),t=hn(t),ke(t);const{view:n,buffer:i,blockLen:f}=this,s=t.length;for(let h=0;h<s;){const l=Math.min(f-this.pos,s-h);if(l===f){const _=fn(t);for(;f<=s-h;h+=f)this.process(_,h);continue}i.set(t.subarray(h,h+l),this.pos),this.pos+=l,h+=l,this.pos===f&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Or(this),Bs(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:f,isLE:s}=this;let{pos:h}=this;n[h++]=128,Je(this.buffer.subarray(h)),this.padOffset>f-h&&(this.process(i,0),h=0);for(let C=h;C<f;C++)n[C]=0;Cs(i,f-8,BigInt(this.length*8),s),this.process(i,0);const l=fn(t),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=_/4,T=this.get();if(x>T.length)throw new Error("_sha2: outputLen bigger than state");for(let C=0;C<x;C++)l.setUint32(4*C,T[C],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:f,finished:s,destroyed:h,pos:l}=this;return t.destroyed=h,t.finished=s,t.length=f,t.pos=l,f%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const Be=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ie=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Tr=BigInt(2**32-1),Ti=BigInt(32);function Fs(r,t=!1){return t?{h:Number(r&Tr),l:Number(r>>Ti&Tr)}:{h:Number(r>>Ti&Tr)|0,l:Number(r&Tr)|0}}function ks(r,t=!1){const n=r.length;let i=new Uint32Array(n),f=new Uint32Array(n);for(let s=0;s<n;s++){const{h,l}=Fs(r[s],t);[i[s],f[s]]=[h,l]}return[i,f]}const Bi=(r,t,n)=>r>>>n,Mi=(r,t,n)=>r<<32-n|t>>>n,Qe=(r,t,n)=>r>>>n|t<<32-n,tr=(r,t,n)=>r<<32-n|t>>>n,Br=(r,t,n)=>r<<64-n|t>>>n-32,Mr=(r,t,n)=>r>>>n-32|t<<64-n;function ve(r,t,n,i){const f=(t>>>0)+(i>>>0);return{h:r+n+(f/2**32|0)|0,l:f|0}}const Ps=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),zs=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,$s=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),Ks=(r,t,n,i,f)=>t+n+i+f+(r/2**32|0)|0,Vs=(r,t,n,i,f)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(f>>>0),qs=(r,t,n,i,f,s)=>t+n+i+f+s+(r/2**32|0)|0,Gs=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Me=new Uint32Array(64);class js extends Ni{constructor(t=32){super(64,t,8,!1),this.A=Be[0]|0,this.B=Be[1]|0,this.C=Be[2]|0,this.D=Be[3]|0,this.E=Be[4]|0,this.F=Be[5]|0,this.G=Be[6]|0,this.H=Be[7]|0}get(){const{A:t,B:n,C:i,D:f,E:s,F:h,G:l,H:_}=this;return[t,n,i,f,s,h,l,_]}set(t,n,i,f,s,h,l,_){this.A=t|0,this.B=n|0,this.C=i|0,this.D=f|0,this.E=s|0,this.F=h|0,this.G=l|0,this.H=_|0}process(t,n){for(let C=0;C<16;C++,n+=4)Me[C]=t.getUint32(n,!1);for(let C=16;C<64;C++){const B=Me[C-15],I=Me[C-2],M=me(B,7)^me(B,18)^B>>>3,L=me(I,17)^me(I,19)^I>>>10;Me[C]=L+Me[C-7]+M+Me[C-16]|0}let{A:i,B:f,C:s,D:h,E:l,F:_,G:x,H:T}=this;for(let C=0;C<64;C++){const B=me(l,6)^me(l,11)^me(l,25),I=T+B+Us(l,_,x)+Gs[C]+Me[C]|0,L=(me(i,2)^me(i,13)^me(i,22))+Ds(i,f,s)|0;T=x,x=_,_=l,l=h+I|0,h=s,s=f,f=i,i=I+L|0}i=i+this.A|0,f=f+this.B|0,s=s+this.C|0,h=h+this.D|0,l=l+this.E|0,_=_+this.F|0,x=x+this.G|0,T=T+this.H|0,this.set(i,f,s,h,l,_,x,T)}roundClean(){Je(Me)}destroy(){this.set(0,0,0,0,0,0,0,0),Je(this.buffer)}}const Li=ks(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Hs=Li[0],Ys=Li[1],Le=new Uint32Array(80),Ce=new Uint32Array(80);class Zs extends Ni{constructor(t=64){super(128,t,16,!1),this.Ah=ie[0]|0,this.Al=ie[1]|0,this.Bh=ie[2]|0,this.Bl=ie[3]|0,this.Ch=ie[4]|0,this.Cl=ie[5]|0,this.Dh=ie[6]|0,this.Dl=ie[7]|0,this.Eh=ie[8]|0,this.El=ie[9]|0,this.Fh=ie[10]|0,this.Fl=ie[11]|0,this.Gh=ie[12]|0,this.Gl=ie[13]|0,this.Hh=ie[14]|0,this.Hl=ie[15]|0}get(){const{Ah:t,Al:n,Bh:i,Bl:f,Ch:s,Cl:h,Dh:l,Dl:_,Eh:x,El:T,Fh:C,Fl:B,Gh:I,Gl:M,Hh:L,Hl:F}=this;return[t,n,i,f,s,h,l,_,x,T,C,B,I,M,L,F]}set(t,n,i,f,s,h,l,_,x,T,C,B,I,M,L,F){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=f|0,this.Ch=s|0,this.Cl=h|0,this.Dh=l|0,this.Dl=_|0,this.Eh=x|0,this.El=T|0,this.Fh=C|0,this.Fl=B|0,this.Gh=I|0,this.Gl=M|0,this.Hh=L|0,this.Hl=F|0}process(t,n){for(let z=0;z<16;z++,n+=4)Le[z]=t.getUint32(n),Ce[z]=t.getUint32(n+=4);for(let z=16;z<80;z++){const W=Le[z-15]|0,Z=Ce[z-15]|0,nt=Qe(W,Z,1)^Qe(W,Z,8)^Bi(W,Z,7),ft=tr(W,Z,1)^tr(W,Z,8)^Mi(W,Z,7),ut=Le[z-2]|0,k=Ce[z-2]|0,P=Qe(ut,k,19)^Br(ut,k,61)^Bi(ut,k,6),V=tr(ut,k,19)^Mr(ut,k,61)^Mi(ut,k,6),H=$s(ft,V,Ce[z-7],Ce[z-16]),E=Ks(H,nt,P,Le[z-7],Le[z-16]);Le[z]=E|0,Ce[z]=H|0}let{Ah:i,Al:f,Bh:s,Bl:h,Ch:l,Cl:_,Dh:x,Dl:T,Eh:C,El:B,Fh:I,Fl:M,Gh:L,Gl:F,Hh:K,Hl:G}=this;for(let z=0;z<80;z++){const W=Qe(C,B,14)^Qe(C,B,18)^Br(C,B,41),Z=tr(C,B,14)^tr(C,B,18)^Mr(C,B,41),nt=C&I^~C&L,ft=B&M^~B&F,ut=Vs(G,Z,ft,Ys[z],Ce[z]),k=qs(ut,K,W,nt,Hs[z],Le[z]),P=ut|0,V=Qe(i,f,28)^Br(i,f,34)^Br(i,f,39),H=tr(i,f,28)^Mr(i,f,34)^Mr(i,f,39),E=i&s^i&l^s&l,a=f&h^f&_^h&_;K=L|0,G=F|0,L=I|0,F=M|0,I=C|0,M=B|0,{h:C,l:B}=ve(x|0,T|0,k|0,P|0),x=l|0,T=_|0,l=s|0,_=h|0,s=i|0,h=f|0;const p=Ps(P,H,a);i=zs(p,k,V,E),f=p|0}({h:i,l:f}=ve(this.Ah|0,this.Al|0,i|0,f|0)),{h:s,l:h}=ve(this.Bh|0,this.Bl|0,s|0,h|0),{h:l,l:_}=ve(this.Ch|0,this.Cl|0,l|0,_|0),{h:x,l:T}=ve(this.Dh|0,this.Dl|0,x|0,T|0),{h:C,l:B}=ve(this.Eh|0,this.El|0,C|0,B|0),{h:I,l:M}=ve(this.Fh|0,this.Fl|0,I|0,M|0),{h:L,l:F}=ve(this.Gh|0,this.Gl|0,L|0,F|0),{h:K,l:G}=ve(this.Hh|0,this.Hl|0,K|0,G|0),this.set(i,f,s,h,l,_,x,T,C,B,I,M,L,F,K,G)}roundClean(){Je(Le,Ce)}destroy(){Je(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ci=Oi(()=>new js),Xs=Oi(()=>new Zs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dn=BigInt(0),pn=BigInt(1);function ze(r,t=""){if(typeof r!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof r)}return r}function _e(r,t,n=""){const i=_r(r),f=r?.length,s=t!==void 0;if(!i||s&&f!==t){const h=n&&`"${n}" `,l=s?` of length ${t}`:"",_=i?`length=${f}`:`type=${typeof r}`;throw new Error(h+"expected Uint8Array"+l+", got "+_)}return r}function Lr(r){const t=r.toString(16);return t.length&1?"0"+t:t}function Ui(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?dn:BigInt("0x"+r)}function Cr(r){return Ui(Pe(r))}function yr(r){return ke(r),Ui(Pe(Uint8Array.from(r).reverse()))}function gn(r,t){return Nr(r.toString(16).padStart(t*2,"0"))}function Di(r,t){return gn(r,t).reverse()}function Bt(r,t,n){let i;if(typeof t=="string")try{i=Nr(t)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(_r(t))i=Uint8Array.from(t);else throw new Error(r+" must be hex string or Uint8Array");const f=i.length;if(typeof n=="number"&&f!==n)throw new Error(r+" of length "+n+" expected, got "+f);return i}function Fi(r){return Uint8Array.from(r)}const _n=r=>typeof r=="bigint"&&dn<=r;function Ws(r,t,n){return _n(r)&&_n(t)&&_n(n)&&t<=r&&r<n}function yn(r,t,n,i){if(!Ws(t,n,i))throw new Error("expected valid "+r+": "+n+" <= n < "+i+", got "+t)}function ki(r){let t;for(t=0;r>dn;r>>=pn,t+=1);return t}const Er=r=>(pn<<BigInt(r))-pn;function Js(r,t,n){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=I=>new Uint8Array(I),f=I=>Uint8Array.of(I);let s=i(r),h=i(r),l=0;const _=()=>{s.fill(1),h.fill(0),l=0},x=(...I)=>n(h,s,...I),T=(I=i(0))=>{h=x(f(0),I),s=x(),I.length!==0&&(h=x(f(1),I),s=x())},C=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let I=0;const M=[];for(;I<t;){s=x();const L=s.slice();M.push(L),I+=s.length}return we(...M)};return(I,M)=>{_(),T(I);let L;for(;!(L=M(C()));)T();return _(),L}}function mr(r,t,n={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function i(f,s,h){const l=r[f];if(h&&l===void 0)return;const _=typeof l;if(_!==s||l===null)throw new Error(`param "${f}" is invalid: expected ${s}, got ${_}`)}Object.entries(t).forEach(([f,s])=>i(f,s,!1)),Object.entries(n).forEach(([f,s])=>i(f,s,!0))}function Ur(r){const t=new WeakMap;return(n,...i)=>{const f=t.get(n);if(f!==void 0)return f;const s=r(n,...i);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const he=BigInt(0),re=BigInt(1),$e=BigInt(2),Pi=BigInt(3),zi=BigInt(4),$i=BigInt(5),Qs=BigInt(7),Ki=BigInt(8),ta=BigInt(9),Vi=BigInt(16);function Ct(r,t){const n=r%t;return n>=he?n:t+n}function Mt(r,t,n){let i=r;for(;t-- >he;)i*=i,i%=n;return i}function qi(r,t){if(r===he)throw new Error("invert: expected non-zero number");if(t<=he)throw new Error("invert: expected positive modulus, got "+t);let n=Ct(r,t),i=t,f=he,s=re;for(;n!==he;){const l=i/n,_=i%n,x=f-s*l;i=n,n=_,f=s,s=x}if(i!==re)throw new Error("invert: does not exist");return Ct(f,t)}function En(r,t,n){if(!r.eql(r.sqr(t),n))throw new Error("Cannot find square root")}function Gi(r,t){const n=(r.ORDER+re)/zi,i=r.pow(t,n);return En(r,i,t),i}function ea(r,t){const n=(r.ORDER-$i)/Ki,i=r.mul(t,$e),f=r.pow(i,n),s=r.mul(t,f),h=r.mul(r.mul(s,$e),f),l=r.mul(s,r.sub(h,r.ONE));return En(r,l,t),l}function ra(r){const t=Ke(r),n=ji(r),i=n(t,t.neg(t.ONE)),f=n(t,i),s=n(t,t.neg(i)),h=(r+Qs)/Vi;return(l,_)=>{let x=l.pow(_,h),T=l.mul(x,i);const C=l.mul(x,f),B=l.mul(x,s),I=l.eql(l.sqr(T),_),M=l.eql(l.sqr(C),_);x=l.cmov(x,T,I),T=l.cmov(B,C,M);const L=l.eql(l.sqr(T),_),F=l.cmov(x,T,L);return En(l,F,_),F}}function ji(r){if(r<Pi)throw new Error("sqrt is not defined for small field");let t=r-re,n=0;for(;t%$e===he;)t/=$e,n++;let i=$e;const f=Ke(r);for(;Yi(f,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Gi;let s=f.pow(i,t);const h=(t+re)/$e;return function(_,x){if(_.is0(x))return x;if(Yi(_,x)!==1)throw new Error("Cannot find square root");let T=n,C=_.mul(_.ONE,s),B=_.pow(x,t),I=_.pow(x,h);for(;!_.eql(B,_.ONE);){if(_.is0(B))return _.ZERO;let M=1,L=_.sqr(B);for(;!_.eql(L,_.ONE);)if(M++,L=_.sqr(L),M===T)throw new Error("Cannot find square root");const F=re<<BigInt(T-M-1),K=_.pow(C,F);T=M,C=_.sqr(K),B=_.mul(B,C),I=_.mul(I,K)}return I}}function na(r){return r%zi===Pi?Gi:r%Ki===$i?ea:r%Vi===ta?ra(r):ji(r)}const ia=(r,t)=>(Ct(r,t)&re)===re,oa=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sa(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=oa.reduce((i,f)=>(i[f]="function",i),t);return mr(r,n),r}function aa(r,t,n){if(n<he)throw new Error("invalid exponent, negatives unsupported");if(n===he)return r.ONE;if(n===re)return t;let i=r.ONE,f=t;for(;n>he;)n&re&&(i=r.mul(i,f)),f=r.sqr(f),n>>=re;return i}function Hi(r,t,n=!1){const i=new Array(t.length).fill(n?r.ZERO:void 0),f=t.reduce((h,l,_)=>r.is0(l)?h:(i[_]=h,r.mul(h,l)),r.ONE),s=r.inv(f);return t.reduceRight((h,l,_)=>r.is0(l)?h:(i[_]=r.mul(h,i[_]),r.mul(h,l)),s),i}function Yi(r,t){const n=(r.ORDER-re)/$e,i=r.pow(t,n),f=r.eql(i,r.ONE),s=r.eql(i,r.ZERO),h=r.eql(i,r.neg(r.ONE));if(!f&&!s&&!h)throw new Error("invalid Legendre symbol result");return f?1:s?0:-1}function Zi(r,t){t!==void 0&&cn(t);const n=t!==void 0?t:r.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Ke(r,t,n=!1,i={}){if(r<=he)throw new Error("invalid field: expected ORDER > 0, got "+r);let f,s,h=!1,l;if(typeof t=="object"&&t!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const B=t;B.BITS&&(f=B.BITS),B.sqrt&&(s=B.sqrt),typeof B.isLE=="boolean"&&(n=B.isLE),typeof B.modFromBytes=="boolean"&&(h=B.modFromBytes),l=B.allowedLengths}else typeof t=="number"&&(f=t),i.sqrt&&(s=i.sqrt);const{nBitLength:_,nByteLength:x}=Zi(r,f);if(x>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let T;const C=Object.freeze({ORDER:r,isLE:n,BITS:_,BYTES:x,MASK:Er(_),ZERO:he,ONE:re,allowedLengths:l,create:B=>Ct(B,r),isValid:B=>{if(typeof B!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof B);return he<=B&&B<r},is0:B=>B===he,isValidNot0:B=>!C.is0(B)&&C.isValid(B),isOdd:B=>(B&re)===re,neg:B=>Ct(-B,r),eql:(B,I)=>B===I,sqr:B=>Ct(B*B,r),add:(B,I)=>Ct(B+I,r),sub:(B,I)=>Ct(B-I,r),mul:(B,I)=>Ct(B*I,r),pow:(B,I)=>aa(C,B,I),div:(B,I)=>Ct(B*qi(I,r),r),sqrN:B=>B*B,addN:(B,I)=>B+I,subN:(B,I)=>B-I,mulN:(B,I)=>B*I,inv:B=>qi(B,r),sqrt:s||(B=>(T||(T=na(r)),T(C,B))),toBytes:B=>n?Di(B,x):gn(B,x),fromBytes:(B,I=!0)=>{if(l){if(!l.includes(B.length)||B.length>x)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+B.length);const L=new Uint8Array(x);L.set(B,n?0:L.length-B.length),B=L}if(B.length!==x)throw new Error("Field.fromBytes: expected "+x+" bytes, got "+B.length);let M=n?yr(B):Cr(B);if(h&&(M=Ct(M,r)),!I&&!C.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:B=>Hi(C,B),cmov:(B,I,M)=>M?I:B});return Object.freeze(C)}function Xi(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Wi(r){const t=Xi(r);return t+Math.ceil(t/2)}function ua(r,t,n=!1){const i=r.length,f=Xi(t),s=Wi(t);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const h=n?yr(r):Cr(r),l=Ct(h,t-re)+re;return n?Di(l,f):gn(l,f)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const er=BigInt(0),Ve=BigInt(1);function Dr(r,t){const n=t.negate();return r?n:t}function qe(r,t){const n=Hi(r.Fp,t.map(i=>i.Z));return t.map((i,f)=>r.fromAffine(i.toAffine(n[f])))}function Ji(r,t){if(!Number.isSafeInteger(r)||r<=0||r>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+r)}function mn(r,t){Ji(r,t);const n=Math.ceil(t/r)+1,i=2**(r-1),f=2**r,s=Er(r),h=BigInt(r);return{windows:n,windowSize:i,mask:s,maxNumber:f,shiftBy:h}}function Qi(r,t,n){const{windowSize:i,mask:f,maxNumber:s,shiftBy:h}=n;let l=Number(r&f),_=r>>h;l>i&&(l-=s,_+=Ve);const x=t*i,T=x+Math.abs(l)-1,C=l===0,B=l<0,I=t%2!==0;return{nextN:_,offset:T,isZero:C,isNeg:B,isNegF:I,offsetF:x}}function ca(r,t){if(!Array.isArray(r))throw new Error("array expected");r.forEach((n,i)=>{if(!(n instanceof t))throw new Error("invalid point at index "+i)})}function fa(r,t){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((n,i)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+i)})}const wn=new WeakMap,to=new WeakMap;function Rn(r){return to.get(r)||1}function eo(r){if(r!==er)throw new Error("invalid wNAF")}class ro{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,i=this.ZERO){let f=t;for(;n>er;)n&Ve&&(i=i.add(f)),f=f.double(),n>>=Ve;return i}precomputeWindow(t,n){const{windows:i,windowSize:f}=mn(n,this.bits),s=[];let h=t,l=h;for(let _=0;_<i;_++){l=h,s.push(l);for(let x=1;x<f;x++)l=l.add(h),s.push(l);h=l.double()}return s}wNAF(t,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let f=this.ZERO,s=this.BASE;const h=mn(t,this.bits);for(let l=0;l<h.windows;l++){const{nextN:_,offset:x,isZero:T,isNeg:C,isNegF:B,offsetF:I}=Qi(i,l,h);i=_,T?s=s.add(Dr(B,n[I])):f=f.add(Dr(C,n[x]))}return eo(i),{p:f,f:s}}wNAFUnsafe(t,n,i,f=this.ZERO){const s=mn(t,this.bits);for(let h=0;h<s.windows&&i!==er;h++){const{nextN:l,offset:_,isZero:x,isNeg:T}=Qi(i,h,s);if(i=l,!x){const C=n[_];f=f.add(T?C.negate():C)}}return eo(i),f}getPrecomputes(t,n,i){let f=wn.get(n);return f||(f=this.precomputeWindow(n,t),t!==1&&(typeof i=="function"&&(f=i(f)),wn.set(n,f))),f}cached(t,n,i){const f=Rn(t);return this.wNAF(f,this.getPrecomputes(f,t,i),n)}unsafe(t,n,i,f){const s=Rn(t);return s===1?this._unsafeLadder(t,n,f):this.wNAFUnsafe(s,this.getPrecomputes(s,t,i),n,f)}createCache(t,n){Ji(n,this.bits),to.set(t,n),wn.delete(t)}hasCache(t){return Rn(t)!==1}}function ha(r,t,n,i){let f=t,s=r.ZERO,h=r.ZERO;for(;n>er||i>er;)n&Ve&&(s=s.add(f)),i&Ve&&(h=h.add(f)),f=f.double(),n>>=Ve,i>>=Ve;return{p1:s,p2:h}}function no(r,t,n,i){ca(n,r),fa(i,t);const f=n.length,s=i.length;if(f!==s)throw new Error("arrays of points and scalars must have equal length");const h=r.ZERO,l=ki(BigInt(f));let _=1;l>12?_=l-3:l>4?_=l-2:l>0&&(_=2);const x=Er(_),T=new Array(Number(x)+1).fill(h),C=Math.floor((t.BITS-1)/_)*_;let B=h;for(let I=C;I>=0;I-=_){T.fill(h);for(let L=0;L<s;L++){const F=i[L],K=Number(F>>BigInt(I)&x);T[K]=T[K].add(n[L])}let M=h;for(let L=T.length-1,F=h;L>0;L--)F=F.add(T[L]),M=M.add(F);if(B=B.add(M),I!==0)for(let L=0;L<_;L++)B=B.double()}return B}function io(r,t,n){if(t){if(t.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return sa(t),t}else return Ke(r,{isLE:n})}function oo(r,t,n={},i){if(i===void 0&&(i=r==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${r} CURVE object`);for(const _ of["p","n","h"]){const x=t[_];if(!(typeof x=="bigint"&&x>er))throw new Error(`CURVE.${_} must be positive bigint`)}const f=io(t.p,n.Fp,i),s=io(t.n,n.Fn,i),l=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const _ of l)if(!f.isValid(t[_]))throw new Error(`CURVE.${_} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:f,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ue=BigInt(0),ee=BigInt(1),An=BigInt(2),la=BigInt(8);function da(r,t,n,i){const f=r.sqr(n),s=r.sqr(i),h=r.add(r.mul(t.a,f),s),l=r.add(r.ONE,r.mul(t.d,r.mul(f,s)));return r.eql(h,l)}function pa(r,t={}){const n=oo("edwards",r,t,t.FpFnLE),{Fp:i,Fn:f}=n;let s=n.CURVE;const{h}=s;mr(t,{},{uvRatio:"function"});const l=An<<BigInt(f.BYTES*8)-ee,_=F=>i.create(F),x=t.uvRatio||((F,K)=>{try{return{isValid:!0,value:i.sqrt(i.div(F,K))}}catch{return{isValid:!1,value:Ue}}});if(!da(i,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function T(F,K,G=!1){const z=G?ee:Ue;return yn("coordinate "+F,K,z,l),K}function C(F){if(!(F instanceof M))throw new Error("ExtendedPoint expected")}const B=Ur((F,K)=>{const{X:G,Y:z,Z:W}=F,Z=F.is0();K==null&&(K=Z?la:i.inv(W));const nt=_(G*K),ft=_(z*K),ut=i.mul(W,K);if(Z)return{x:Ue,y:ee};if(ut!==ee)throw new Error("invZ was invalid");return{x:nt,y:ft}}),I=Ur(F=>{const{a:K,d:G}=s;if(F.is0())throw new Error("bad point: ZERO");const{X:z,Y:W,Z,T:nt}=F,ft=_(z*z),ut=_(W*W),k=_(Z*Z),P=_(k*k),V=_(ft*K),H=_(k*_(V+ut)),E=_(P+_(G*_(ft*ut)));if(H!==E)throw new Error("bad point: equation left != right (1)");const a=_(z*W),p=_(Z*nt);if(a!==p)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(K,G,z,W){this.X=T("x",K),this.Y=T("y",G),this.Z=T("z",z,!0),this.T=T("t",W),Object.freeze(this)}static CURVE(){return s}static fromAffine(K){if(K instanceof M)throw new Error("extended point not allowed");const{x:G,y:z}=K||{};return T("x",G),T("y",z),new M(G,z,ee,_(G*z))}static fromBytes(K,G=!1){const z=i.BYTES,{a:W,d:Z}=s;K=Fi(_e(K,z,"point")),ze(G,"zip215");const nt=Fi(K),ft=K[z-1];nt[z-1]=ft&-129;const ut=yr(nt),k=G?l:i.ORDER;yn("point.y",ut,Ue,k);const P=_(ut*ut),V=_(P-ee),H=_(Z*P-W);let{isValid:E,value:a}=x(V,H);if(!E)throw new Error("bad point: invalid y coordinate");const p=(a&ee)===ee,y=(ft&128)!==0;if(!G&&a===Ue&&y)throw new Error("bad point: x=0 and x_0=1");return y!==p&&(a=_(-a)),M.fromAffine({x:a,y:ut})}static fromHex(K,G=!1){return M.fromBytes(Bt("point",K),G)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(K=8,G=!0){return L.createCache(this,K),G||this.multiply(An),this}assertValidity(){I(this)}equals(K){C(K);const{X:G,Y:z,Z:W}=this,{X:Z,Y:nt,Z:ft}=K,ut=_(G*ft),k=_(Z*W),P=_(z*ft),V=_(nt*W);return ut===k&&P===V}is0(){return this.equals(M.ZERO)}negate(){return new M(_(-this.X),this.Y,this.Z,_(-this.T))}double(){const{a:K}=s,{X:G,Y:z,Z:W}=this,Z=_(G*G),nt=_(z*z),ft=_(An*_(W*W)),ut=_(K*Z),k=G+z,P=_(_(k*k)-Z-nt),V=ut+nt,H=V-ft,E=ut-nt,a=_(P*H),p=_(V*E),y=_(P*E),A=_(H*V);return new M(a,p,A,y)}add(K){C(K);const{a:G,d:z}=s,{X:W,Y:Z,Z:nt,T:ft}=this,{X:ut,Y:k,Z:P,T:V}=K,H=_(W*ut),E=_(Z*k),a=_(ft*z*V),p=_(nt*P),y=_((W+Z)*(ut+k)-H-E),A=p-a,v=p+a,O=_(E-G*H),D=_(y*A),R=_(v*O),c=_(y*O),d=_(A*v);return new M(D,R,d,c)}subtract(K){return this.add(K.negate())}multiply(K){if(!f.isValidNot0(K))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:G,f:z}=L.cached(this,K,W=>qe(M,W));return qe(M,[G,z])[0]}multiplyUnsafe(K,G=M.ZERO){if(!f.isValid(K))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return K===Ue?M.ZERO:this.is0()||K===ee?this:L.unsafe(this,K,z=>qe(M,z),G)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return L.unsafe(this,s.n).is0()}toAffine(K){return B(this,K)}clearCofactor(){return h===ee?this:this.multiplyUnsafe(h)}toBytes(){const{x:K,y:G}=this.toAffine(),z=i.toBytes(G);return z[z.length-1]|=K&ee?128:0,z}toHex(){return Pe(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(K){return qe(M,K)}static msm(K,G){return no(M,f,K,G)}_setWindowSize(K){this.precompute(K)}toRawBytes(){return this.toBytes()}}M.BASE=new M(s.Gx,s.Gy,ee,_(s.Gx*s.Gy)),M.ZERO=new M(Ue,ee,ee,Ue),M.Fp=i,M.Fn=f;const L=new ro(M,f.BITS);return M.BASE.precompute(8),M}function ga(r,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');mr(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:f,Fp:s,Fn:h}=r,l=n.randomBytes||ln,_=n.adjustScalarBytes||(k=>k),x=n.domain||((k,P,V)=>{if(ze(V,"phflag"),P.length||V)throw new Error("Contexts/pre-hash are not supported");return k});function T(k){return h.create(yr(k))}function C(k){const P=z.secretKey;k=Bt("private key",k,P);const V=Bt("hashed private key",t(k),2*P),H=_(V.slice(0,P)),E=V.slice(P,2*P),a=T(H);return{head:H,prefix:E,scalar:a}}function B(k){const{head:P,prefix:V,scalar:H}=C(k),E=f.multiply(H),a=E.toBytes();return{head:P,prefix:V,scalar:H,point:E,pointBytes:a}}function I(k){return B(k).pointBytes}function M(k=Uint8Array.of(),...P){const V=we(...P);return T(t(x(V,Bt("context",k),!!i)))}function L(k,P,V={}){k=Bt("message",k),i&&(k=i(k));const{prefix:H,scalar:E,pointBytes:a}=B(P),p=M(V.context,H,k),y=f.multiply(p).toBytes(),A=M(V.context,y,a,k),v=h.create(p+A*E);if(!h.isValid(v))throw new Error("sign failed: invalid s");const O=we(y,h.toBytes(v));return _e(O,z.signature,"result")}const F={zip215:!0};function K(k,P,V,H=F){const{context:E,zip215:a}=H,p=z.signature;k=Bt("signature",k,p),P=Bt("message",P),V=Bt("publicKey",V,z.publicKey),a!==void 0&&ze(a,"zip215"),i&&(P=i(P));const y=p/2,A=k.subarray(0,y),v=yr(k.subarray(y,p));let O,D,R;try{O=r.fromBytes(V,a),D=r.fromBytes(A,a),R=f.multiplyUnsafe(v)}catch{return!1}if(!a&&O.isSmallOrder())return!1;const c=M(E,D.toBytes(),O.toBytes(),P);return D.add(O.multiplyUnsafe(c)).subtract(R).clearCofactor().is0()}const G=s.BYTES,z={secretKey:G,publicKey:G,signature:2*G,seed:G};function W(k=l(z.seed)){return _e(k,z.seed,"seed")}function Z(k){const P=ut.randomSecretKey(k);return{secretKey:P,publicKey:I(P)}}function nt(k){return _r(k)&&k.length===h.BYTES}function ft(k,P){try{return!!r.fromBytes(k,P)}catch{return!1}}const ut={getExtendedPublicKey:B,randomSecretKey:W,isValidSecretKey:nt,isValidPublicKey:ft,toMontgomery(k){const{y:P}=r.fromBytes(k),V=z.publicKey,H=V===32;if(!H&&V!==57)throw new Error("only defined for 25519 and 448");const E=H?s.div(ee+P,ee-P):s.div(P-ee,P+ee);return s.toBytes(E)},toMontgomerySecret(k){const P=z.secretKey;_e(k,P);const V=t(k.subarray(0,P));return _(V).subarray(0,P)},randomPrivateKey:W,precompute(k=8,P=r.BASE){return P.precompute(k,!1)}};return Object.freeze({keygen:Z,getPublicKey:I,sign:L,verify:K,utils:ut,Point:r,lengths:z})}function _a(r){const t={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},n=r.Fp,i=Ke(t.n,r.nBitLength,!0),f={Fp:n,Fn:i,uvRatio:r.uvRatio},s={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:t,curveOpts:f,hash:r.hash,eddsaOpts:s}}function ya(r,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:r,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Ea(r){const{CURVE:t,curveOpts:n,hash:i,eddsaOpts:f}=_a(r),s=pa(t,n),h=ga(s,i,f);return ya(r,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ma=BigInt(1),so=BigInt(2);BigInt(3);const wa=BigInt(5),Ra=BigInt(8),Sn=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ao={p:Sn,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ra,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Aa(r){const t=BigInt(10),n=BigInt(20),i=BigInt(40),f=BigInt(80),s=Sn,l=r*r%s*r%s,_=Mt(l,so,s)*l%s,x=Mt(_,ma,s)*r%s,T=Mt(x,wa,s)*x%s,C=Mt(T,t,s)*T%s,B=Mt(C,n,s)*C%s,I=Mt(B,i,s)*B%s,M=Mt(I,f,s)*I%s,L=Mt(M,f,s)*I%s,F=Mt(L,t,s)*T%s;return{pow_p_5_8:Mt(F,so,s)*r%s,b2:l}}function Sa(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const uo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Ia(r,t){const n=Sn,i=Ct(t*t*t,n),f=Ct(i*i*t,n),s=Aa(r*f).pow_p_5_8;let h=Ct(r*i*s,n);const l=Ct(t*h*h,n),_=h,x=Ct(h*uo,n),T=l===r,C=l===Ct(-r,n),B=l===Ct(-r*uo,n);return T&&(h=_),(C||B)&&(h=x),ia(h,n)&&(h=Ct(-h,n)),{isValid:T||C,value:h}}const va=Ke(ao.p,{isLE:!0}),xa={...ao,Fp:va,hash:Xs,adjustScalarBytes:Sa,uvRatio:Ia},wr=Ea(xa);var Fr={exports:{}};const ba=sn(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Oa=Fr.exports,co;function fo(){return co||(co=1,(function(r){(function(t,n){function i(E,a){if(!E)throw new Error(a||"Assertion failed")}function f(E,a){E.super_=a;var p=function(){};p.prototype=a.prototype,E.prototype=new p,E.prototype.constructor=E}function s(E,a,p){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(p=a,a=10),this._init(E||0,a||10,p||"be"))}typeof t=="object"?t.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=ba.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,p){return a.cmp(p)>0?a:p},s.min=function(a,p){return a.cmp(p)<0?a:p},s.prototype._init=function(a,p,y){if(typeof a=="number")return this._initNumber(a,p,y);if(typeof a=="object")return this._initArray(a,p,y);p==="hex"&&(p=16),i(p===(p|0)&&p>=2&&p<=36),a=a.toString().replace(/\s+/g,"");var A=0;a[0]==="-"&&(A++,this.negative=1),A<a.length&&(p===16?this._parseHex(a,A,y):(this._parseBase(a,p,A),y==="le"&&this._initArray(this.toArray(),p,y)))},s.prototype._initNumber=function(a,p,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(i(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),p,y)},s.prototype._initArray=function(a,p,y){if(i(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v,O,D=0;if(y==="be")for(A=a.length-1,v=0;A>=0;A-=3)O=a[A]|a[A-1]<<8|a[A-2]<<16,this.words[v]|=O<<D&67108863,this.words[v+1]=O>>>26-D&67108863,D+=24,D>=26&&(D-=26,v++);else if(y==="le")for(A=0,v=0;A<a.length;A+=3)O=a[A]|a[A+1]<<8|a[A+2]<<16,this.words[v]|=O<<D&67108863,this.words[v+1]=O>>>26-D&67108863,D+=24,D>=26&&(D-=26,v++);return this._strip()};function l(E,a){var p=E.charCodeAt(a);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;i(!1,"Invalid character in "+E)}function _(E,a,p){var y=l(E,p);return p-1>=a&&(y|=l(E,p-1)<<4),y}s.prototype._parseHex=function(a,p,y){this.length=Math.ceil((a.length-p)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v=0,O=0,D;if(y==="be")for(A=a.length-1;A>=p;A-=2)D=_(a,p,A)<<v,this.words[O]|=D&67108863,v>=18?(v-=18,O+=1,this.words[O]|=D>>>26):v+=8;else{var R=a.length-p;for(A=R%2===0?p+1:p;A<a.length;A+=2)D=_(a,p,A)<<v,this.words[O]|=D&67108863,v>=18?(v-=18,O+=1,this.words[O]|=D>>>26):v+=8}this._strip()};function x(E,a,p,y){for(var A=0,v=0,O=Math.min(E.length,p),D=a;D<O;D++){var R=E.charCodeAt(D)-48;A*=y,R>=49?v=R-49+10:R>=17?v=R-17+10:v=R,i(R>=0&&v<y,"Invalid character"),A+=v}return A}s.prototype._parseBase=function(a,p,y){this.words=[0],this.length=1;for(var A=0,v=1;v<=67108863;v*=p)A++;A--,v=v/p|0;for(var O=a.length-y,D=O%A,R=Math.min(O,O-D)+y,c=0,d=y;d<R;d+=A)c=x(a,d,d+A,p),this.imuln(v),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(D!==0){var w=1;for(c=x(a,d,a.length,p),d=0;d<D;d++)w*=p;this.imuln(w),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var p=0;p<this.length;p++)a.words[p]=this.words[p];a.length=this.length,a.negative=this.negative,a.red=this.red};function T(E,a){E.words=a.words,E.length=a.length,E.negative=a.negative,E.red=a.red}if(s.prototype._move=function(a){T(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{s.prototype.inspect=C}else s.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,p){a=a||10,p=p|0||1;var y;if(a===16||a==="hex"){y="";for(var A=0,v=0,O=0;O<this.length;O++){var D=this.words[O],R=((D<<A|v)&16777215).toString(16);v=D>>>24-A&16777215,A+=2,A>=26&&(A-=26,O--),v!==0||O!==this.length-1?y=B[6-R.length]+R+y:y=R+y}for(v!==0&&(y=v.toString(16)+y);y.length%p!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(a===(a|0)&&a>=2&&a<=36){var c=I[a],d=M[a];y="";var w=this.clone();for(w.negative=0;!w.isZero();){var b=w.modrn(d).toString(a);w=w.idivn(d),w.isZero()?y=b+y:y=B[c-b.length]+b+y}for(this.isZero()&&(y="0"+y);y.length%p!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(a,p){return this.toArrayLike(h,a,p)}),s.prototype.toArray=function(a,p){return this.toArrayLike(Array,a,p)};var L=function(a,p){return a.allocUnsafe?a.allocUnsafe(p):new a(p)};s.prototype.toArrayLike=function(a,p,y){this._strip();var A=this.byteLength(),v=y||Math.max(1,A);i(A<=v,"byte array longer than desired length"),i(v>0,"Requested array length <= 0");var O=L(a,v),D=p==="le"?"LE":"BE";return this["_toArrayLike"+D](O,A),O},s.prototype._toArrayLikeLE=function(a,p){for(var y=0,A=0,v=0,O=0;v<this.length;v++){var D=this.words[v]<<O|A;a[y++]=D&255,y<a.length&&(a[y++]=D>>8&255),y<a.length&&(a[y++]=D>>16&255),O===6?(y<a.length&&(a[y++]=D>>24&255),A=0,O=0):(A=D>>>24,O+=2)}if(y<a.length)for(a[y++]=A;y<a.length;)a[y++]=0},s.prototype._toArrayLikeBE=function(a,p){for(var y=a.length-1,A=0,v=0,O=0;v<this.length;v++){var D=this.words[v]<<O|A;a[y--]=D&255,y>=0&&(a[y--]=D>>8&255),y>=0&&(a[y--]=D>>16&255),O===6?(y>=0&&(a[y--]=D>>24&255),A=0,O=0):(A=D>>>24,O+=2)}if(y>=0)for(a[y--]=A;y>=0;)a[y--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var p=a,y=0;return p>=4096&&(y+=13,p>>>=13),p>=64&&(y+=7,p>>>=7),p>=8&&(y+=4,p>>>=4),p>=2&&(y+=2,p>>>=2),y+p},s.prototype._zeroBits=function(a){if(a===0)return 26;var p=a,y=0;return(p&8191)===0&&(y+=13,p>>>=13),(p&127)===0&&(y+=7,p>>>=7),(p&15)===0&&(y+=4,p>>>=4),(p&3)===0&&(y+=2,p>>>=2),(p&1)===0&&y++,y},s.prototype.bitLength=function(){var a=this.words[this.length-1],p=this._countBits(a);return(this.length-1)*26+p};function F(E){for(var a=new Array(E.bitLength()),p=0;p<a.length;p++){var y=p/26|0,A=p%26;a[p]=E.words[y]>>>A&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,p=0;p<this.length;p++){var y=this._zeroBits(this.words[p]);if(a+=y,y!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var p=0;p<a.length;p++)this.words[p]=this.words[p]|a.words[p];return this._strip()},s.prototype.ior=function(a){return i((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var p;this.length>a.length?p=a:p=this;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=p.length,this._strip()},s.prototype.iand=function(a){return i((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var A=0;A<y.length;A++)this.words[A]=p.words[A]^y.words[A];if(this!==p)for(;A<p.length;A++)this.words[A]=p.words[A];return this.length=p.length,this._strip()},s.prototype.ixor=function(a){return i((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){i(typeof a=="number"&&a>=0);var p=Math.ceil(a/26)|0,y=a%26;this._expand(p),y>0&&p--;for(var A=0;A<p;A++)this.words[A]=~this.words[A]&67108863;return y>0&&(this.words[A]=~this.words[A]&67108863>>26-y),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,p){i(typeof a=="number"&&a>=0);var y=a/26|0,A=a%26;return this._expand(y+1),p?this.words[y]=this.words[y]|1<<A:this.words[y]=this.words[y]&~(1<<A),this._strip()},s.prototype.iadd=function(a){var p;if(this.negative!==0&&a.negative===0)return this.negative=0,p=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,p=this.isub(a),a.negative=1,p._normSign();var y,A;this.length>a.length?(y=this,A=a):(y=a,A=this);for(var v=0,O=0;O<A.length;O++)p=(y.words[O]|0)+(A.words[O]|0)+v,this.words[O]=p&67108863,v=p>>>26;for(;v!==0&&O<y.length;O++)p=(y.words[O]|0)+v,this.words[O]=p&67108863,v=p>>>26;if(this.length=y.length,v!==0)this.words[this.length]=v,this.length++;else if(y!==this)for(;O<y.length;O++)this.words[O]=y.words[O];return this},s.prototype.add=function(a){var p;return a.negative!==0&&this.negative===0?(a.negative=0,p=this.sub(a),a.negative^=1,p):a.negative===0&&this.negative!==0?(this.negative=0,p=a.sub(this),this.negative=1,p):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var p=this.iadd(a);return a.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var y=this.cmp(a);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,v;y>0?(A=this,v=a):(A=a,v=this);for(var O=0,D=0;D<v.length;D++)p=(A.words[D]|0)-(v.words[D]|0)+O,O=p>>26,this.words[D]=p&67108863;for(;O!==0&&D<A.length;D++)p=(A.words[D]|0)+O,O=p>>26,this.words[D]=p&67108863;if(O===0&&D<A.length&&A!==this)for(;D<A.length;D++)this.words[D]=A.words[D];return this.length=Math.max(this.length,D),A!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function K(E,a,p){p.negative=a.negative^E.negative;var y=E.length+a.length|0;p.length=y,y=y-1|0;var A=E.words[0]|0,v=a.words[0]|0,O=A*v,D=O&67108863,R=O/67108864|0;p.words[0]=D;for(var c=1;c<y;c++){for(var d=R>>>26,w=R&67108863,b=Math.min(c,a.length-1),$=Math.max(0,c-E.length+1);$<=b;$++){var Y=c-$|0;A=E.words[Y]|0,v=a.words[$]|0,O=A*v+w,d+=O/67108864|0,w=O&67108863}p.words[c]=w|0,R=d|0}return R!==0?p.words[c]=R|0:p.length--,p._strip()}var G=function(a,p,y){var A=a.words,v=p.words,O=y.words,D=0,R,c,d,w=A[0]|0,b=w&8191,$=w>>>13,Y=A[1]|0,J=Y&8191,rt=Y>>>13,gt=A[2]|0,_t=gt&8191,wt=gt>>>13,te=A[3]|0,yt=te&8191,vt=te>>>13,dr=A[4]|0,Rt=dr&8191,xt=dr>>>13,pr=A[5]|0,It=pr&8191,Et=pr>>>13,bt=A[6]|0,At=bt&8191,Ot=bt>>>13,Ut=A[7]|0,Nt=Ut&8191,u=Ut>>>13,e=A[8]|0,o=e&8191,g=e>>>13,m=A[9]|0,S=m&8191,N=m>>>13,tt=v[0]|0,at=tt&8191,it=tt>>>13,ht=v[1]|0,et=ht&8191,Dt=ht>>>13,Rs=v[2]|0,Ft=Rs&8191,kt=Rs>>>13,As=v[3]|0,Pt=As&8191,zt=As>>>13,Ss=v[4]|0,$t=Ss&8191,Kt=Ss>>>13,Is=v[5]|0,Vt=Is&8191,qt=Is>>>13,vs=v[6]|0,Gt=vs&8191,jt=vs>>>13,xs=v[7]|0,Ht=xs&8191,Yt=xs>>>13,bs=v[8]|0,Zt=bs&8191,Xt=bs>>>13,Os=v[9]|0,Wt=Os&8191,Jt=Os>>>13;y.negative=a.negative^p.negative,y.length=19,R=Math.imul(b,at),c=Math.imul(b,it),c=c+Math.imul($,at)|0,d=Math.imul($,it);var ri=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(ri>>>26)|0,ri&=67108863,R=Math.imul(J,at),c=Math.imul(J,it),c=c+Math.imul(rt,at)|0,d=Math.imul(rt,it),R=R+Math.imul(b,et)|0,c=c+Math.imul(b,Dt)|0,c=c+Math.imul($,et)|0,d=d+Math.imul($,Dt)|0;var ni=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,R=Math.imul(_t,at),c=Math.imul(_t,it),c=c+Math.imul(wt,at)|0,d=Math.imul(wt,it),R=R+Math.imul(J,et)|0,c=c+Math.imul(J,Dt)|0,c=c+Math.imul(rt,et)|0,d=d+Math.imul(rt,Dt)|0,R=R+Math.imul(b,Ft)|0,c=c+Math.imul(b,kt)|0,c=c+Math.imul($,Ft)|0,d=d+Math.imul($,kt)|0;var ii=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(ii>>>26)|0,ii&=67108863,R=Math.imul(yt,at),c=Math.imul(yt,it),c=c+Math.imul(vt,at)|0,d=Math.imul(vt,it),R=R+Math.imul(_t,et)|0,c=c+Math.imul(_t,Dt)|0,c=c+Math.imul(wt,et)|0,d=d+Math.imul(wt,Dt)|0,R=R+Math.imul(J,Ft)|0,c=c+Math.imul(J,kt)|0,c=c+Math.imul(rt,Ft)|0,d=d+Math.imul(rt,kt)|0,R=R+Math.imul(b,Pt)|0,c=c+Math.imul(b,zt)|0,c=c+Math.imul($,Pt)|0,d=d+Math.imul($,zt)|0;var oi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(oi>>>26)|0,oi&=67108863,R=Math.imul(Rt,at),c=Math.imul(Rt,it),c=c+Math.imul(xt,at)|0,d=Math.imul(xt,it),R=R+Math.imul(yt,et)|0,c=c+Math.imul(yt,Dt)|0,c=c+Math.imul(vt,et)|0,d=d+Math.imul(vt,Dt)|0,R=R+Math.imul(_t,Ft)|0,c=c+Math.imul(_t,kt)|0,c=c+Math.imul(wt,Ft)|0,d=d+Math.imul(wt,kt)|0,R=R+Math.imul(J,Pt)|0,c=c+Math.imul(J,zt)|0,c=c+Math.imul(rt,Pt)|0,d=d+Math.imul(rt,zt)|0,R=R+Math.imul(b,$t)|0,c=c+Math.imul(b,Kt)|0,c=c+Math.imul($,$t)|0,d=d+Math.imul($,Kt)|0;var si=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(si>>>26)|0,si&=67108863,R=Math.imul(It,at),c=Math.imul(It,it),c=c+Math.imul(Et,at)|0,d=Math.imul(Et,it),R=R+Math.imul(Rt,et)|0,c=c+Math.imul(Rt,Dt)|0,c=c+Math.imul(xt,et)|0,d=d+Math.imul(xt,Dt)|0,R=R+Math.imul(yt,Ft)|0,c=c+Math.imul(yt,kt)|0,c=c+Math.imul(vt,Ft)|0,d=d+Math.imul(vt,kt)|0,R=R+Math.imul(_t,Pt)|0,c=c+Math.imul(_t,zt)|0,c=c+Math.imul(wt,Pt)|0,d=d+Math.imul(wt,zt)|0,R=R+Math.imul(J,$t)|0,c=c+Math.imul(J,Kt)|0,c=c+Math.imul(rt,$t)|0,d=d+Math.imul(rt,Kt)|0,R=R+Math.imul(b,Vt)|0,c=c+Math.imul(b,qt)|0,c=c+Math.imul($,Vt)|0,d=d+Math.imul($,qt)|0;var ai=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(ai>>>26)|0,ai&=67108863,R=Math.imul(At,at),c=Math.imul(At,it),c=c+Math.imul(Ot,at)|0,d=Math.imul(Ot,it),R=R+Math.imul(It,et)|0,c=c+Math.imul(It,Dt)|0,c=c+Math.imul(Et,et)|0,d=d+Math.imul(Et,Dt)|0,R=R+Math.imul(Rt,Ft)|0,c=c+Math.imul(Rt,kt)|0,c=c+Math.imul(xt,Ft)|0,d=d+Math.imul(xt,kt)|0,R=R+Math.imul(yt,Pt)|0,c=c+Math.imul(yt,zt)|0,c=c+Math.imul(vt,Pt)|0,d=d+Math.imul(vt,zt)|0,R=R+Math.imul(_t,$t)|0,c=c+Math.imul(_t,Kt)|0,c=c+Math.imul(wt,$t)|0,d=d+Math.imul(wt,Kt)|0,R=R+Math.imul(J,Vt)|0,c=c+Math.imul(J,qt)|0,c=c+Math.imul(rt,Vt)|0,d=d+Math.imul(rt,qt)|0,R=R+Math.imul(b,Gt)|0,c=c+Math.imul(b,jt)|0,c=c+Math.imul($,Gt)|0,d=d+Math.imul($,jt)|0;var ui=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(ui>>>26)|0,ui&=67108863,R=Math.imul(Nt,at),c=Math.imul(Nt,it),c=c+Math.imul(u,at)|0,d=Math.imul(u,it),R=R+Math.imul(At,et)|0,c=c+Math.imul(At,Dt)|0,c=c+Math.imul(Ot,et)|0,d=d+Math.imul(Ot,Dt)|0,R=R+Math.imul(It,Ft)|0,c=c+Math.imul(It,kt)|0,c=c+Math.imul(Et,Ft)|0,d=d+Math.imul(Et,kt)|0,R=R+Math.imul(Rt,Pt)|0,c=c+Math.imul(Rt,zt)|0,c=c+Math.imul(xt,Pt)|0,d=d+Math.imul(xt,zt)|0,R=R+Math.imul(yt,$t)|0,c=c+Math.imul(yt,Kt)|0,c=c+Math.imul(vt,$t)|0,d=d+Math.imul(vt,Kt)|0,R=R+Math.imul(_t,Vt)|0,c=c+Math.imul(_t,qt)|0,c=c+Math.imul(wt,Vt)|0,d=d+Math.imul(wt,qt)|0,R=R+Math.imul(J,Gt)|0,c=c+Math.imul(J,jt)|0,c=c+Math.imul(rt,Gt)|0,d=d+Math.imul(rt,jt)|0,R=R+Math.imul(b,Ht)|0,c=c+Math.imul(b,Yt)|0,c=c+Math.imul($,Ht)|0,d=d+Math.imul($,Yt)|0;var ci=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(ci>>>26)|0,ci&=67108863,R=Math.imul(o,at),c=Math.imul(o,it),c=c+Math.imul(g,at)|0,d=Math.imul(g,it),R=R+Math.imul(Nt,et)|0,c=c+Math.imul(Nt,Dt)|0,c=c+Math.imul(u,et)|0,d=d+Math.imul(u,Dt)|0,R=R+Math.imul(At,Ft)|0,c=c+Math.imul(At,kt)|0,c=c+Math.imul(Ot,Ft)|0,d=d+Math.imul(Ot,kt)|0,R=R+Math.imul(It,Pt)|0,c=c+Math.imul(It,zt)|0,c=c+Math.imul(Et,Pt)|0,d=d+Math.imul(Et,zt)|0,R=R+Math.imul(Rt,$t)|0,c=c+Math.imul(Rt,Kt)|0,c=c+Math.imul(xt,$t)|0,d=d+Math.imul(xt,Kt)|0,R=R+Math.imul(yt,Vt)|0,c=c+Math.imul(yt,qt)|0,c=c+Math.imul(vt,Vt)|0,d=d+Math.imul(vt,qt)|0,R=R+Math.imul(_t,Gt)|0,c=c+Math.imul(_t,jt)|0,c=c+Math.imul(wt,Gt)|0,d=d+Math.imul(wt,jt)|0,R=R+Math.imul(J,Ht)|0,c=c+Math.imul(J,Yt)|0,c=c+Math.imul(rt,Ht)|0,d=d+Math.imul(rt,Yt)|0,R=R+Math.imul(b,Zt)|0,c=c+Math.imul(b,Xt)|0,c=c+Math.imul($,Zt)|0,d=d+Math.imul($,Xt)|0;var fi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(fi>>>26)|0,fi&=67108863,R=Math.imul(S,at),c=Math.imul(S,it),c=c+Math.imul(N,at)|0,d=Math.imul(N,it),R=R+Math.imul(o,et)|0,c=c+Math.imul(o,Dt)|0,c=c+Math.imul(g,et)|0,d=d+Math.imul(g,Dt)|0,R=R+Math.imul(Nt,Ft)|0,c=c+Math.imul(Nt,kt)|0,c=c+Math.imul(u,Ft)|0,d=d+Math.imul(u,kt)|0,R=R+Math.imul(At,Pt)|0,c=c+Math.imul(At,zt)|0,c=c+Math.imul(Ot,Pt)|0,d=d+Math.imul(Ot,zt)|0,R=R+Math.imul(It,$t)|0,c=c+Math.imul(It,Kt)|0,c=c+Math.imul(Et,$t)|0,d=d+Math.imul(Et,Kt)|0,R=R+Math.imul(Rt,Vt)|0,c=c+Math.imul(Rt,qt)|0,c=c+Math.imul(xt,Vt)|0,d=d+Math.imul(xt,qt)|0,R=R+Math.imul(yt,Gt)|0,c=c+Math.imul(yt,jt)|0,c=c+Math.imul(vt,Gt)|0,d=d+Math.imul(vt,jt)|0,R=R+Math.imul(_t,Ht)|0,c=c+Math.imul(_t,Yt)|0,c=c+Math.imul(wt,Ht)|0,d=d+Math.imul(wt,Yt)|0,R=R+Math.imul(J,Zt)|0,c=c+Math.imul(J,Xt)|0,c=c+Math.imul(rt,Zt)|0,d=d+Math.imul(rt,Xt)|0,R=R+Math.imul(b,Wt)|0,c=c+Math.imul(b,Jt)|0,c=c+Math.imul($,Wt)|0,d=d+Math.imul($,Jt)|0;var hi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(hi>>>26)|0,hi&=67108863,R=Math.imul(S,et),c=Math.imul(S,Dt),c=c+Math.imul(N,et)|0,d=Math.imul(N,Dt),R=R+Math.imul(o,Ft)|0,c=c+Math.imul(o,kt)|0,c=c+Math.imul(g,Ft)|0,d=d+Math.imul(g,kt)|0,R=R+Math.imul(Nt,Pt)|0,c=c+Math.imul(Nt,zt)|0,c=c+Math.imul(u,Pt)|0,d=d+Math.imul(u,zt)|0,R=R+Math.imul(At,$t)|0,c=c+Math.imul(At,Kt)|0,c=c+Math.imul(Ot,$t)|0,d=d+Math.imul(Ot,Kt)|0,R=R+Math.imul(It,Vt)|0,c=c+Math.imul(It,qt)|0,c=c+Math.imul(Et,Vt)|0,d=d+Math.imul(Et,qt)|0,R=R+Math.imul(Rt,Gt)|0,c=c+Math.imul(Rt,jt)|0,c=c+Math.imul(xt,Gt)|0,d=d+Math.imul(xt,jt)|0,R=R+Math.imul(yt,Ht)|0,c=c+Math.imul(yt,Yt)|0,c=c+Math.imul(vt,Ht)|0,d=d+Math.imul(vt,Yt)|0,R=R+Math.imul(_t,Zt)|0,c=c+Math.imul(_t,Xt)|0,c=c+Math.imul(wt,Zt)|0,d=d+Math.imul(wt,Xt)|0,R=R+Math.imul(J,Wt)|0,c=c+Math.imul(J,Jt)|0,c=c+Math.imul(rt,Wt)|0,d=d+Math.imul(rt,Jt)|0;var li=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(li>>>26)|0,li&=67108863,R=Math.imul(S,Ft),c=Math.imul(S,kt),c=c+Math.imul(N,Ft)|0,d=Math.imul(N,kt),R=R+Math.imul(o,Pt)|0,c=c+Math.imul(o,zt)|0,c=c+Math.imul(g,Pt)|0,d=d+Math.imul(g,zt)|0,R=R+Math.imul(Nt,$t)|0,c=c+Math.imul(Nt,Kt)|0,c=c+Math.imul(u,$t)|0,d=d+Math.imul(u,Kt)|0,R=R+Math.imul(At,Vt)|0,c=c+Math.imul(At,qt)|0,c=c+Math.imul(Ot,Vt)|0,d=d+Math.imul(Ot,qt)|0,R=R+Math.imul(It,Gt)|0,c=c+Math.imul(It,jt)|0,c=c+Math.imul(Et,Gt)|0,d=d+Math.imul(Et,jt)|0,R=R+Math.imul(Rt,Ht)|0,c=c+Math.imul(Rt,Yt)|0,c=c+Math.imul(xt,Ht)|0,d=d+Math.imul(xt,Yt)|0,R=R+Math.imul(yt,Zt)|0,c=c+Math.imul(yt,Xt)|0,c=c+Math.imul(vt,Zt)|0,d=d+Math.imul(vt,Xt)|0,R=R+Math.imul(_t,Wt)|0,c=c+Math.imul(_t,Jt)|0,c=c+Math.imul(wt,Wt)|0,d=d+Math.imul(wt,Jt)|0;var di=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(di>>>26)|0,di&=67108863,R=Math.imul(S,Pt),c=Math.imul(S,zt),c=c+Math.imul(N,Pt)|0,d=Math.imul(N,zt),R=R+Math.imul(o,$t)|0,c=c+Math.imul(o,Kt)|0,c=c+Math.imul(g,$t)|0,d=d+Math.imul(g,Kt)|0,R=R+Math.imul(Nt,Vt)|0,c=c+Math.imul(Nt,qt)|0,c=c+Math.imul(u,Vt)|0,d=d+Math.imul(u,qt)|0,R=R+Math.imul(At,Gt)|0,c=c+Math.imul(At,jt)|0,c=c+Math.imul(Ot,Gt)|0,d=d+Math.imul(Ot,jt)|0,R=R+Math.imul(It,Ht)|0,c=c+Math.imul(It,Yt)|0,c=c+Math.imul(Et,Ht)|0,d=d+Math.imul(Et,Yt)|0,R=R+Math.imul(Rt,Zt)|0,c=c+Math.imul(Rt,Xt)|0,c=c+Math.imul(xt,Zt)|0,d=d+Math.imul(xt,Xt)|0,R=R+Math.imul(yt,Wt)|0,c=c+Math.imul(yt,Jt)|0,c=c+Math.imul(vt,Wt)|0,d=d+Math.imul(vt,Jt)|0;var pi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(pi>>>26)|0,pi&=67108863,R=Math.imul(S,$t),c=Math.imul(S,Kt),c=c+Math.imul(N,$t)|0,d=Math.imul(N,Kt),R=R+Math.imul(o,Vt)|0,c=c+Math.imul(o,qt)|0,c=c+Math.imul(g,Vt)|0,d=d+Math.imul(g,qt)|0,R=R+Math.imul(Nt,Gt)|0,c=c+Math.imul(Nt,jt)|0,c=c+Math.imul(u,Gt)|0,d=d+Math.imul(u,jt)|0,R=R+Math.imul(At,Ht)|0,c=c+Math.imul(At,Yt)|0,c=c+Math.imul(Ot,Ht)|0,d=d+Math.imul(Ot,Yt)|0,R=R+Math.imul(It,Zt)|0,c=c+Math.imul(It,Xt)|0,c=c+Math.imul(Et,Zt)|0,d=d+Math.imul(Et,Xt)|0,R=R+Math.imul(Rt,Wt)|0,c=c+Math.imul(Rt,Jt)|0,c=c+Math.imul(xt,Wt)|0,d=d+Math.imul(xt,Jt)|0;var gi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,R=Math.imul(S,Vt),c=Math.imul(S,qt),c=c+Math.imul(N,Vt)|0,d=Math.imul(N,qt),R=R+Math.imul(o,Gt)|0,c=c+Math.imul(o,jt)|0,c=c+Math.imul(g,Gt)|0,d=d+Math.imul(g,jt)|0,R=R+Math.imul(Nt,Ht)|0,c=c+Math.imul(Nt,Yt)|0,c=c+Math.imul(u,Ht)|0,d=d+Math.imul(u,Yt)|0,R=R+Math.imul(At,Zt)|0,c=c+Math.imul(At,Xt)|0,c=c+Math.imul(Ot,Zt)|0,d=d+Math.imul(Ot,Xt)|0,R=R+Math.imul(It,Wt)|0,c=c+Math.imul(It,Jt)|0,c=c+Math.imul(Et,Wt)|0,d=d+Math.imul(Et,Jt)|0;var _i=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(_i>>>26)|0,_i&=67108863,R=Math.imul(S,Gt),c=Math.imul(S,jt),c=c+Math.imul(N,Gt)|0,d=Math.imul(N,jt),R=R+Math.imul(o,Ht)|0,c=c+Math.imul(o,Yt)|0,c=c+Math.imul(g,Ht)|0,d=d+Math.imul(g,Yt)|0,R=R+Math.imul(Nt,Zt)|0,c=c+Math.imul(Nt,Xt)|0,c=c+Math.imul(u,Zt)|0,d=d+Math.imul(u,Xt)|0,R=R+Math.imul(At,Wt)|0,c=c+Math.imul(At,Jt)|0,c=c+Math.imul(Ot,Wt)|0,d=d+Math.imul(Ot,Jt)|0;var yi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,R=Math.imul(S,Ht),c=Math.imul(S,Yt),c=c+Math.imul(N,Ht)|0,d=Math.imul(N,Yt),R=R+Math.imul(o,Zt)|0,c=c+Math.imul(o,Xt)|0,c=c+Math.imul(g,Zt)|0,d=d+Math.imul(g,Xt)|0,R=R+Math.imul(Nt,Wt)|0,c=c+Math.imul(Nt,Jt)|0,c=c+Math.imul(u,Wt)|0,d=d+Math.imul(u,Jt)|0;var Ei=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,R=Math.imul(S,Zt),c=Math.imul(S,Xt),c=c+Math.imul(N,Zt)|0,d=Math.imul(N,Xt),R=R+Math.imul(o,Wt)|0,c=c+Math.imul(o,Jt)|0,c=c+Math.imul(g,Wt)|0,d=d+Math.imul(g,Jt)|0;var mi=(D+R|0)+((c&8191)<<13)|0;D=(d+(c>>>13)|0)+(mi>>>26)|0,mi&=67108863,R=Math.imul(S,Wt),c=Math.imul(S,Jt),c=c+Math.imul(N,Wt)|0,d=Math.imul(N,Jt);var wi=(D+R|0)+((c&8191)<<13)|0;return D=(d+(c>>>13)|0)+(wi>>>26)|0,wi&=67108863,O[0]=ri,O[1]=ni,O[2]=ii,O[3]=oi,O[4]=si,O[5]=ai,O[6]=ui,O[7]=ci,O[8]=fi,O[9]=hi,O[10]=li,O[11]=di,O[12]=pi,O[13]=gi,O[14]=_i,O[15]=yi,O[16]=Ei,O[17]=mi,O[18]=wi,D!==0&&(O[19]=D,y.length++),y};Math.imul||(G=K);function z(E,a,p){p.negative=a.negative^E.negative,p.length=E.length+a.length;for(var y=0,A=0,v=0;v<p.length-1;v++){var O=A;A=0;for(var D=y&67108863,R=Math.min(v,a.length-1),c=Math.max(0,v-E.length+1);c<=R;c++){var d=v-c,w=E.words[d]|0,b=a.words[c]|0,$=w*b,Y=$&67108863;O=O+($/67108864|0)|0,Y=Y+D|0,D=Y&67108863,O=O+(Y>>>26)|0,A+=O>>>26,O&=67108863}p.words[v]=D,y=O,O=A}return y!==0?p.words[v]=y:p.length--,p._strip()}function W(E,a,p){return z(E,a,p)}s.prototype.mulTo=function(a,p){var y,A=this.length+a.length;return this.length===10&&a.length===10?y=G(this,a,p):A<63?y=K(this,a,p):A<1024?y=z(this,a,p):y=W(this,a,p),y},s.prototype.mul=function(a){var p=new s(null);return p.words=new Array(this.length+a.length),this.mulTo(a,p)},s.prototype.mulf=function(a){var p=new s(null);return p.words=new Array(this.length+a.length),W(this,a,p)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var p=a<0;p&&(a=-a),i(typeof a=="number"),i(a<67108864);for(var y=0,A=0;A<this.length;A++){var v=(this.words[A]|0)*a,O=(v&67108863)+(y&67108863);y>>=26,y+=v/67108864|0,y+=O>>>26,this.words[A]=O&67108863}return y!==0&&(this.words[A]=y,this.length++),this.length=a===0?1:this.length,p?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var p=F(a);if(p.length===0)return new s(1);for(var y=this,A=0;A<p.length&&p[A]===0;A++,y=y.sqr());if(++A<p.length)for(var v=y.sqr();A<p.length;A++,v=v.sqr())p[A]!==0&&(y=y.mul(v));return y},s.prototype.iushln=function(a){i(typeof a=="number"&&a>=0);var p=a%26,y=(a-p)/26,A=67108863>>>26-p<<26-p,v;if(p!==0){var O=0;for(v=0;v<this.length;v++){var D=this.words[v]&A,R=(this.words[v]|0)-D<<p;this.words[v]=R|O,O=D>>>26-p}O&&(this.words[v]=O,this.length++)}if(y!==0){for(v=this.length-1;v>=0;v--)this.words[v+y]=this.words[v];for(v=0;v<y;v++)this.words[v]=0;this.length+=y}return this._strip()},s.prototype.ishln=function(a){return i(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,p,y){i(typeof a=="number"&&a>=0);var A;p?A=(p-p%26)/26:A=0;var v=a%26,O=Math.min((a-v)/26,this.length),D=67108863^67108863>>>v<<v,R=y;if(A-=O,A=Math.max(0,A),R){for(var c=0;c<O;c++)R.words[c]=this.words[c];R.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var d=0;for(c=this.length-1;c>=0&&(d!==0||c>=A);c--){var w=this.words[c]|0;this.words[c]=d<<26-v|w>>>v,d=w&D}return R&&d!==0&&(R.words[R.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,p,y){return i(this.negative===0),this.iushrn(a,p,y)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){i(typeof a=="number"&&a>=0);var p=a%26,y=(a-p)/26,A=1<<p;if(this.length<=y)return!1;var v=this.words[y];return!!(v&A)},s.prototype.imaskn=function(a){i(typeof a=="number"&&a>=0);var p=a%26,y=(a-p)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(p!==0&&y++,this.length=Math.min(y,this.length),p!==0){var A=67108863^67108863>>>p<<p;this.words[this.length-1]&=A}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return i(typeof a=="number"),i(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(a){if(i(typeof a=="number"),i(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,p,y){var A=a.length+y,v;this._expand(A);var O,D=0;for(v=0;v<a.length;v++){O=(this.words[v+y]|0)+D;var R=(a.words[v]|0)*p;O-=R&67108863,D=(O>>26)-(R/67108864|0),this.words[v+y]=O&67108863}for(;v<this.length-y;v++)O=(this.words[v+y]|0)+D,D=O>>26,this.words[v+y]=O&67108863;if(D===0)return this._strip();for(i(D===-1),D=0,v=0;v<this.length;v++)O=-(this.words[v]|0)+D,D=O>>26,this.words[v]=O&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,p){var y=this.length-a.length,A=this.clone(),v=a,O=v.words[v.length-1]|0,D=this._countBits(O);y=26-D,y!==0&&(v=v.ushln(y),A.iushln(y),O=v.words[v.length-1]|0);var R=A.length-v.length,c;if(p!=="mod"){c=new s(null),c.length=R+1,c.words=new Array(c.length);for(var d=0;d<c.length;d++)c.words[d]=0}var w=A.clone()._ishlnsubmul(v,1,R);w.negative===0&&(A=w,c&&(c.words[R]=1));for(var b=R-1;b>=0;b--){var $=(A.words[v.length+b]|0)*67108864+(A.words[v.length+b-1]|0);for($=Math.min($/O|0,67108863),A._ishlnsubmul(v,$,b);A.negative!==0;)$--,A.negative=0,A._ishlnsubmul(v,1,b),A.isZero()||(A.negative^=1);c&&(c.words[b]=$)}return c&&c._strip(),A._strip(),p!=="div"&&y!==0&&A.iushrn(y),{div:c||null,mod:A}},s.prototype.divmod=function(a,p,y){if(i(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var A,v,O;return this.negative!==0&&a.negative===0?(O=this.neg().divmod(a,p),p!=="mod"&&(A=O.div.neg()),p!=="div"&&(v=O.mod.neg(),y&&v.negative!==0&&v.iadd(a)),{div:A,mod:v}):this.negative===0&&a.negative!==0?(O=this.divmod(a.neg(),p),p!=="mod"&&(A=O.div.neg()),{div:A,mod:O.mod}):(this.negative&a.negative)!==0?(O=this.neg().divmod(a.neg(),p),p!=="div"&&(v=O.mod.neg(),y&&v.negative!==0&&v.isub(a)),{div:O.div,mod:v}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?p==="div"?{div:this.divn(a.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,p)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var p=this.divmod(a);if(p.mod.isZero())return p.div;var y=p.div.negative!==0?p.mod.isub(a):p.mod,A=a.ushrn(1),v=a.andln(1),O=y.cmp(A);return O<0||v===1&&O===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(a){var p=a<0;p&&(a=-a),i(a<=67108863);for(var y=(1<<26)%a,A=0,v=this.length-1;v>=0;v--)A=(y*A+(this.words[v]|0))%a;return p?-A:A},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var p=a<0;p&&(a=-a),i(a<=67108863);for(var y=0,A=this.length-1;A>=0;A--){var v=(this.words[A]|0)+y*67108864;this.words[A]=v/a|0,y=v%a}return this._strip(),p?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){i(a.negative===0),i(!a.isZero());var p=this,y=a.clone();p.negative!==0?p=p.umod(a):p=p.clone();for(var A=new s(1),v=new s(0),O=new s(0),D=new s(1),R=0;p.isEven()&&y.isEven();)p.iushrn(1),y.iushrn(1),++R;for(var c=y.clone(),d=p.clone();!p.isZero();){for(var w=0,b=1;(p.words[0]&b)===0&&w<26;++w,b<<=1);if(w>0)for(p.iushrn(w);w-- >0;)(A.isOdd()||v.isOdd())&&(A.iadd(c),v.isub(d)),A.iushrn(1),v.iushrn(1);for(var $=0,Y=1;(y.words[0]&Y)===0&&$<26;++$,Y<<=1);if($>0)for(y.iushrn($);$-- >0;)(O.isOdd()||D.isOdd())&&(O.iadd(c),D.isub(d)),O.iushrn(1),D.iushrn(1);p.cmp(y)>=0?(p.isub(y),A.isub(O),v.isub(D)):(y.isub(p),O.isub(A),D.isub(v))}return{a:O,b:D,gcd:y.iushln(R)}},s.prototype._invmp=function(a){i(a.negative===0),i(!a.isZero());var p=this,y=a.clone();p.negative!==0?p=p.umod(a):p=p.clone();for(var A=new s(1),v=new s(0),O=y.clone();p.cmpn(1)>0&&y.cmpn(1)>0;){for(var D=0,R=1;(p.words[0]&R)===0&&D<26;++D,R<<=1);if(D>0)for(p.iushrn(D);D-- >0;)A.isOdd()&&A.iadd(O),A.iushrn(1);for(var c=0,d=1;(y.words[0]&d)===0&&c<26;++c,d<<=1);if(c>0)for(y.iushrn(c);c-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);p.cmp(y)>=0?(p.isub(y),A.isub(v)):(y.isub(p),v.isub(A))}var w;return p.cmpn(1)===0?w=A:w=v,w.cmpn(0)<0&&w.iadd(a),w},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var p=this.clone(),y=a.clone();p.negative=0,y.negative=0;for(var A=0;p.isEven()&&y.isEven();A++)p.iushrn(1),y.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;y.isEven();)y.iushrn(1);var v=p.cmp(y);if(v<0){var O=p;p=y,y=O}else if(v===0||y.cmpn(1)===0)break;p.isub(y)}while(!0);return y.iushln(A)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){i(typeof a=="number");var p=a%26,y=(a-p)/26,A=1<<p;if(this.length<=y)return this._expand(y+1),this.words[y]|=A,this;for(var v=A,O=y;v!==0&&O<this.length;O++){var D=this.words[O]|0;D+=v,v=D>>>26,D&=67108863,this.words[O]=D}return v!==0&&(this.words[O]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var p=a<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var y;if(this.length>1)y=1;else{p&&(a=-a),i(a<=67108863,"Number is too big");var A=this.words[0]|0;y=A===a?0:A<a?-1:1}return this.negative!==0?-y|0:y},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var p=this.ucmp(a);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var p=0,y=this.length-1;y>=0;y--){var A=this.words[y]|0,v=a.words[y]|0;if(A!==v){A<v?p=-1:A>v&&(p=1);break}}return p},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new V(a)},s.prototype.toRed=function(a){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return i(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return i(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var Z={k256:null,p224:null,p192:null,p25519:null};function nt(E,a){this.name=E,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}nt.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},nt.prototype.ireduce=function(a){var p=a,y;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),y=p.bitLength();while(y>this.n);var A=y<this.n?-1:p.ucmp(this.p);return A===0?(p.words[0]=0,p.length=1):A>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},nt.prototype.split=function(a,p){a.iushrn(this.n,0,p)},nt.prototype.imulK=function(a){return a.imul(this.k)};function ft(){nt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(ft,nt),ft.prototype.split=function(a,p){for(var y=4194303,A=Math.min(a.length,9),v=0;v<A;v++)p.words[v]=a.words[v];if(p.length=A,a.length<=9){a.words[0]=0,a.length=1;return}var O=a.words[9];for(p.words[p.length++]=O&y,v=10;v<a.length;v++){var D=a.words[v]|0;a.words[v-10]=(D&y)<<4|O>>>22,O=D}O>>>=22,a.words[v-10]=O,O===0&&a.length>10?a.length-=10:a.length-=9},ft.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var p=0,y=0;y<a.length;y++){var A=a.words[y]|0;p+=A*977,a.words[y]=p&67108863,p=A*64+(p/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ut(){nt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(ut,nt);function k(){nt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(k,nt);function P(){nt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(P,nt),P.prototype.imulK=function(a){for(var p=0,y=0;y<a.length;y++){var A=(a.words[y]|0)*19+p,v=A&67108863;A>>>=26,a.words[y]=v,p=A}return p!==0&&(a.words[a.length++]=p),a},s._prime=function(a){if(Z[a])return Z[a];var p;if(a==="k256")p=new ft;else if(a==="p224")p=new ut;else if(a==="p192")p=new k;else if(a==="p25519")p=new P;else throw new Error("Unknown prime "+a);return Z[a]=p,p};function V(E){if(typeof E=="string"){var a=s._prime(E);this.m=a.p,this.prime=a}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}V.prototype._verify1=function(a){i(a.negative===0,"red works only with positives"),i(a.red,"red works only with red numbers")},V.prototype._verify2=function(a,p){i((a.negative|p.negative)===0,"red works only with positives"),i(a.red&&a.red===p.red,"red works only with red numbers")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(T(a,a.umod(this.m)._forceRed(this)),a)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,p){this._verify2(a,p);var y=a.add(p);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},V.prototype.iadd=function(a,p){this._verify2(a,p);var y=a.iadd(p);return y.cmp(this.m)>=0&&y.isub(this.m),y},V.prototype.sub=function(a,p){this._verify2(a,p);var y=a.sub(p);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},V.prototype.isub=function(a,p){this._verify2(a,p);var y=a.isub(p);return y.cmpn(0)<0&&y.iadd(this.m),y},V.prototype.shl=function(a,p){return this._verify1(a),this.imod(a.ushln(p))},V.prototype.imul=function(a,p){return this._verify2(a,p),this.imod(a.imul(p))},V.prototype.mul=function(a,p){return this._verify2(a,p),this.imod(a.mul(p))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var p=this.m.andln(3);if(i(p%2===1),p===3){var y=this.m.add(new s(1)).iushrn(2);return this.pow(a,y)}for(var A=this.m.subn(1),v=0;!A.isZero()&&A.andln(1)===0;)v++,A.iushrn(1);i(!A.isZero());var O=new s(1).toRed(this),D=O.redNeg(),R=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,R).cmp(D)!==0;)c.redIAdd(D);for(var d=this.pow(c,A),w=this.pow(a,A.addn(1).iushrn(1)),b=this.pow(a,A),$=v;b.cmp(O)!==0;){for(var Y=b,J=0;Y.cmp(O)!==0;J++)Y=Y.redSqr();i(J<$);var rt=this.pow(d,new s(1).iushln($-J-1));w=w.redMul(rt),d=rt.redSqr(),b=b.redMul(d),$=J}return w},V.prototype.invm=function(a){var p=a._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},V.prototype.pow=function(a,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return a.clone();var y=4,A=new Array(1<<y);A[0]=new s(1).toRed(this),A[1]=a;for(var v=2;v<A.length;v++)A[v]=this.mul(A[v-1],a);var O=A[0],D=0,R=0,c=p.bitLength()%26;for(c===0&&(c=26),v=p.length-1;v>=0;v--){for(var d=p.words[v],w=c-1;w>=0;w--){var b=d>>w&1;if(O!==A[0]&&(O=this.sqr(O)),b===0&&D===0){R=0;continue}D<<=1,D|=b,R++,!(R!==y&&(v!==0||w!==0))&&(O=this.mul(O,A[D]),R=0,D=0)}c=26}return O},V.prototype.convertTo=function(a){var p=a.umod(this.m);return p===a?p.clone():p},V.prototype.convertFrom=function(a){var p=a.clone();return p.red=null,p},s.mont=function(a){return new H(a)};function H(E){V.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(H,V),H.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},H.prototype.convertFrom=function(a){var p=this.imod(a.mul(this.rinv));return p.red=null,p},H.prototype.imul=function(a,p){if(a.isZero()||p.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(p),A=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(A).iushrn(this.shift),O=v;return v.cmp(this.m)>=0?O=v.isub(this.m):v.cmpn(0)<0&&(O=v.iadd(this.m)),O._forceRed(this)},H.prototype.mul=function(a,p){if(a.isZero()||p.isZero())return new s(0)._forceRed(this);var y=a.mul(p),A=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(A).iushrn(this.shift),O=v;return v.cmp(this.m)>=0?O=v.isub(this.m):v.cmpn(0)<0&&(O=v.iadd(this.m)),O._forceRed(this)},H.prototype.invm=function(a){var p=this.imod(a._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,Oa)})(Fr)),Fr.exports}var Na=fo();const ho=Xe(Na);var kr={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var lo;function Ta(){return lo||(lo=1,(function(r,t){var n=un(),i=n.Buffer;function f(h,l){for(var _ in h)l[_]=h[_]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(f(n,t),t.Buffer=s);function s(h,l,_){return i(h,l,_)}s.prototype=Object.create(i.prototype),f(i,s),s.from=function(h,l,_){if(typeof h=="number")throw new TypeError("Argument must not be a number");return i(h,l,_)},s.alloc=function(h,l,_){if(typeof h!="number")throw new TypeError("Argument must be a number");var x=i(h);return l!==void 0?typeof _=="string"?x.fill(l,_):x.fill(l):x.fill(0),x},s.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return i(h)},s.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(h)}})(kr,kr.exports)),kr.exports}var In,po;function Ba(){if(po)return In;po=1;var r=Ta().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),f=0;f<i.length;f++)i[f]=255;for(var s=0;s<n.length;s++){var h=n.charAt(s),l=h.charCodeAt(0);if(i[l]!==255)throw new TypeError(h+" is ambiguous");i[l]=s}var _=n.length,x=n.charAt(0),T=Math.log(_)/Math.log(256),C=Math.log(256)/Math.log(_);function B(L){if((Array.isArray(L)||L instanceof Uint8Array)&&(L=r.from(L)),!r.isBuffer(L))throw new TypeError("Expected Buffer");if(L.length===0)return"";for(var F=0,K=0,G=0,z=L.length;G!==z&&L[G]===0;)G++,F++;for(var W=(z-G)*C+1>>>0,Z=new Uint8Array(W);G!==z;){for(var nt=L[G],ft=0,ut=W-1;(nt!==0||ft<K)&&ut!==-1;ut--,ft++)nt+=256*Z[ut]>>>0,Z[ut]=nt%_>>>0,nt=nt/_>>>0;if(nt!==0)throw new Error("Non-zero carry");K=ft,G++}for(var k=W-K;k!==W&&Z[k]===0;)k++;for(var P=x.repeat(F);k<W;++k)P+=n.charAt(Z[k]);return P}function I(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return r.alloc(0);for(var F=0,K=0,G=0;L[F]===x;)K++,F++;for(var z=(L.length-F)*T+1>>>0,W=new Uint8Array(z);F<L.length;){var Z=L.charCodeAt(F);if(Z>255)return;var nt=i[Z];if(nt===255)return;for(var ft=0,ut=z-1;(nt!==0||ft<G)&&ut!==-1;ut--,ft++)nt+=_*W[ut]>>>0,W[ut]=nt%256>>>0,nt=nt/256>>>0;if(nt!==0)throw new Error("Non-zero carry");G=ft,F++}for(var k=z-G;k!==z&&W[k]===0;)k++;var P=r.allocUnsafe(K+(z-k));P.fill(0,0,K);for(var V=K;k!==z;)P[V++]=W[k++];return P}function M(L){var F=I(L);if(F)return F;throw new Error("Non-base"+_+" character")}return{encode:B,decodeUnsafe:I,decode:M}}return In=t,In}var vn,go;function _o(){if(go)return vn;go=1;var r=Ba(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return vn=r(t),vn}var Ma=_o();const ce=Xe(Ma),yo=Ci;var mt={};function xe(r,t,n){return t<=r&&r<=n}function Pr(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function La(r){for(var t=String(r),n=t.length,i=0,f=[];i<n;){var s=t.charCodeAt(i);if(s<55296||s>57343)f.push(s);else if(56320<=s&&s<=57343)f.push(65533);else if(55296<=s&&s<=56319)if(i===n-1)f.push(65533);else{var h=r.charCodeAt(i+1);if(56320<=h&&h<=57343){var l=s&1023,_=h&1023;f.push(65536+(l<<10)+_),i+=1}else f.push(65533)}i+=1}return f}function Ca(r){for(var t="",n=0;n<r.length;++n){var i=r[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return t}var zr=-1;function xn(r){this.tokens=[].slice.call(r)}xn.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():zr},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var rr=-1;function bn(r,t){if(r)throw TypeError("Decoder error");return t||65533}var $r="utf-8";function Kr(r,t){if(!(this instanceof Kr))return new Kr(r,t);if(r=r!==void 0?String(r).toLowerCase():$r,r!==$r)throw new Error("Encoding not supported. Only utf-8 is supported");t=Pr(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Kr.prototype={decode:function(t,n){var i;typeof t=="object"&&t instanceof ArrayBuffer?i=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):i=new Uint8Array(0),n=Pr(n),this._streaming||(this._decoder=new Ua({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var f=new xn(i),s=[],h;!f.endOfStream()&&(h=this._decoder.handler(f,f.read()),h!==rr);)h!==null&&(Array.isArray(h)?s.push.apply(s,h):s.push(h));if(!this._streaming){do{if(h=this._decoder.handler(f,f.read()),h===rr)break;h!==null&&(Array.isArray(h)?s.push.apply(s,h):s.push(h))}while(!f.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),Ca(s)}};function Vr(r,t){if(!(this instanceof Vr))return new Vr(r,t);if(r=r!==void 0?String(r).toLowerCase():$r,r!==$r)throw new Error("Encoding not supported. Only utf-8 is supported");t=Pr(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Vr.prototype={encode:function(t,n){t=t?String(t):"",n=Pr(n),this._streaming||(this._encoder=new Da(this._options)),this._streaming=!!n.stream;for(var i=[],f=new xn(La(t)),s;!f.endOfStream()&&(s=this._encoder.handler(f,f.read()),s!==rr);)Array.isArray(s)?i.push.apply(i,s):i.push(s);if(!this._streaming){for(;s=this._encoder.handler(f,f.read()),s!==rr;)Array.isArray(s)?i.push.apply(i,s):i.push(s);this._encoder=null}return new Uint8Array(i)}};function Ua(r){var t=r.fatal,n=0,i=0,f=0,s=128,h=191;this.handler=function(l,_){if(_===zr&&f!==0)return f=0,bn(t);if(_===zr)return rr;if(f===0){if(xe(_,0,127))return _;if(xe(_,194,223))f=1,n=_-192;else if(xe(_,224,239))_===224&&(s=160),_===237&&(h=159),f=2,n=_-224;else if(xe(_,240,244))_===240&&(s=144),_===244&&(h=143),f=3,n=_-240;else return bn(t);return n=n<<6*f,null}if(!xe(_,s,h))return n=f=i=0,s=128,h=191,l.prepend(_),bn(t);if(s=128,h=191,i+=1,n+=_-128<<6*(f-i),i!==f)return null;var x=n;return n=f=i=0,x}}function Da(r){r.fatal,this.handler=function(t,n){if(n===zr)return rr;if(xe(n,0,127))return n;var i,f;xe(n,128,2047)?(i=1,f=192):xe(n,2048,65535)?(i=2,f=224):xe(n,65536,1114111)&&(i=3,f=240);for(var s=[(n>>6*i)+f];i>0;){var h=n>>6*(i-1);s.push(128|h&63),i-=1}return s}}const Fa=sn(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Kr,TextEncoder:Vr},Symbol.toStringTag,{value:"Module"})));var Eo;function ka(){if(Eo)return mt;Eo=1;var r=mt&&mt.__createBinding||(Object.create?(function(k,P,V,H){H===void 0&&(H=V),Object.defineProperty(k,H,{enumerable:!0,get:function(){return P[V]}})}):(function(k,P,V,H){H===void 0&&(H=V),k[H]=P[V]})),t=mt&&mt.__setModuleDefault||(Object.create?(function(k,P){Object.defineProperty(k,"default",{enumerable:!0,value:P})}):function(k,P){k.default=P}),n=mt&&mt.__decorate||function(k,P,V,H){var E=arguments.length,a=E<3?P:H===null?H=Object.getOwnPropertyDescriptor(P,V):H,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(k,P,V,H);else for(var y=k.length-1;y>=0;y--)(p=k[y])&&(a=(E<3?p(a):E>3?p(P,V,a):p(P,V))||a);return E>3&&a&&Object.defineProperty(P,V,a),a},i=mt&&mt.__importStar||function(k){if(k&&k.__esModule)return k;var P={};if(k!=null)for(var V in k)V!=="default"&&Object.hasOwnProperty.call(k,V)&&r(P,k,V);return t(P,k),P},f=mt&&mt.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.deserializeUnchecked=mt.deserialize=mt.serialize=mt.BinaryReader=mt.BinaryWriter=mt.BorshError=mt.baseDecode=mt.baseEncode=void 0;const s=f(fo()),h=f(_o()),l=i(Fa),_=typeof TextDecoder!="function"?l.TextDecoder:TextDecoder,x=new _("utf-8",{fatal:!0});function T(k){return typeof k=="string"&&(k=Buffer.from(k,"utf8")),h.default.encode(Buffer.from(k))}mt.baseEncode=T;function C(k){return Buffer.from(h.default.decode(k))}mt.baseDecode=C;const B=1024;class I extends Error{constructor(P){super(P),this.fieldPath=[],this.originalMessage=P}addToFieldPath(P){this.fieldPath.splice(0,0,P),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mt.BorshError=I;class M{constructor(){this.buf=Buffer.alloc(B),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(B)]))}writeU8(P){this.maybeResize(),this.buf.writeUInt8(P,this.length),this.length+=1}writeU16(P){this.maybeResize(),this.buf.writeUInt16LE(P,this.length),this.length+=2}writeU32(P){this.maybeResize(),this.buf.writeUInt32LE(P,this.length),this.length+=4}writeU64(P){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(P).toArray("le",8)))}writeU128(P){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(P).toArray("le",16)))}writeU256(P){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(P).toArray("le",32)))}writeU512(P){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(P).toArray("le",64)))}writeBuffer(P){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),P,Buffer.alloc(B)]),this.length+=P.length}writeString(P){this.maybeResize();const V=Buffer.from(P,"utf8");this.writeU32(V.length),this.writeBuffer(V)}writeFixedArray(P){this.writeBuffer(Buffer.from(P))}writeArray(P,V){this.maybeResize(),this.writeU32(P.length);for(const H of P)this.maybeResize(),V(H)}toArray(){return this.buf.subarray(0,this.length)}}mt.BinaryWriter=M;function L(k,P,V){const H=V.value;V.value=function(...E){try{return H.apply(this,E)}catch(a){if(a instanceof RangeError){const p=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(p)>=0)throw new I("Reached the end of buffer when deserializing")}throw a}}}class F{constructor(P){this.buf=P,this.offset=0}readU8(){const P=this.buf.readUInt8(this.offset);return this.offset+=1,P}readU16(){const P=this.buf.readUInt16LE(this.offset);return this.offset+=2,P}readU32(){const P=this.buf.readUInt32LE(this.offset);return this.offset+=4,P}readU64(){const P=this.readBuffer(8);return new s.default(P,"le")}readU128(){const P=this.readBuffer(16);return new s.default(P,"le")}readU256(){const P=this.readBuffer(32);return new s.default(P,"le")}readU512(){const P=this.readBuffer(64);return new s.default(P,"le")}readBuffer(P){if(this.offset+P>this.buf.length)throw new I(`Expected buffer length ${P} isn't within bounds`);const V=this.buf.slice(this.offset,this.offset+P);return this.offset+=P,V}readString(){const P=this.readU32(),V=this.readBuffer(P);try{return x.decode(V)}catch(H){throw new I(`Error decoding UTF-8 string: ${H}`)}}readFixedArray(P){return new Uint8Array(this.readBuffer(P))}readArray(P){const V=this.readU32(),H=Array();for(let E=0;E<V;++E)H.push(P());return H}}n([L],F.prototype,"readU8",null),n([L],F.prototype,"readU16",null),n([L],F.prototype,"readU32",null),n([L],F.prototype,"readU64",null),n([L],F.prototype,"readU128",null),n([L],F.prototype,"readU256",null),n([L],F.prototype,"readU512",null),n([L],F.prototype,"readString",null),n([L],F.prototype,"readFixedArray",null),n([L],F.prototype,"readArray",null),mt.BinaryReader=F;function K(k){return k.charAt(0).toUpperCase()+k.slice(1)}function G(k,P,V,H,E){try{if(typeof H=="string")E[`write${K(H)}`](V);else if(H instanceof Array)if(typeof H[0]=="number"){if(V.length!==H[0])throw new I(`Expecting byte array of length ${H[0]}, but got ${V.length} bytes`);E.writeFixedArray(V)}else if(H.length===2&&typeof H[1]=="number"){if(V.length!==H[1])throw new I(`Expecting byte array of length ${H[1]}, but got ${V.length} bytes`);for(let a=0;a<H[1];a++)G(k,null,V[a],H[0],E)}else E.writeArray(V,a=>{G(k,P,a,H[0],E)});else if(H.kind!==void 0)switch(H.kind){case"option":{V==null?E.writeU8(0):(E.writeU8(1),G(k,P,V,H.type,E));break}case"map":{E.writeU32(V.size),V.forEach((a,p)=>{G(k,P,p,H.key,E),G(k,P,a,H.value,E)});break}default:throw new I(`FieldType ${H} unrecognized`)}else z(k,V,E)}catch(a){throw a instanceof I&&a.addToFieldPath(P),a}}function z(k,P,V){if(typeof P.borshSerialize=="function"){P.borshSerialize(V);return}const H=k.get(P.constructor);if(!H)throw new I(`Class ${P.constructor.name} is missing in schema`);if(H.kind==="struct")H.fields.map(([E,a])=>{G(k,E,P[E],a,V)});else if(H.kind==="enum"){const E=P[H.field];for(let a=0;a<H.values.length;++a){const[p,y]=H.values[a];if(p===E){V.writeU8(a),G(k,p,P[p],y,V);break}}}else throw new I(`Unexpected schema kind: ${H.kind} for ${P.constructor.name}`)}function W(k,P,V=M){const H=new V;return z(k,P,H),H.toArray()}mt.serialize=W;function Z(k,P,V,H){try{if(typeof V=="string")return H[`read${K(V)}`]();if(V instanceof Array){if(typeof V[0]=="number")return H.readFixedArray(V[0]);if(typeof V[1]=="number"){const E=[];for(let a=0;a<V[1];a++)E.push(Z(k,null,V[0],H));return E}else return H.readArray(()=>Z(k,P,V[0],H))}if(V.kind==="option")return H.readU8()?Z(k,P,V.type,H):void 0;if(V.kind==="map"){let E=new Map;const a=H.readU32();for(let p=0;p<a;p++){const y=Z(k,P,V.key,H),A=Z(k,P,V.value,H);E.set(y,A)}return E}return nt(k,V,H)}catch(E){throw E instanceof I&&E.addToFieldPath(P),E}}function nt(k,P,V){if(typeof P.borshDeserialize=="function")return P.borshDeserialize(V);const H=k.get(P);if(!H)throw new I(`Class ${P.name} is missing in schema`);if(H.kind==="struct"){const E={};for(const[a,p]of k.get(P).fields)E[a]=Z(k,a,p,V);return new P(E)}if(H.kind==="enum"){const E=V.readU8();if(E>=H.values.length)throw new I(`Enum index: ${E} is out of range`);const[a,p]=H.values[E],y=Z(k,a,p,V);return new P({[a]:y})}throw new I(`Unexpected schema kind: ${H.kind} for ${P.constructor.name}`)}function ft(k,P,V,H=F){const E=new H(V),a=nt(k,P,E);if(E.offset<V.length)throw new I(`Unexpected ${V.length-E.offset} bytes after deserialized data`);return a}mt.deserialize=ft;function ut(k,P,V,H=F){const E=new H(V);return nt(k,P,E)}return mt.deserializeUnchecked=ut,mt}var On=ka(),j={},mo;function Pa(){if(mo)return j;mo=1,Object.defineProperty(j,"__esModule",{value:!0}),j.s16=j.s8=j.nu64be=j.u48be=j.u40be=j.u32be=j.u24be=j.u16be=j.nu64=j.u48=j.u40=j.u32=j.u24=j.u16=j.u8=j.offset=j.greedy=j.Constant=j.UTF8=j.CString=j.Blob=j.Boolean=j.BitField=j.BitStructure=j.VariantLayout=j.Union=j.UnionLayoutDiscriminator=j.UnionDiscriminator=j.Structure=j.Sequence=j.DoubleBE=j.Double=j.FloatBE=j.Float=j.NearInt64BE=j.NearInt64=j.NearUInt64BE=j.NearUInt64=j.IntBE=j.Int=j.UIntBE=j.UInt=j.OffsetLayout=j.GreedyCount=j.ExternalLayout=j.bindConstructorLayout=j.nameWithProperty=j.Layout=j.uint8ArrayToBuffer=j.checkUint8Array=void 0,j.constant=j.utf8=j.cstr=j.blob=j.unionLayoutDiscriminator=j.union=j.seq=j.bits=j.struct=j.f64be=j.f64=j.f32be=j.f32=j.ns64be=j.s48be=j.s40be=j.s32be=j.s24be=j.s16be=j.ns64=j.s48=j.s40=j.s32=j.s24=void 0;const r=un();function t(c){if(!(c instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}j.checkUint8Array=t;function n(c){return t(c),r.Buffer.from(c.buffer,c.byteOffset,c.length)}j.uint8ArrayToBuffer=n;let i=class{constructor(d,w){if(!Number.isInteger(d))throw new TypeError("span must be an integer");this.span=d,this.property=w}makeDestinationObject(){return{}}getSpan(d,w){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(d){const w=Object.create(this.constructor.prototype);return Object.assign(w,this),w.property=d,w}fromArray(d){}};j.Layout=i;function f(c,d){return d.property?c+"["+d.property+"]":c}j.nameWithProperty=f;function s(c,d){if(typeof c!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(c,"layout_"))throw new Error("Class is already bound to a layout");if(!(d&&d instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(d,"boundConstructor_"))throw new Error("layout is already bound to a constructor");c.layout_=d,d.boundConstructor_=c,d.makeDestinationObject=(()=>new c),Object.defineProperty(c.prototype,"encode",{value(w,b){return d.encode(this,w,b)},writable:!0}),Object.defineProperty(c,"decode",{value(w,b){return d.decode(w,b)},writable:!0})}j.bindConstructorLayout=s;class h extends i{isCount(){throw new Error("ExternalLayout is abstract")}}j.ExternalLayout=h;class l extends h{constructor(d=1,w){if(!Number.isInteger(d)||0>=d)throw new TypeError("elementSpan must be a (positive) integer");super(-1,w),this.elementSpan=d}isCount(){return!0}decode(d,w=0){t(d);const b=d.length-w;return Math.floor(b/this.elementSpan)}encode(d,w,b){return 0}}j.GreedyCount=l;class _ extends h{constructor(d,w=0,b){if(!(d instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(w))throw new TypeError("offset must be integer or undefined");super(d.span,b||d.property),this.layout=d,this.offset=w}isCount(){return this.layout instanceof x||this.layout instanceof T}decode(d,w=0){return this.layout.decode(d,w+this.offset)}encode(d,w,b=0){return this.layout.encode(d,w,b+this.offset)}}j.OffsetLayout=_;class x extends i{constructor(d,w){if(super(d,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,w=0){return n(d).readUIntLE(w,this.span)}encode(d,w,b=0){return n(w).writeUIntLE(d,b,this.span),this.span}}j.UInt=x;class T extends i{constructor(d,w){if(super(d,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,w=0){return n(d).readUIntBE(w,this.span)}encode(d,w,b=0){return n(w).writeUIntBE(d,b,this.span),this.span}}j.UIntBE=T;class C extends i{constructor(d,w){if(super(d,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,w=0){return n(d).readIntLE(w,this.span)}encode(d,w,b=0){return n(w).writeIntLE(d,b,this.span),this.span}}j.Int=C;class B extends i{constructor(d,w){if(super(d,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,w=0){return n(d).readIntBE(w,this.span)}encode(d,w,b=0){return n(w).writeIntBE(d,b,this.span),this.span}}j.IntBE=B;const I=Math.pow(2,32);function M(c){const d=Math.floor(c/I),w=c-d*I;return{hi32:d,lo32:w}}function L(c,d){return c*I+d}class F extends i{constructor(d){super(8,d)}decode(d,w=0){const b=n(d),$=b.readUInt32LE(w),Y=b.readUInt32LE(w+4);return L(Y,$)}encode(d,w,b=0){const $=M(d),Y=n(w);return Y.writeUInt32LE($.lo32,b),Y.writeUInt32LE($.hi32,b+4),8}}j.NearUInt64=F;class K extends i{constructor(d){super(8,d)}decode(d,w=0){const b=n(d),$=b.readUInt32BE(w),Y=b.readUInt32BE(w+4);return L($,Y)}encode(d,w,b=0){const $=M(d),Y=n(w);return Y.writeUInt32BE($.hi32,b),Y.writeUInt32BE($.lo32,b+4),8}}j.NearUInt64BE=K;class G extends i{constructor(d){super(8,d)}decode(d,w=0){const b=n(d),$=b.readUInt32LE(w),Y=b.readInt32LE(w+4);return L(Y,$)}encode(d,w,b=0){const $=M(d),Y=n(w);return Y.writeUInt32LE($.lo32,b),Y.writeInt32LE($.hi32,b+4),8}}j.NearInt64=G;class z extends i{constructor(d){super(8,d)}decode(d,w=0){const b=n(d),$=b.readInt32BE(w),Y=b.readUInt32BE(w+4);return L($,Y)}encode(d,w,b=0){const $=M(d),Y=n(w);return Y.writeInt32BE($.hi32,b),Y.writeUInt32BE($.lo32,b+4),8}}j.NearInt64BE=z;class W extends i{constructor(d){super(4,d)}decode(d,w=0){return n(d).readFloatLE(w)}encode(d,w,b=0){return n(w).writeFloatLE(d,b),4}}j.Float=W;class Z extends i{constructor(d){super(4,d)}decode(d,w=0){return n(d).readFloatBE(w)}encode(d,w,b=0){return n(w).writeFloatBE(d,b),4}}j.FloatBE=Z;class nt extends i{constructor(d){super(8,d)}decode(d,w=0){return n(d).readDoubleLE(w)}encode(d,w,b=0){return n(w).writeDoubleLE(d,b),8}}j.Double=nt;class ft extends i{constructor(d){super(8,d)}decode(d,w=0){return n(d).readDoubleBE(w)}encode(d,w,b=0){return n(w).writeDoubleBE(d,b),8}}j.DoubleBE=ft;class ut extends i{constructor(d,w,b){if(!(d instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(w instanceof h&&w.isCount()||Number.isInteger(w)&&0<=w))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let $=-1;!(w instanceof h)&&0<d.span&&($=w*d.span),super($,b),this.elementLayout=d,this.count=w}getSpan(d,w=0){if(0<=this.span)return this.span;let b=0,$=this.count;if($ instanceof h&&($=$.decode(d,w)),0<this.elementLayout.span)b=$*this.elementLayout.span;else{let Y=0;for(;Y<$;)b+=this.elementLayout.getSpan(d,w+b),++Y}return b}decode(d,w=0){const b=[];let $=0,Y=this.count;for(Y instanceof h&&(Y=Y.decode(d,w));$<Y;)b.push(this.elementLayout.decode(d,w)),w+=this.elementLayout.getSpan(d,w),$+=1;return b}encode(d,w,b=0){const $=this.elementLayout,Y=d.reduce((J,rt)=>J+$.encode(rt,w,b+J),0);return this.count instanceof h&&this.count.encode(d.length,w,b),Y}}j.Sequence=ut;class k extends i{constructor(d,w,b){if(!(Array.isArray(d)&&d.reduce((Y,J)=>Y&&J instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof w=="boolean"&&b===void 0&&(b=w,w=void 0);for(const Y of d)if(0>Y.span&&Y.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let $=-1;try{$=d.reduce((Y,J)=>Y+J.getSpan(),0)}catch{}super($,w),this.fields=d,this.decodePrefixes=!!b}getSpan(d,w=0){if(0<=this.span)return this.span;let b=0;try{b=this.fields.reduce(($,Y)=>{const J=Y.getSpan(d,w);return w+=J,$+J},0)}catch{throw new RangeError("indeterminate span")}return b}decode(d,w=0){t(d);const b=this.makeDestinationObject();for(const $ of this.fields)if($.property!==void 0&&(b[$.property]=$.decode(d,w)),w+=$.getSpan(d,w),this.decodePrefixes&&d.length===w)break;return b}encode(d,w,b=0){const $=b;let Y=0,J=0;for(const rt of this.fields){let gt=rt.span;if(J=0<gt?gt:0,rt.property!==void 0){const _t=d[rt.property];_t!==void 0&&(J=rt.encode(_t,w,b),0>gt&&(gt=rt.getSpan(w,b)))}Y=b,b+=gt}return Y+J-$}fromArray(d){const w=this.makeDestinationObject();for(const b of this.fields)b.property!==void 0&&0<d.length&&(w[b.property]=d.shift());return w}layoutFor(d){if(typeof d!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===d)return w}offsetOf(d){if(typeof d!="string")throw new TypeError("property must be string");let w=0;for(const b of this.fields){if(b.property===d)return w;0>b.span?w=-1:0<=w&&(w+=b.span)}}}j.Structure=k;class P{constructor(d){this.property=d}decode(d,w){throw new Error("UnionDiscriminator is abstract")}encode(d,w,b){throw new Error("UnionDiscriminator is abstract")}}j.UnionDiscriminator=P;class V extends P{constructor(d,w){if(!(d instanceof h&&d.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(w||d.property||"variant"),this.layout=d}decode(d,w){return this.layout.decode(d,w)}encode(d,w,b){return this.layout.encode(d,w,b)}}j.UnionLayoutDiscriminator=V;class H extends i{constructor(d,w,b){let $;if(d instanceof x||d instanceof T)$=new V(new _(d));else if(d instanceof h&&d.isCount())$=new V(d);else if(d instanceof P)$=d;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(w===void 0&&(w=null),!(w===null||w instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(w!==null){if(0>w.span)throw new Error("defaultLayout must have constant span");w.property===void 0&&(w=w.replicate("content"))}let Y=-1;w&&(Y=w.span,0<=Y&&(d instanceof x||d instanceof T)&&(Y+=$.layout.span)),super(Y,b),this.discriminator=$,this.usesPrefixDiscriminator=d instanceof x||d instanceof T,this.defaultLayout=w,this.registry={};let J=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(rt){return J(rt)},this.configGetSourceVariant=function(rt){J=rt.bind(this)}}getSpan(d,w=0){if(0<=this.span)return this.span;const b=this.getVariant(d,w);if(!b)throw new Error("unable to determine span for unrecognized variant");return b.getSpan(d,w)}defaultGetSourceVariant(d){if(Object.prototype.hasOwnProperty.call(d,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(d,this.defaultLayout.property))return;const w=this.registry[d[this.discriminator.property]];if(w&&(!w.layout||w.property&&Object.prototype.hasOwnProperty.call(d,w.property)))return w}else for(const w in this.registry){const b=this.registry[w];if(b.property&&Object.prototype.hasOwnProperty.call(d,b.property))return b}throw new Error("unable to infer src variant")}decode(d,w=0){let b;const $=this.discriminator,Y=$.decode(d,w),J=this.registry[Y];if(J===void 0){const rt=this.defaultLayout;let gt=0;this.usesPrefixDiscriminator&&(gt=$.layout.span),b=this.makeDestinationObject(),b[$.property]=Y,b[rt.property]=rt.decode(d,w+gt)}else b=J.decode(d,w);return b}encode(d,w,b=0){const $=this.getSourceVariant(d);if($===void 0){const Y=this.discriminator,J=this.defaultLayout;let rt=0;return this.usesPrefixDiscriminator&&(rt=Y.layout.span),Y.encode(d[Y.property],w,b),rt+J.encode(d[J.property],w,b+rt)}return $.encode(d,w,b)}addVariant(d,w,b){const $=new E(this,d,w,b);return this.registry[d]=$,$}getVariant(d,w=0){let b;return d instanceof Uint8Array?b=this.discriminator.decode(d,w):b=d,this.registry[b]}}j.Union=H;class E extends i{constructor(d,w,b,$){if(!(d instanceof H))throw new TypeError("union must be a Union");if(!Number.isInteger(w)||0>w)throw new TypeError("variant must be a (non-negative) integer");if(typeof b=="string"&&$===void 0&&($=b,b=null),b){if(!(b instanceof i))throw new TypeError("layout must be a Layout");if(d.defaultLayout!==null&&0<=b.span&&b.span>d.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof $!="string")throw new TypeError("variant must have a String property")}let Y=d.span;0>d.span&&(Y=b?b.span:0,0<=Y&&d.usesPrefixDiscriminator&&(Y+=d.discriminator.layout.span)),super(Y,$),this.union=d,this.variant=w,this.layout=b||null}getSpan(d,w=0){if(0<=this.span)return this.span;let b=0;this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span);let $=0;return this.layout&&($=this.layout.getSpan(d,w+b)),b+$}decode(d,w=0){const b=this.makeDestinationObject();if(this!==this.union.getVariant(d,w))throw new Error("variant mismatch");let $=0;return this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span),this.layout?b[this.property]=this.layout.decode(d,w+$):this.property?b[this.property]=!0:this.union.usesPrefixDiscriminator&&(b[this.union.discriminator.property]=this.variant),b}encode(d,w,b=0){let $=0;if(this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(d,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,w,b);let Y=$;if(this.layout&&(this.layout.encode(d[this.property],w,b+$),Y+=this.layout.getSpan(w,b+$),0<=this.union.span&&Y>this.union.span))throw new Error("encoded variant overruns containing union");return Y}fromArray(d){if(this.layout)return this.layout.fromArray(d)}}j.VariantLayout=E;function a(c){return 0>c&&(c+=4294967296),c}class p extends i{constructor(d,w,b){if(!(d instanceof x||d instanceof T))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof w=="string"&&b===void 0&&(b=w,w=!1),4<d.span)throw new RangeError("word cannot exceed 32 bits");super(d.span,b),this.word=d,this.msb=!!w,this.fields=[];let $=0;this._packedSetValue=function(Y){return $=a(Y),this},this._packedGetValue=function(){return $}}decode(d,w=0){const b=this.makeDestinationObject(),$=this.word.decode(d,w);this._packedSetValue($);for(const Y of this.fields)Y.property!==void 0&&(b[Y.property]=Y.decode(d));return b}encode(d,w,b=0){const $=this.word.decode(w,b);this._packedSetValue($);for(const Y of this.fields)if(Y.property!==void 0){const J=d[Y.property];J!==void 0&&Y.encode(J)}return this.word.encode(this._packedGetValue(),w,b)}addField(d,w){const b=new y(this,d,w);return this.fields.push(b),b}addBoolean(d){const w=new A(this,d);return this.fields.push(w),w}fieldFor(d){if(typeof d!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===d)return w}}j.BitStructure=p;class y{constructor(d,w,b){if(!(d instanceof p))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(w)||0>=w)throw new TypeError("bits must be positive integer");const $=8*d.span,Y=d.fields.reduce((J,rt)=>J+rt.bits,0);if(w+Y>$)throw new Error("bits too long for span remainder ("+($-Y)+" of "+$+" remain)");this.container=d,this.bits=w,this.valueMask=(1<<w)-1,w===32&&(this.valueMask=4294967295),this.start=Y,this.container.msb&&(this.start=$-Y-w),this.wordMask=a(this.valueMask<<this.start),this.property=b}decode(d,w){const b=this.container._packedGetValue();return a(b&this.wordMask)>>>this.start}encode(d){if(typeof d!="number"||!Number.isInteger(d)||d!==a(d&this.valueMask))throw new TypeError(f("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const w=this.container._packedGetValue(),b=a(d<<this.start);this.container._packedSetValue(a(w&~this.wordMask)|b)}}j.BitField=y;class A extends y{constructor(d,w){super(d,1,w)}decode(d,w){return!!super.decode(d,w)}encode(d){typeof d=="boolean"&&(d=+d),super.encode(d)}}j.Boolean=A;class v extends i{constructor(d,w){if(!(d instanceof h&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let b=-1;d instanceof h||(b=d),super(b,w),this.length=d}getSpan(d,w){let b=this.span;return 0>b&&(b=this.length.decode(d,w)),b}decode(d,w=0){let b=this.span;return 0>b&&(b=this.length.decode(d,w)),n(d).slice(w,w+b)}encode(d,w,b){let $=this.length;if(this.length instanceof h&&($=d.length),!(d instanceof Uint8Array&&$===d.length))throw new TypeError(f("Blob.encode",this)+" requires (length "+$+") Uint8Array as src");if(b+$>w.length)throw new RangeError("encoding overruns Uint8Array");const Y=n(d);return n(w).write(Y.toString("hex"),b,$,"hex"),this.length instanceof h&&this.length.encode($,w,b),$}}j.Blob=v;class O extends i{constructor(d){super(-1,d)}getSpan(d,w=0){t(d);let b=w;for(;b<d.length&&d[b]!==0;)b+=1;return 1+b-w}decode(d,w=0){const b=this.getSpan(d,w);return n(d).slice(w,w+b-1).toString("utf-8")}encode(d,w,b=0){typeof d!="string"&&(d=String(d));const $=r.Buffer.from(d,"utf8"),Y=$.length;if(b+Y>w.length)throw new RangeError("encoding overruns Buffer");const J=n(w);return $.copy(J,b),J[b+Y]=0,Y+1}}j.CString=O;class D extends i{constructor(d,w){if(typeof d=="string"&&w===void 0&&(w=d,d=void 0),d===void 0)d=-1;else if(!Number.isInteger(d))throw new TypeError("maxSpan must be an integer");super(-1,w),this.maxSpan=d}getSpan(d,w=0){return t(d),d.length-w}decode(d,w=0){const b=this.getSpan(d,w);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return n(d).slice(w,w+b).toString("utf-8")}encode(d,w,b=0){typeof d!="string"&&(d=String(d));const $=r.Buffer.from(d,"utf8"),Y=$.length;if(0<=this.maxSpan&&this.maxSpan<Y)throw new RangeError("text length exceeds maxSpan");if(b+Y>w.length)throw new RangeError("encoding overruns Buffer");return $.copy(n(w),b),Y}}j.UTF8=D;class R extends i{constructor(d,w){super(0,w),this.value=d}decode(d,w){return this.value}encode(d,w,b){return 0}}return j.Constant=R,j.greedy=((c,d)=>new l(c,d)),j.offset=((c,d,w)=>new _(c,d,w)),j.u8=(c=>new x(1,c)),j.u16=(c=>new x(2,c)),j.u24=(c=>new x(3,c)),j.u32=(c=>new x(4,c)),j.u40=(c=>new x(5,c)),j.u48=(c=>new x(6,c)),j.nu64=(c=>new F(c)),j.u16be=(c=>new T(2,c)),j.u24be=(c=>new T(3,c)),j.u32be=(c=>new T(4,c)),j.u40be=(c=>new T(5,c)),j.u48be=(c=>new T(6,c)),j.nu64be=(c=>new K(c)),j.s8=(c=>new C(1,c)),j.s16=(c=>new C(2,c)),j.s24=(c=>new C(3,c)),j.s32=(c=>new C(4,c)),j.s40=(c=>new C(5,c)),j.s48=(c=>new C(6,c)),j.ns64=(c=>new G(c)),j.s16be=(c=>new B(2,c)),j.s24be=(c=>new B(3,c)),j.s32be=(c=>new B(4,c)),j.s40be=(c=>new B(5,c)),j.s48be=(c=>new B(6,c)),j.ns64be=(c=>new z(c)),j.f32=(c=>new W(c)),j.f32be=(c=>new Z(c)),j.f64=(c=>new nt(c)),j.f64be=(c=>new ft(c)),j.struct=((c,d,w)=>new k(c,d,w)),j.bits=((c,d,w)=>new p(c,d,w)),j.seq=((c,d,w)=>new ut(c,d,w)),j.union=((c,d,w)=>new H(c,d,w)),j.unionLayoutDiscriminator=((c,d)=>new V(c,d)),j.blob=((c,d)=>new v(c,d)),j.cstr=(c=>new O(c)),j.utf8=((c,d)=>new D(c,d)),j.constant=((c,d)=>new R(c,d)),j}var U=Pa(),za=1,$a=2,Ka=3,Va=4,qa=5,Ga=6,ja=7,Ha=8,Ya=9,Za=10,Xa=-32700,Wa=-32603,Ja=-32602,Qa=-32601,tu=-32600,eu=-32016,ru=-32015,nu=-32014,iu=-32013,ou=-32012,su=-32011,au=-32010,uu=-32009,cu=-32008,fu=-32007,hu=-32006,lu=-32005,du=-32004,pu=-32003,gu=-32002,_u=-32001,yu=28e5,Eu=2800001,mu=2800002,wu=2800003,Ru=2800004,Au=2800005,Su=2800006,Iu=2800007,vu=2800008,xu=2800009,bu=2800010,Ou=2800011,Nu=323e4,Tu=32300001,Bu=3230002,Mu=3230003,Lu=3230004,Cu=361e4,Uu=3610001,Du=3610002,Fu=3610003,ku=3610004,Pu=3610005,zu=3610006,$u=3610007,Ku=3611e3,Vu=3704e3,qu=3704001,Gu=3704002,ju=3704003,Hu=3704004,Yu=4128e3,Zu=4128001,Xu=4128002,Wu=4615e3,Ju=4615001,Qu=4615002,tc=4615003,ec=4615004,rc=4615005,nc=4615006,ic=4615007,oc=4615008,sc=4615009,ac=4615010,uc=4615011,cc=4615012,fc=4615013,hc=4615014,lc=4615015,dc=4615016,pc=4615017,gc=4615018,_c=4615019,yc=4615020,Ec=4615021,mc=4615022,wc=4615023,Rc=4615024,Ac=4615025,Sc=4615026,Ic=4615027,vc=4615028,xc=4615029,bc=4615030,Oc=4615031,Nc=4615032,Tc=4615033,Bc=4615034,Mc=4615035,Lc=4615036,Cc=4615037,Uc=4615038,Dc=4615039,Fc=4615040,kc=4615041,Pc=4615042,zc=4615043,$c=4615044,Kc=4615045,Vc=4615046,qc=4615047,Gc=4615048,jc=4615049,Hc=4615050,Yc=4615051,Zc=4615052,Xc=4615053,Wc=4615054,Jc=5508e3,Qc=5508001,tf=5508002,ef=5508003,rf=5508004,nf=5508005,of=5508006,sf=5508007,af=5508008,uf=5508009,cf=5508010,ff=5508011,hf=5663e3,lf=5663001,df=5663002,pf=5663003,gf=5663004,_f=5663005,yf=5663006,Ef=5663007,mf=5663008,wf=5663009,Rf=5663010,Af=5663011,Sf=5663012,If=5663013,vf=5663014,xf=5663015,bf=5663016,Of=5663017,Nf=5663018,Tf=5663019,Bf=5663020,Mf=705e4,Lf=7050001,Cf=7050002,Uf=7050003,Df=7050004,Ff=7050005,kf=7050006,Pf=7050007,zf=7050008,$f=7050009,Kf=7050010,Vf=7050011,qf=7050012,Gf=7050013,jf=7050014,Hf=7050015,Yf=7050016,Zf=7050017,Xf=7050018,Wf=7050019,Jf=7050020,Qf=7050021,th=7050022,eh=7050023,rh=7050024,nh=7050025,ih=7050026,oh=7050027,sh=7050028,ah=7050029,uh=7050030,ch=7050031,fh=7050032,hh=7050033,lh=7050034,dh=7050035,ph=7050036,wo=8078e3,Ro=8078001,gh=8078002,_h=8078003,Ao=8078004,So=8078005,Io=8078006,yh=8078007,Eh=8078008,mh=8078009,wh=8078010,vo=8078011,Rh=8078012,Ah=8078013,Sh=8078014,Ih=8078015,vh=8078016,xh=8078017,bh=8078018,Oh=8078019,Nh=8078020,Th=8078021,Bh=8078022,Mh=81e5,Lh=8100001,Ch=8100002,Uh=8100003,Dh=819e4,Fh=8190001,kh=8190002,Ph=8190003,zh=8190004,$h=99e5,Kh=9900001,Vh=9900002,qh=9900003,Gh=9900004;function xo(r){return Array.isArray(r)?"%5B"+r.map(xo).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function jh([r,t]){return`${r}=${xo(t)}`}function Hh(r){const t=Object.entries(r).map(jh).join("&");return btoa(t)}var Yh={[Nu]:"Account not found at address: $address",[Lu]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Mu]:"Expected decoded account at address: $address",[Bu]:"Failed to decode account data at address: $address",[Tu]:"Accounts not found at addresses: $addresses",[xu]:"Unable to find a viable program address bump seed.",[mu]:"$putativeAddress is not a base58-encoded address.",[yu]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[wu]:"The `CryptoKey` must be an `Ed25519` public key.",[Ou]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[vu]:"Invalid seeds; point must fall off the Ed25519 curve.",[Ru]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[Su]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[Iu]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[Au]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[bu]:"Program address cannot end with PDA marker.",[Eu]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Va]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[za]:"The network has progressed past the last block for which this transaction could have been committed.",[wo]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Bh]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[Nh]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[So]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Io]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Ao]:"Encoder and decoder must either both be fixed-size or variable-size.",[Eh]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[gh]:"Expected a fixed-size codec, got a variable-size one.",[Ah]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[_h]:"Expected a variable-size codec, got a fixed-size one.",[Oh]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[Ro]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[bh]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[mh]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[wh]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[Ih]:"Invalid literal union variant. Expected one of [$variants], got $value.",[yh]:"Expected [$codecDescription] to have $expected items, got $actual.",[Rh]:"Invalid value $value for base $base with alphabet $alphabet.",[vh]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[vo]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[Sh]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Th]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[xh]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[Ku]:"No random values implementation could be found.",[sc]:"instruction requires an uninitialized account",[wc]:"instruction tries to borrow reference for an account which is already borrowed",[Rc]:"instruction left account with an outstanding borrowed reference",[Ec]:"program other than the account's owner changed the size of the account data",[rc]:"account data too small for instruction",[mc]:"instruction expected an executable account",[Vc]:"An account does not have enough lamports to be rent-exempt",[Gc]:"Program arithmetic overflowed",[Kc]:"Failed to serialize or deserialize account data: $encodedData",[Wc]:"Builtin programs must consume compute units",[Nc]:"Cross-program invocation call depth too deep",[Uc]:"Computational budget exceeded",[Sc]:"custom program error: #$code",[pc]:"instruction contains duplicate accounts",[Ac]:"instruction modifications of multiply-passed account differ",[bc]:"executable accounts must be rent exempt",[vc]:"instruction changed executable accounts data",[xc]:"instruction changed the balance of an executable account",[gc]:"instruction changed executable bit of an account",[hc]:"instruction modified data of an account it does not own",[fc]:"instruction spent from the balance of an account it does not own",[Ju]:"generic instruction error",[Hc]:"Provided owner is not allowed",[zc]:"Account is immutable",[$c]:"Incorrect authority provided",[ic]:"incorrect program id for instruction",[nc]:"insufficient funds for instruction",[ec]:"invalid account data for instruction",[qc]:"Invalid account owner",[Qu]:"invalid program argument",[Ic]:"program returned invalid error code",[tc]:"invalid instruction data",[Cc]:"Failed to reallocate account data",[Lc]:"Provided seeds do not result in a valid address",[Yc]:"Accounts data allocations exceeded the maximum allowed per transaction",[Zc]:"Max accounts exceeded",[Xc]:"Max instruction trace length exceeded",[Mc]:"Length of the seed is too long for address generation",[Tc]:"An account required by the instruction is missing",[oc]:"missing required signature for instruction",[cc]:"instruction illegally modified the program id of an account",[yc]:"insufficient account keys for instruction",[Dc]:"Cross-program invocation with unauthorized signer or writable account",[Fc]:"Failed to create program execution environment",[Pc]:"Program failed to compile",[kc]:"Program failed to complete",[dc]:"instruction modified data of a read-only account",[lc]:"instruction changed the balance of a read-only account",[Bc]:"Cross-program invocation reentrancy not allowed for this instruction",[_c]:"instruction modified rent epoch of an account",[uc]:"sum of account balances before and after instruction do not match",[ac]:"instruction requires an initialized account",[Wu]:"",[Oc]:"Unsupported program id",[jc]:"Unsupported sysvar",[Yu]:"The instruction does not have any accounts.",[Zu]:"The instruction does not have any data.",[Xu]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[qa]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[$a]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Vh]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Gh]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[Kh]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[$h]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[qh]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Wa]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Ja]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[tu]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[Qa]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Xa]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[ou]:"$__serverMessage",[_u]:"$__serverMessage",[du]:"$__serverMessage",[nu]:"$__serverMessage",[au]:"$__serverMessage",[uu]:"$__serverMessage",[eu]:"Minimum context slot has not been reached",[lu]:"Node is unhealthy; behind by $numSlotsBehind slots",[cu]:"No snapshot",[gu]:"Transaction simulation failed",[fu]:"$__serverMessage",[su]:"Transaction history is not available from this node",[hu]:"$__serverMessage",[iu]:"Transaction signature length mismatch",[pu]:"Transaction signature verification failure",[ru]:"$__serverMessage",[Vu]:"Key pair bytes must be of length 64, got $byteLength.",[qu]:"Expected private key bytes with length 32. Actual length: $actualLength.",[Gu]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[Hu]:"The provided private key does not match the provided public key.",[ju]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Ga]:"Lamports value must be in the range [0, 2e64-1]",[ja]:"`$value` cannot be parsed as a `BigInt`",[Za]:"$message",[Ha]:"`$value` cannot be parsed as a `Number`",[Ka]:"No nonce account could be found at address `$nonceAccountAddress`",[Dh]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[kh]:"WebSocket was closed before payload could be added to the send buffer",[Ph]:"WebSocket connection closed",[zh]:"WebSocket failed to connect",[Fh]:"Failed to obtain a subscription id from the server",[Uh]:"Could not find an API plan for RPC method: `$method`",[Mh]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Ch]:"HTTP error ($statusCode): $message",[Lh]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Jc]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Qc]:"The provided value does not implement the `KeyPairSigner` interface",[ef]:"The provided value does not implement the `MessageModifyingSigner` interface",[rf]:"The provided value does not implement the `MessagePartialSigner` interface",[tf]:"The provided value does not implement any of the `MessageSigner` interfaces",[of]:"The provided value does not implement the `TransactionModifyingSigner` interface",[sf]:"The provided value does not implement the `TransactionPartialSigner` interface",[af]:"The provided value does not implement the `TransactionSendingSigner` interface",[nf]:"The provided value does not implement any of the `TransactionSigner` interfaces",[uf]:"More than one `TransactionSendingSigner` was identified.",[cf]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[ff]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[$u]:"Cannot export a non-extractable key.",[Uu]:"No digest implementation could be found.",[Cu]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Du]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[Fu]:"No signature verification implementation could be found.",[ku]:"No key generation implementation could be found.",[Pu]:"No signing implementation could be found.",[zu]:"No key export implementation could be found.",[Ya]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[Yf]:"Transaction processing left an account with an outstanding borrowed reference",[Lf]:"Account in use",[Cf]:"Account loaded twice",[Uf]:"Attempt to debit an account but found no record of a prior credit.",[eh]:"Transaction loads an address table account that doesn't exist",[Pf]:"This transaction has already been processed",[zf]:"Blockhash not found",[$f]:"Loader call chain is too deep",[Hf]:"Transactions are currently disabled due to cluster maintenance",[uh]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Ff]:"Insufficient funds for fee",[ch]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[kf]:"This account may not be used to pay transaction fees",[Vf]:"Transaction contains an invalid account reference",[nh]:"Transaction loads an address table account with invalid data",[ih]:"Transaction address table lookup uses an invalid index",[rh]:"Transaction loads an address table account with an invalid owner",[hh]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[Gf]:"This program may not be used for executing instructions",[oh]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Wf]:"Transaction loads a writable account that cannot be written",[fh]:"Transaction exceeded max loaded accounts data size cap",[Kf]:"Transaction requires a fee but has no signature present",[Df]:"Attempt to load a program that does not exist",[dh]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[lh]:"ResanitizationNeeded",[jf]:"Transaction failed to sanitize accounts offsets correctly",[qf]:"Transaction did not pass signature verification",[th]:"Transaction locked too many accounts",[ph]:"Sum of account balances before and after transaction do not match",[Mf]:"The transaction failed with the error `$errorName`",[Xf]:"Transaction version is unsupported",[Qf]:"Transaction would exceed account data limit within the block",[ah]:"Transaction would exceed total account data limit",[Jf]:"Transaction would exceed max account limit within the block",[Zf]:"Transaction would exceed max Block Cost Limit",[sh]:"Transaction would exceed max Vote Cost Limit",[xf]:"Attempted to sign a transaction with an address that is not a signer for it",[Rf]:"Transaction is missing an address at index: $index.",[bf]:"Transaction has no expected signers therefore it cannot be encoded",[Bf]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[df]:"Transaction does not have a blockhash lifetime",[pf]:"Transaction is not a durable nonce transaction",[_f]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[yf]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[mf]:"No fee payer set in CompiledTransaction",[Ef]:"Could not find program address at index $index",[Nf]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Tf]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[Af]:"Transaction is missing a fee payer.",[Sf]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[vf]:"Transaction first instruction is not advance nonce account instruction.",[If]:"Transaction with no instructions cannot be durable nonce transaction.",[hf]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[lf]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Of]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[wf]:"Transaction is missing signatures for addresses: $addresses.",[gf]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},be="i",Re="t";function Zh(r,t={}){const n=Yh[r];if(n.length===0)return"";let i;function f(h){if(i[Re]===2){const l=n.slice(i[be]+1,h);s.push(l in t?`${t[l]}`:`$${l}`)}else i[Re]===1&&s.push(n.slice(i[be],h))}const s=[];return n.split("").forEach((h,l)=>{if(l===0){i={[be]:0,[Re]:n[0]==="\\"?0:n[0]==="$"?2:1};return}let _;switch(i[Re]){case 0:_={[be]:l,[Re]:1};break;case 1:h==="\\"?_={[be]:l,[Re]:0}:h==="$"&&(_={[be]:l,[Re]:2});break;case 2:h==="\\"?_={[be]:l,[Re]:0}:h==="$"?_={[be]:l,[Re]:2}:h.match(/\w/)||(_={[be]:l,[Re]:1});break}_&&(i!==_&&f(l),i=_)}),f(),s.join("")}function Xh(r,t={}){if(process.env.NODE_ENV!=="production")return Zh(r,t);{let n=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(t).length&&(n+=` '${Hh(t)}'`),`${n}\``}}var nr=class extends Error{cause=this.cause;context;constructor(...[r,t]){let n,i;if(t){const{cause:s,...h}=t;s&&(i={cause:s}),Object.keys(h).length>0&&(n=h)}const f=Xh(r,n);super(f,i),this.context={__code:r,...n},this.name="SolanaError"}};function Wh(r,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(r)}function Jh(r){return Object.freeze({...r,encode:t=>{const n=new Uint8Array(Wh(t,r));return r.write(t,n,0),n}})}function Qh(r){return Object.freeze({...r,decode:(t,n=0)=>r.read(t,n)[0]})}function ir(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function t0(r,t){if(ir(r)!==ir(t))throw new nr(Ao);if(ir(r)&&ir(t)&&r.fixedSize!==t.fixedSize)throw new nr(So,{decoderFixedSize:t.fixedSize,encoderFixedSize:r.fixedSize});if(!ir(r)&&!ir(t)&&r.maxSize!==t.maxSize)throw new nr(Io,{decoderMaxSize:t.maxSize,encoderMaxSize:r.maxSize});return{...t,...r,decode:t.decode,encode:r.encode,read:t.read,write:r.write}}function e0(r,t,n=0){if(t.length-n<=0)throw new nr(wo,{codecDescription:r})}function r0(r,t,n,i=0){const f=n.length-i;if(f<t)throw new nr(Ro,{bytesLength:f,codecDescription:r,expected:t})}function n0(r,t,n,i){if(i<t||i>n)throw new nr(vo,{codecDescription:r,max:n,min:t,value:i})}function bo(r){return r?.endian!==1}function i0(r){return Jh({fixedSize:r.size,write(t,n,i){r.range&&n0(r.name,r.range[0],r.range[1],t);const f=new ArrayBuffer(r.size);return r.set(new DataView(f),t,bo(r.config)),n.set(new Uint8Array(f),i),i+r.size}})}function o0(r){return Qh({fixedSize:r.size,read(t,n=0){e0(r.name,t,n),r0(r.name,r.size,t,n);const i=new DataView(s0(t,n,r.size));return[r.get(i,bo(r.config)),n+r.size]}})}function s0(r,t,n){const i=r.byteOffset+(t??0),f=n??r.byteLength;return r.buffer.slice(i,i+f)}var a0=(r={})=>i0({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,i)=>t.setBigUint64(0,BigInt(n),i),size:8}),u0=(r={})=>o0({config:r,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),c0=(r={})=>t0(a0(r),u0(r));class f0 extends TypeError{constructor(t,n){let i;const{message:f,explanation:s,...h}=t,{path:l}=t,_=l.length===0?f:`At path: ${l.join(".")} -- ${f}`;super(s??_),s!=null&&(this.cause=_),Object.assign(this,h),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...n()])}}function h0(r){return Rr(r)&&typeof r[Symbol.iterator]=="function"}function Rr(r){return typeof r=="object"&&r!=null}function qr(r){return Rr(r)&&!Array.isArray(r)}function ye(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function l0(r){const{done:t,value:n}=r.next();return t?void 0:n}function d0(r,t,n,i){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:f,branch:s}=t,{type:h}=n,{refinement:l,message:_=`Expected a value of type \`${h}\`${l?` with refinement \`${l}\``:""}, but received: \`${ye(i)}\``}=r;return{value:i,type:h,refinement:l,key:f[f.length-1],path:f,branch:s,...r,message:_}}function*Oo(r,t,n,i){h0(r)||(r=[r]);for(const f of r){const s=d0(f,t,n,i);s&&(yield s)}}function*Nn(r,t,n={}){const{path:i=[],branch:f=[r],coerce:s=!1,mask:h=!1}=n,l={path:i,branch:f,mask:h};s&&(r=t.coercer(r,l));let _="valid";for(const x of t.validator(r,l))x.explanation=n.message,_="not_valid",yield[x,void 0];for(let[x,T,C]of t.entries(r,l)){const B=Nn(T,C,{path:x===void 0?i:[...i,x],branch:x===void 0?f:[...f,T],coerce:s,mask:h,message:n.message});for(const I of B)I[0]?(_=I[0].refinement!=null?"not_refined":"not_valid",yield[I[0],void 0]):s&&(T=I[1],x===void 0?r=T:r instanceof Map?r.set(x,T):r instanceof Set?r.add(T):Rr(r)&&(T!==void 0||x in r)&&(r[x]=T))}if(_!=="not_valid")for(const x of t.refiner(r,l))x.explanation=n.message,_="not_refined",yield[x,void 0];_==="valid"&&(yield[void 0,r])}let Ae=class{constructor(t){const{type:n,schema:i,validator:f,refiner:s,coercer:h=_=>_,entries:l=function*(){}}=t;this.type=n,this.schema=i,this.entries=l,this.coercer=h,f?this.validator=(_,x)=>{const T=f(_,x);return Oo(T,x,this,_)}:this.validator=()=>[],s?this.refiner=(_,x)=>{const T=s(_,x);return Oo(T,x,this,_)}:this.refiner=()=>[]}assert(t,n){return p0(t,this,n)}create(t,n){return Ar(t,this,n)}is(t){return No(t,this)}mask(t,n){return g0(t,this,n)}validate(t,n={}){return Sr(t,this,n)}};function p0(r,t,n){const i=Sr(r,t,{message:n});if(i[0])throw i[0]}function Ar(r,t,n){const i=Sr(r,t,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function g0(r,t,n){const i=Sr(r,t,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function No(r,t){return!Sr(r,t)[0]}function Sr(r,t,n={}){const i=Nn(r,t,n),f=l0(i);return f[0]?[new f0(f[0],function*(){for(const h of i)h[0]&&(yield h[0])}),void 0]:[void 0,f[1]]}function Ge(r,t){return new Ae({type:r,schema:null,validator:t})}function _0(){return Ge("any",()=>!0)}function ot(r){return new Ae({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${ye(t)}`}})}function Se(){return Ge("boolean",r=>typeof r=="boolean")}function Tn(r){return Ge("instance",t=>t instanceof r||`Expected a \`${r.name}\` instance, but received: ${ye(t)}`)}function Tt(r){const t=ye(r),n=typeof r;return new Ae({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?r:null,validator(i){return i===r||`Expected the literal \`${t}\`, but received: ${ye(i)}`}})}function y0(){return Ge("never",()=>!1)}function st(r){return new Ae({...r,validator:(t,n)=>t===null||r.validator(t,n),refiner:(t,n)=>t===null||r.refiner(t,n)})}function q(){return Ge("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${ye(r)}`)}function ct(r){return new Ae({...r,validator:(t,n)=>t===void 0||r.validator(t,n),refiner:(t,n)=>t===void 0||r.refiner(t,n)})}function To(r,t){return new Ae({type:"record",schema:null,*entries(n){if(Rr(n))for(const i in n){const f=n[i];yield[i,i,r],yield[i,f,t]}},validator(n){return qr(n)||`Expected an object, but received: ${ye(n)}`},coercer(n){return qr(n)?{...n}:n}})}function Q(){return Ge("string",r=>typeof r=="string"||`Expected a string, but received: ${ye(r)}`)}function Bn(r){const t=y0();return new Ae({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(r.length,n.length);for(let f=0;f<i;f++)yield[f,n[f],r[f]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ye(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function X(r){const t=Object.keys(r);return new Ae({type:"type",schema:r,*entries(n){if(Rr(n))for(const i of t)yield[i,n[i],r[i]]},validator(n){return qr(n)||`Expected an object, but received: ${ye(n)}`},coercer(n){return qr(n)?{...n}:n}})}function fe(r){const t=r.map(n=>n.type).join(" | ");return new Ae({type:"union",schema:null,coercer(n,i){for(const f of r){const[s,h]=f.validate(n,{coerce:!0,mask:i.mask});if(!s)return h}return n},validator(n,i){const f=[];for(const s of r){const[...h]=Nn(n,s,i),[l]=h;if(l[0])for(const[_]of h)_&&f.push(_);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${ye(n)}`,...f]}})}function or(){return Ge("unknown",()=>!0)}function Ir(r,t,n){return new Ae({...r,coercer:(i,f)=>No(i,t)?r.coercer(n(i,f),f):r.coercer(i,f)})}var Gr,E0=new Uint8Array(16);function Bo(){if(!Gr&&(Gr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Gr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gr(E0)}const m0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function jr(r){return typeof r=="string"&&m0.test(r)}for(var ne=[],Mn=0;Mn<256;++Mn)ne.push((Mn+256).toString(16).substr(1));function Hr(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ne[r[t+0]]+ne[r[t+1]]+ne[r[t+2]]+ne[r[t+3]]+"-"+ne[r[t+4]]+ne[r[t+5]]+"-"+ne[r[t+6]]+ne[r[t+7]]+"-"+ne[r[t+8]]+ne[r[t+9]]+"-"+ne[r[t+10]]+ne[r[t+11]]+ne[r[t+12]]+ne[r[t+13]]+ne[r[t+14]]+ne[r[t+15]]).toLowerCase();if(!jr(n))throw TypeError("Stringified UUID is invalid");return n}var Mo,Ln,Cn=0,Un=0;function w0(r,t,n){var i=t&&n||0,f=t||new Array(16);r=r||{};var s=r.node||Mo,h=r.clockseq!==void 0?r.clockseq:Ln;if(s==null||h==null){var l=r.random||(r.rng||Bo)();s==null&&(s=Mo=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),h==null&&(h=Ln=(l[6]<<8|l[7])&16383)}var _=r.msecs!==void 0?r.msecs:Date.now(),x=r.nsecs!==void 0?r.nsecs:Un+1,T=_-Cn+(x-Un)/1e4;if(T<0&&r.clockseq===void 0&&(h=h+1&16383),(T<0||_>Cn)&&r.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Cn=_,Un=x,Ln=h,_+=122192928e5;var C=((_&268435455)*1e4+x)%4294967296;f[i++]=C>>>24&255,f[i++]=C>>>16&255,f[i++]=C>>>8&255,f[i++]=C&255;var B=_/4294967296*1e4&268435455;f[i++]=B>>>8&255,f[i++]=B&255,f[i++]=B>>>24&15|16,f[i++]=B>>>16&255,f[i++]=h>>>8|128,f[i++]=h&255;for(var I=0;I<6;++I)f[i+I]=s[I];return t||Hr(f)}function Lo(r){if(!jr(r))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(r.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(r.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(r.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(r.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function R0(r){r=unescape(encodeURIComponent(r));for(var t=[],n=0;n<r.length;++n)t.push(r.charCodeAt(n));return t}var A0="6ba7b810-9dad-11d1-80b4-00c04fd430c8",S0="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Co(r,t,n){function i(f,s,h,l){if(typeof f=="string"&&(f=R0(f)),typeof s=="string"&&(s=Lo(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var _=new Uint8Array(16+f.length);if(_.set(s),_.set(f,s.length),_=n(_),_[6]=_[6]&15|t,_[8]=_[8]&63|128,h){l=l||0;for(var x=0;x<16;++x)h[l+x]=_[x];return h}return Hr(_)}try{i.name=r}catch{}return i.DNS=A0,i.URL=S0,i}function I0(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var n=0;n<t.length;++n)r[n]=t.charCodeAt(n)}return v0(x0(b0(r),r.length*8))}function v0(r){for(var t=[],n=r.length*32,i="0123456789abcdef",f=0;f<n;f+=8){var s=r[f>>5]>>>f%32&255,h=parseInt(i.charAt(s>>>4&15)+i.charAt(s&15),16);t.push(h)}return t}function Uo(r){return(r+64>>>9<<4)+14+1}function x0(r,t){r[t>>5]|=128<<t%32,r[Uo(t)-1]=t;for(var n=1732584193,i=-271733879,f=-1732584194,s=271733878,h=0;h<r.length;h+=16){var l=n,_=i,x=f,T=s;n=oe(n,i,f,s,r[h],7,-680876936),s=oe(s,n,i,f,r[h+1],12,-389564586),f=oe(f,s,n,i,r[h+2],17,606105819),i=oe(i,f,s,n,r[h+3],22,-1044525330),n=oe(n,i,f,s,r[h+4],7,-176418897),s=oe(s,n,i,f,r[h+5],12,1200080426),f=oe(f,s,n,i,r[h+6],17,-1473231341),i=oe(i,f,s,n,r[h+7],22,-45705983),n=oe(n,i,f,s,r[h+8],7,1770035416),s=oe(s,n,i,f,r[h+9],12,-1958414417),f=oe(f,s,n,i,r[h+10],17,-42063),i=oe(i,f,s,n,r[h+11],22,-1990404162),n=oe(n,i,f,s,r[h+12],7,1804603682),s=oe(s,n,i,f,r[h+13],12,-40341101),f=oe(f,s,n,i,r[h+14],17,-1502002290),i=oe(i,f,s,n,r[h+15],22,1236535329),n=se(n,i,f,s,r[h+1],5,-165796510),s=se(s,n,i,f,r[h+6],9,-1069501632),f=se(f,s,n,i,r[h+11],14,643717713),i=se(i,f,s,n,r[h],20,-373897302),n=se(n,i,f,s,r[h+5],5,-701558691),s=se(s,n,i,f,r[h+10],9,38016083),f=se(f,s,n,i,r[h+15],14,-660478335),i=se(i,f,s,n,r[h+4],20,-405537848),n=se(n,i,f,s,r[h+9],5,568446438),s=se(s,n,i,f,r[h+14],9,-1019803690),f=se(f,s,n,i,r[h+3],14,-187363961),i=se(i,f,s,n,r[h+8],20,1163531501),n=se(n,i,f,s,r[h+13],5,-1444681467),s=se(s,n,i,f,r[h+2],9,-51403784),f=se(f,s,n,i,r[h+7],14,1735328473),i=se(i,f,s,n,r[h+12],20,-1926607734),n=ae(n,i,f,s,r[h+5],4,-378558),s=ae(s,n,i,f,r[h+8],11,-2022574463),f=ae(f,s,n,i,r[h+11],16,1839030562),i=ae(i,f,s,n,r[h+14],23,-35309556),n=ae(n,i,f,s,r[h+1],4,-1530992060),s=ae(s,n,i,f,r[h+4],11,1272893353),f=ae(f,s,n,i,r[h+7],16,-155497632),i=ae(i,f,s,n,r[h+10],23,-1094730640),n=ae(n,i,f,s,r[h+13],4,681279174),s=ae(s,n,i,f,r[h],11,-358537222),f=ae(f,s,n,i,r[h+3],16,-722521979),i=ae(i,f,s,n,r[h+6],23,76029189),n=ae(n,i,f,s,r[h+9],4,-640364487),s=ae(s,n,i,f,r[h+12],11,-421815835),f=ae(f,s,n,i,r[h+15],16,530742520),i=ae(i,f,s,n,r[h+2],23,-995338651),n=ue(n,i,f,s,r[h],6,-198630844),s=ue(s,n,i,f,r[h+7],10,1126891415),f=ue(f,s,n,i,r[h+14],15,-1416354905),i=ue(i,f,s,n,r[h+5],21,-57434055),n=ue(n,i,f,s,r[h+12],6,1700485571),s=ue(s,n,i,f,r[h+3],10,-1894986606),f=ue(f,s,n,i,r[h+10],15,-1051523),i=ue(i,f,s,n,r[h+1],21,-2054922799),n=ue(n,i,f,s,r[h+8],6,1873313359),s=ue(s,n,i,f,r[h+15],10,-30611744),f=ue(f,s,n,i,r[h+6],15,-1560198380),i=ue(i,f,s,n,r[h+13],21,1309151649),n=ue(n,i,f,s,r[h+4],6,-145523070),s=ue(s,n,i,f,r[h+11],10,-1120210379),f=ue(f,s,n,i,r[h+2],15,718787259),i=ue(i,f,s,n,r[h+9],21,-343485551),n=De(n,l),i=De(i,_),f=De(f,x),s=De(s,T)}return[n,i,f,s]}function b0(r){if(r.length===0)return[];for(var t=r.length*8,n=new Uint32Array(Uo(t)),i=0;i<t;i+=8)n[i>>5]|=(r[i/8]&255)<<i%32;return n}function De(r,t){var n=(r&65535)+(t&65535),i=(r>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function O0(r,t){return r<<t|r>>>32-t}function Yr(r,t,n,i,f,s){return De(O0(De(De(t,r),De(i,s)),f),n)}function oe(r,t,n,i,f,s,h){return Yr(t&n|~t&i,r,t,f,s,h)}function se(r,t,n,i,f,s,h){return Yr(t&i|n&~i,r,t,f,s,h)}function ae(r,t,n,i,f,s,h){return Yr(t^n^i,r,t,f,s,h)}function ue(r,t,n,i,f,s,h){return Yr(n^(t|~i),r,t,f,s,h)}var N0=Co("v3",48,I0);function T0(r,t,n){r=r||{};var i=r.random||(r.rng||Bo)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var f=0;f<16;++f)t[n+f]=i[f];return t}return Hr(i)}function B0(r,t,n,i){switch(r){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function Dn(r,t){return r<<t|r>>>32-t}function M0(r){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var i=unescape(encodeURIComponent(r));r=[];for(var f=0;f<i.length;++f)r.push(i.charCodeAt(f))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,h=Math.ceil(s/16),l=new Array(h),_=0;_<h;++_){for(var x=new Uint32Array(16),T=0;T<16;++T)x[T]=r[_*64+T*4]<<24|r[_*64+T*4+1]<<16|r[_*64+T*4+2]<<8|r[_*64+T*4+3];l[_]=x}l[h-1][14]=(r.length-1)*8/Math.pow(2,32),l[h-1][14]=Math.floor(l[h-1][14]),l[h-1][15]=(r.length-1)*8&4294967295;for(var C=0;C<h;++C){for(var B=new Uint32Array(80),I=0;I<16;++I)B[I]=l[C][I];for(var M=16;M<80;++M)B[M]=Dn(B[M-3]^B[M-8]^B[M-14]^B[M-16],1);for(var L=n[0],F=n[1],K=n[2],G=n[3],z=n[4],W=0;W<80;++W){var Z=Math.floor(W/20),nt=Dn(L,5)+B0(Z,F,K,G)+z+t[Z]+B[W]>>>0;z=G,G=K,K=Dn(F,30)>>>0,F=L,L=nt}n[0]=n[0]+L>>>0,n[1]=n[1]+F>>>0,n[2]=n[2]+K>>>0,n[3]=n[3]+G>>>0,n[4]=n[4]+z>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var L0=Co("v5",80,M0);const C0="00000000-0000-0000-0000-000000000000";function U0(r){if(!jr(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Do=sn(Object.freeze(Object.defineProperty({__proto__:null,NIL:C0,parse:Lo,stringify:Hr,v1:w0,v3:N0,v4:T0,v5:L0,validate:jr,version:U0},Symbol.toStringTag,{value:"Module"})));var Fn,Fo;function D0(){if(Fo)return Fn;Fo=1;const r=Do.v4;return Fn=function(n,i,f,s){if(typeof n!="string")throw new TypeError(n+" must be a string");s=s||{};const h=typeof s.version=="number"?s.version:2;if(h!==1&&h!==2)throw new TypeError(h+" must be 1 or 2");const l={method:n};if(h===2&&(l.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");l.params=i}if(typeof f>"u"){const _=typeof s.generator=="function"?s.generator:function(){return r()};l.id=_(l,s)}else h===2&&f===null?s.notificationIdNull&&(l.id=null):l.id=f;return l},Fn}var kn,ko;function F0(){if(ko)return kn;ko=1;const r=Do.v4,t=D0(),n=function(i,f){if(!(this instanceof n))return new n(i,f);f||(f={}),this.options={reviver:typeof f.reviver<"u"?f.reviver:null,replacer:typeof f.replacer<"u"?f.replacer:null,generator:typeof f.generator<"u"?f.generator:function(){return r()},version:typeof f.version<"u"?f.version:2,notificationIdNull:typeof f.notificationIdNull=="boolean"?f.notificationIdNull:!1},this.callServer=i};return kn=n,n.prototype.request=function(i,f,s,h){const l=this;let _=null;const x=Array.isArray(i)&&typeof f=="function";if(this.options.version===1&&x)throw new TypeError("JSON-RPC 1.0 does not support batching");if(x||!x&&i&&typeof i=="object"&&typeof f=="function")h=f,_=i;else{typeof s=="function"&&(h=s,s=void 0);const B=typeof h=="function";try{_=t(i,f,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(I){if(B)return h(I);throw I}if(!B)return _}let C;try{C=JSON.stringify(_,this.options.replacer)}catch(B){return h(B)}return this.callServer(C,function(B,I){l._parseResponse(B,I,h)}),_},n.prototype._parseResponse=function(i,f,s){if(i){s(i);return}if(!f)return s();let h;try{h=JSON.parse(f,this.options.reviver)}catch(l){return s(l)}if(s.length===3)if(Array.isArray(h)){const l=function(x){return typeof x.error<"u"},_=function(x){return!l(x)};return s(null,h.filter(l),h.filter(_))}else return s(null,h.error,h.result);s(null,h)},kn}F0();var Pn={exports:{}},Po;function k0(){return Po||(Po=1,(function(r){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function f(_,x,T){this.fn=_,this.context=x,this.once=T||!1}function s(_,x,T,C,B){if(typeof T!="function")throw new TypeError("The listener must be a function");var I=new f(T,C||_,B),M=n?n+x:x;return _._events[M]?_._events[M].fn?_._events[M]=[_._events[M],I]:_._events[M].push(I):(_._events[M]=I,_._eventsCount++),_}function h(_,x){--_._eventsCount===0?_._events=new i:delete _._events[x]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var x=[],T,C;if(this._eventsCount===0)return x;for(C in T=this._events)t.call(T,C)&&x.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(T)):x},l.prototype.listeners=function(x){var T=n?n+x:x,C=this._events[T];if(!C)return[];if(C.fn)return[C.fn];for(var B=0,I=C.length,M=new Array(I);B<I;B++)M[B]=C[B].fn;return M},l.prototype.listenerCount=function(x){var T=n?n+x:x,C=this._events[T];return C?C.fn?1:C.length:0},l.prototype.emit=function(x,T,C,B,I,M){var L=n?n+x:x;if(!this._events[L])return!1;var F=this._events[L],K=arguments.length,G,z;if(F.fn){switch(F.once&&this.removeListener(x,F.fn,void 0,!0),K){case 1:return F.fn.call(F.context),!0;case 2:return F.fn.call(F.context,T),!0;case 3:return F.fn.call(F.context,T,C),!0;case 4:return F.fn.call(F.context,T,C,B),!0;case 5:return F.fn.call(F.context,T,C,B,I),!0;case 6:return F.fn.call(F.context,T,C,B,I,M),!0}for(z=1,G=new Array(K-1);z<K;z++)G[z-1]=arguments[z];F.fn.apply(F.context,G)}else{var W=F.length,Z;for(z=0;z<W;z++)switch(F[z].once&&this.removeListener(x,F[z].fn,void 0,!0),K){case 1:F[z].fn.call(F[z].context);break;case 2:F[z].fn.call(F[z].context,T);break;case 3:F[z].fn.call(F[z].context,T,C);break;case 4:F[z].fn.call(F[z].context,T,C,B);break;default:if(!G)for(Z=1,G=new Array(K-1);Z<K;Z++)G[Z-1]=arguments[Z];F[z].fn.apply(F[z].context,G)}}return!0},l.prototype.on=function(x,T,C){return s(this,x,T,C,!1)},l.prototype.once=function(x,T,C){return s(this,x,T,C,!0)},l.prototype.removeListener=function(x,T,C,B){var I=n?n+x:x;if(!this._events[I])return this;if(!T)return h(this,I),this;var M=this._events[I];if(M.fn)M.fn===T&&(!B||M.once)&&(!C||M.context===C)&&h(this,I);else{for(var L=0,F=[],K=M.length;L<K;L++)(M[L].fn!==T||B&&!M[L].once||C&&M[L].context!==C)&&F.push(M[L]);F.length?this._events[I]=F.length===1?F[0]:F:h(this,I)}return this},l.prototype.removeAllListeners=function(x){var T;return x?(T=n?n+x:x,this._events[T]&&h(this,T)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(Pn)),Pn.exports}k0();class zo extends bi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ii(t);const i=hn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const f=this.blockLen,s=new Uint8Array(f);s.set(i.length>f?t.create().update(i).digest():i);for(let h=0;h<s.length;h++)s[h]^=54;this.iHash.update(s),this.oHash=t.create();for(let h=0;h<s.length;h++)s[h]^=106;this.oHash.update(s),Je(s)}update(t){return Or(this),this.iHash.update(t),this}digestInto(t){Or(this),ke(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:f,destroyed:s,blockLen:h,outputLen:l}=this;return t=t,t.finished=f,t.destroyed=s,t.blockLen=h,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $o=(r,t,n)=>new zo(r,t).update(n).digest();$o.create=(r,t)=>new zo(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ko=(r,t)=>(r+(r>=0?t:-t)/Vo)/t;function P0(r,t,n){const[[i,f],[s,h]]=t,l=Ko(h*r,n),_=Ko(-f*r,n);let x=r-l*i-_*s,T=-l*f-_*h;const C=x<Ne,B=T<Ne;C&&(x=-x),B&&(T=-T);const I=Er(Math.ceil(ki(n)/2))+sr;if(x<Ne||x>=I||T<Ne||T>=I)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:C,k1:x,k2neg:B,k2:T}}function zn(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function $n(r,t){const n={};for(let i of Object.keys(t))n[i]=r[i]===void 0?t[i]:r[i];return ze(n.lowS,"lowS"),ze(n.prehash,"prehash"),n.format!==void 0&&zn(n.format),n}class z0 extends Error{constructor(t=""){super(t)}}const Oe={Err:z0,_tlv:{encode:(r,t)=>{const{Err:n}=Oe;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const i=t.length/2,f=Lr(i);if(f.length/2&128)throw new n("tlv.encode: long form length too big");const s=i>127?Lr(f.length/2|128):"";return Lr(r)+s+f+t},decode(r,t){const{Err:n}=Oe;let i=0;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[i++]!==r)throw new n("tlv.decode: wrong tlv");const f=t[i++],s=!!(f&128);let h=0;if(!s)h=f;else{const _=f&127;if(!_)throw new n("tlv.decode(long): indefinite length not supported");if(_>4)throw new n("tlv.decode(long): byte length is too big");const x=t.subarray(i,i+_);if(x.length!==_)throw new n("tlv.decode: length bytes not complete");if(x[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const T of x)h=h<<8|T;if(i+=_,h<128)throw new n("tlv.decode(long): not minimal encoding")}const l=t.subarray(i,i+h);if(l.length!==h)throw new n("tlv.decode: wrong value length");return{v:l,l:t.subarray(i+h)}}},_int:{encode(r){const{Err:t}=Oe;if(r<Ne)throw new t("integer: negative integers are not allowed");let n=Lr(r);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(r){const{Err:t}=Oe;if(r[0]&128)throw new t("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Cr(r)}},toSig(r){const{Err:t,_int:n,_tlv:i}=Oe,f=Bt("signature",r),{v:s,l:h}=i.decode(48,f);if(h.length)throw new t("invalid signature: left bytes after parsing");const{v:l,l:_}=i.decode(2,s),{v:x,l:T}=i.decode(2,_);if(T.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(x)}},hexFromSig(r){const{_tlv:t,_int:n}=Oe,i=t.encode(2,n.encode(r.r)),f=t.encode(2,n.encode(r.s)),s=i+f;return t.encode(48,s)}},Ne=BigInt(0),sr=BigInt(1),Vo=BigInt(2),Zr=BigInt(3),$0=BigInt(4);function ar(r,t){const{BYTES:n}=r;let i;if(typeof t=="bigint")i=t;else{let f=Bt("private key",t);try{i=r.fromBytes(f)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!r.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function K0(r,t={}){const n=oo("weierstrass",r,t),{Fp:i,Fn:f}=n;let s=n.CURVE;const{h,n:l}=s;mr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:_}=t;if(_&&(!i.is0(s.a)||typeof _.beta!="bigint"||!Array.isArray(_.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const x=Go(i,f);function T(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function C(H,E,a){const{x:p,y}=E.toAffine(),A=i.toBytes(p);if(ze(a,"isCompressed"),a){T();const v=!i.isOdd(y);return we(qo(v),A)}else return we(Uint8Array.of(4),A,i.toBytes(y))}function B(H){_e(H,void 0,"Point");const{publicKey:E,publicKeyUncompressed:a}=x,p=H.length,y=H[0],A=H.subarray(1);if(p===E&&(y===2||y===3)){const v=i.fromBytes(A);if(!i.isValid(v))throw new Error("bad point: is not on curve, wrong x");const O=L(v);let D;try{D=i.sqrt(O)}catch(d){const w=d instanceof Error?": "+d.message:"";throw new Error("bad point: is not on curve, sqrt error"+w)}T();const R=i.isOdd(D);return(y&1)===1!==R&&(D=i.neg(D)),{x:v,y:D}}else if(p===a&&y===4){const v=i.BYTES,O=i.fromBytes(A.subarray(0,v)),D=i.fromBytes(A.subarray(v,v*2));if(!F(O,D))throw new Error("bad point: is not on curve");return{x:O,y:D}}else throw new Error(`bad point: got length ${p}, expected compressed=${E} or uncompressed=${a}`)}const I=t.toBytes||C,M=t.fromBytes||B;function L(H){const E=i.sqr(H),a=i.mul(E,H);return i.add(i.add(a,i.mul(H,s.a)),s.b)}function F(H,E){const a=i.sqr(E),p=L(H);return i.eql(a,p)}if(!F(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const K=i.mul(i.pow(s.a,Zr),$0),G=i.mul(i.sqr(s.b),BigInt(27));if(i.is0(i.add(K,G)))throw new Error("bad curve params: a or b");function z(H,E,a=!1){if(!i.isValid(E)||a&&i.is0(E))throw new Error(`bad point coordinate ${H}`);return E}function W(H){if(!(H instanceof k))throw new Error("ProjectivePoint expected")}function Z(H){if(!_||!_.basises)throw new Error("no endo");return P0(H,_.basises,f.ORDER)}const nt=Ur((H,E)=>{const{X:a,Y:p,Z:y}=H;if(i.eql(y,i.ONE))return{x:a,y:p};const A=H.is0();E==null&&(E=A?i.ONE:i.inv(y));const v=i.mul(a,E),O=i.mul(p,E),D=i.mul(y,E);if(A)return{x:i.ZERO,y:i.ZERO};if(!i.eql(D,i.ONE))throw new Error("invZ was invalid");return{x:v,y:O}}),ft=Ur(H=>{if(H.is0()){if(t.allowInfinityPoint&&!i.is0(H.Y))return;throw new Error("bad point: ZERO")}const{x:E,y:a}=H.toAffine();if(!i.isValid(E)||!i.isValid(a))throw new Error("bad point: x or y not field elements");if(!F(E,a))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ut(H,E,a,p,y){return a=new k(i.mul(a.X,H),a.Y,a.Z),E=Dr(p,E),a=Dr(y,a),E.add(a)}class k{constructor(E,a,p){this.X=z("x",E),this.Y=z("y",a,!0),this.Z=z("z",p),Object.freeze(this)}static CURVE(){return s}static fromAffine(E){const{x:a,y:p}=E||{};if(!E||!i.isValid(a)||!i.isValid(p))throw new Error("invalid affine point");if(E instanceof k)throw new Error("projective point not allowed");return i.is0(a)&&i.is0(p)?k.ZERO:new k(a,p,i.ONE)}static fromBytes(E){const a=k.fromAffine(M(_e(E,void 0,"point")));return a.assertValidity(),a}static fromHex(E){return k.fromBytes(Bt("pointHex",E))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,a=!0){return V.createCache(this,E),a||this.multiply(Zr),this}assertValidity(){ft(this)}hasEvenY(){const{y:E}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(E)}equals(E){W(E);const{X:a,Y:p,Z:y}=this,{X:A,Y:v,Z:O}=E,D=i.eql(i.mul(a,O),i.mul(A,y)),R=i.eql(i.mul(p,O),i.mul(v,y));return D&&R}negate(){return new k(this.X,i.neg(this.Y),this.Z)}double(){const{a:E,b:a}=s,p=i.mul(a,Zr),{X:y,Y:A,Z:v}=this;let O=i.ZERO,D=i.ZERO,R=i.ZERO,c=i.mul(y,y),d=i.mul(A,A),w=i.mul(v,v),b=i.mul(y,A);return b=i.add(b,b),R=i.mul(y,v),R=i.add(R,R),O=i.mul(E,R),D=i.mul(p,w),D=i.add(O,D),O=i.sub(d,D),D=i.add(d,D),D=i.mul(O,D),O=i.mul(b,O),R=i.mul(p,R),w=i.mul(E,w),b=i.sub(c,w),b=i.mul(E,b),b=i.add(b,R),R=i.add(c,c),c=i.add(R,c),c=i.add(c,w),c=i.mul(c,b),D=i.add(D,c),w=i.mul(A,v),w=i.add(w,w),c=i.mul(w,b),O=i.sub(O,c),R=i.mul(w,d),R=i.add(R,R),R=i.add(R,R),new k(O,D,R)}add(E){W(E);const{X:a,Y:p,Z:y}=this,{X:A,Y:v,Z:O}=E;let D=i.ZERO,R=i.ZERO,c=i.ZERO;const d=s.a,w=i.mul(s.b,Zr);let b=i.mul(a,A),$=i.mul(p,v),Y=i.mul(y,O),J=i.add(a,p),rt=i.add(A,v);J=i.mul(J,rt),rt=i.add(b,$),J=i.sub(J,rt),rt=i.add(a,y);let gt=i.add(A,O);return rt=i.mul(rt,gt),gt=i.add(b,Y),rt=i.sub(rt,gt),gt=i.add(p,y),D=i.add(v,O),gt=i.mul(gt,D),D=i.add($,Y),gt=i.sub(gt,D),c=i.mul(d,rt),D=i.mul(w,Y),c=i.add(D,c),D=i.sub($,c),c=i.add($,c),R=i.mul(D,c),$=i.add(b,b),$=i.add($,b),Y=i.mul(d,Y),rt=i.mul(w,rt),$=i.add($,Y),Y=i.sub(b,Y),Y=i.mul(d,Y),rt=i.add(rt,Y),b=i.mul($,rt),R=i.add(R,b),b=i.mul(gt,rt),D=i.mul(J,D),D=i.sub(D,b),b=i.mul(J,$),c=i.mul(gt,c),c=i.add(c,b),new k(D,R,c)}subtract(E){return this.add(E.negate())}is0(){return this.equals(k.ZERO)}multiply(E){const{endo:a}=t;if(!f.isValidNot0(E))throw new Error("invalid scalar: out of range");let p,y;const A=v=>V.cached(this,v,O=>qe(k,O));if(a){const{k1neg:v,k1:O,k2neg:D,k2:R}=Z(E),{p:c,f:d}=A(O),{p:w,f:b}=A(R);y=d.add(b),p=ut(a.beta,c,w,v,D)}else{const{p:v,f:O}=A(E);p=v,y=O}return qe(k,[p,y])[0]}multiplyUnsafe(E){const{endo:a}=t,p=this;if(!f.isValid(E))throw new Error("invalid scalar: out of range");if(E===Ne||p.is0())return k.ZERO;if(E===sr)return p;if(V.hasCache(this))return this.multiply(E);if(a){const{k1neg:y,k1:A,k2neg:v,k2:O}=Z(E),{p1:D,p2:R}=ha(k,p,A,O);return ut(a.beta,D,R,y,v)}else return V.unsafe(p,E)}multiplyAndAddUnsafe(E,a,p){const y=this.multiplyUnsafe(a).add(E.multiplyUnsafe(p));return y.is0()?void 0:y}toAffine(E){return nt(this,E)}isTorsionFree(){const{isTorsionFree:E}=t;return h===sr?!0:E?E(k,this):V.unsafe(this,l).is0()}clearCofactor(){const{clearCofactor:E}=t;return h===sr?this:E?E(k,this):this.multiplyUnsafe(h)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}toBytes(E=!0){return ze(E,"isCompressed"),this.assertValidity(),I(k,this,E)}toHex(E=!0){return Pe(this.toBytes(E))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(E=!0){return this.toBytes(E)}_setWindowSize(E){this.precompute(E)}static normalizeZ(E){return qe(k,E)}static msm(E,a){return no(k,f,E,a)}static fromPrivateKey(E){return k.BASE.multiply(ar(f,E))}}k.BASE=new k(s.Gx,s.Gy,i.ONE),k.ZERO=new k(i.ZERO,i.ONE,i.ZERO),k.Fp=i,k.Fn=f;const P=f.BITS,V=new ro(k,t.endo?Math.ceil(P/2):P);return k.BASE.precompute(8),k}function qo(r){return Uint8Array.of(r?2:3)}function Go(r,t){return{secretKey:t.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function V0(r,t={}){const{Fn:n}=r,i=t.randomBytes||ln,f=Object.assign(Go(r.Fp,n),{seed:Wi(n.ORDER)});function s(I){try{return!!ar(n,I)}catch{return!1}}function h(I,M){const{publicKey:L,publicKeyUncompressed:F}=f;try{const K=I.length;return M===!0&&K!==L||M===!1&&K!==F?!1:!!r.fromBytes(I)}catch{return!1}}function l(I=i(f.seed)){return ua(_e(I,f.seed,"seed"),n.ORDER)}function _(I,M=!0){return r.BASE.multiply(ar(n,I)).toBytes(M)}function x(I){const M=l(I);return{secretKey:M,publicKey:_(M)}}function T(I){if(typeof I=="bigint")return!1;if(I instanceof r)return!0;const{secretKey:M,publicKey:L,publicKeyUncompressed:F}=f;if(n.allowedLengths||M===L)return;const K=Bt("key",I).length;return K===L||K===F}function C(I,M,L=!0){if(T(I)===!0)throw new Error("first arg must be private key");if(T(M)===!1)throw new Error("second arg must be public key");const F=ar(n,I);return r.fromHex(M).multiply(F).toBytes(L)}return Object.freeze({getPublicKey:_,getSharedSecret:C,keygen:x,Point:r,utils:{isValidSecretKey:s,isValidPublicKey:h,randomSecretKey:l,isValidPrivateKey:s,randomPrivateKey:l,normPrivateKeyToScalar:I=>ar(n,I),precompute(I=8,M=r.BASE){return M.precompute(I,!1)}},lengths:f})}function q0(r,t,n={}){Ii(t),mr(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||ln,f=n.hmac||((a,...p)=>$o(t,a,we(...p))),{Fp:s,Fn:h}=r,{ORDER:l,BITS:_}=h,{keygen:x,getPublicKey:T,getSharedSecret:C,utils:B,lengths:I}=V0(r,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},L="compact";function F(a){const p=l>>sr;return a>p}function K(a,p){if(!h.isValidNot0(p))throw new Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return p}function G(a,p){zn(p);const y=I.signature,A=p==="compact"?y:p==="recovered"?y+1:void 0;return _e(a,A,`${p} signature`)}class z{constructor(p,y,A){this.r=K("r",p),this.s=K("s",y),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(p,y=L){G(p,y);let A;if(y==="der"){const{r:R,s:c}=Oe.toSig(_e(p));return new z(R,c)}y==="recovered"&&(A=p[0],y="compact",p=p.subarray(1));const v=h.BYTES,O=p.subarray(0,v),D=p.subarray(v,v*2);return new z(h.fromBytes(O),h.fromBytes(D),A)}static fromHex(p,y){return this.fromBytes(Nr(p),y)}addRecoveryBit(p){return new z(this.r,this.s,p)}recoverPublicKey(p){const y=s.ORDER,{r:A,s:v,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(l*Vo<y&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const R=O===2||O===3?A+l:A;if(!s.isValid(R))throw new Error("recovery id 2 or 3 invalid");const c=s.toBytes(R),d=r.fromBytes(we(qo((O&1)===0),c)),w=h.inv(R),b=Z(Bt("msgHash",p)),$=h.create(-b*w),Y=h.create(v*w),J=r.BASE.multiplyUnsafe($).add(d.multiplyUnsafe(Y));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return F(this.s)}toBytes(p=L){if(zn(p),p==="der")return Nr(Oe.hexFromSig(this));const y=h.toBytes(this.r),A=h.toBytes(this.s);if(p==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return we(Uint8Array.of(this.recovery),y,A)}return we(y,A)}toHex(p){return Pe(this.toBytes(p))}assertValidity(){}static fromCompact(p){return z.fromBytes(Bt("sig",p),"compact")}static fromDER(p){return z.fromBytes(Bt("sig",p),"der")}normalizeS(){return this.hasHighS()?new z(this.r,h.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Pe(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Pe(this.toBytes("compact"))}}const W=n.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const y=Cr(p),A=p.length*8-_;return A>0?y>>BigInt(A):y},Z=n.bits2int_modN||function(p){return h.create(W(p))},nt=Er(_);function ft(a){return yn("num < 2^"+_,a,Ne,nt),h.toBytes(a)}function ut(a,p){return _e(a,void 0,"message"),p?_e(t(a),void 0,"prehashed message"):a}function k(a,p,y){if(["recovered","canonical"].some($=>$ in y))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:v,extraEntropy:O}=$n(y,M);a=ut(a,v);const D=Z(a),R=ar(h,p),c=[ft(R),ft(D)];if(O!=null&&O!==!1){const $=O===!0?i(I.secretKey):O;c.push(Bt("extraEntropy",$))}const d=we(...c),w=D;function b($){const Y=W($);if(!h.isValidNot0(Y))return;const J=h.inv(Y),rt=r.BASE.multiply(Y).toAffine(),gt=h.create(rt.x);if(gt===Ne)return;const _t=h.create(J*h.create(w+gt*R));if(_t===Ne)return;let wt=(rt.x===gt?0:2)|Number(rt.y&sr),te=_t;return A&&F(_t)&&(te=h.neg(_t),wt^=1),new z(gt,te,wt)}return{seed:d,k2sig:b}}function P(a,p,y={}){a=Bt("message",a);const{seed:A,k2sig:v}=k(a,p,y);return Js(t.outputLen,h.BYTES,f)(A,v)}function V(a){let p;const y=typeof a=="string"||_r(a),A=!y&&a!==null&&typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint";if(!y&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)p=new z(a.r,a.s);else if(y){try{p=z.fromBytes(Bt("sig",a),"der")}catch(v){if(!(v instanceof Oe.Err))throw v}if(!p)try{p=z.fromBytes(Bt("sig",a),"compact")}catch{return!1}}return p||!1}function H(a,p,y,A={}){const{lowS:v,prehash:O,format:D}=$n(A,M);if(y=Bt("publicKey",y),p=ut(Bt("message",p),O),"strict"in A)throw new Error("options.strict was renamed to lowS");const R=D===void 0?V(a):z.fromBytes(Bt("sig",a),D);if(R===!1)return!1;try{const c=r.fromBytes(y);if(v&&R.hasHighS())return!1;const{r:d,s:w}=R,b=Z(p),$=h.inv(w),Y=h.create(b*$),J=h.create(d*$),rt=r.BASE.multiplyUnsafe(Y).add(c.multiplyUnsafe(J));return rt.is0()?!1:h.create(rt.x)===d}catch{return!1}}function E(a,p,y={}){const{prehash:A}=$n(y,M);return p=ut(p,A),z.fromBytes(a,"recovered").recoverPublicKey(p).toBytes()}return Object.freeze({keygen:x,getPublicKey:T,getSharedSecret:C,utils:B,lengths:I,Point:r,sign:P,verify:H,recoverPublicKey:E,Signature:z,hash:t})}function G0(r){const t={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},n=r.Fp;let i=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(h=>Math.ceil(h/2)))):void 0;const f=Ke(t.n,{BITS:r.nBitLength,allowedLengths:i,modFromBytes:r.wrapPrivateKey}),s={Fp:n,Fn:f,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:t,curveOpts:s}}function j0(r){const{CURVE:t,curveOpts:n}=G0(r),i={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:t,curveOpts:n,hash:r.hash,ecdsaOpts:i}}function H0(r,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},r,Zi(n.Fn.ORDER,n.Fn.BITS))})}function Y0(r){const{CURVE:t,curveOpts:n,hash:i,ecdsaOpts:f}=j0(r),s=K0(t,n),h=q0(s,i,f);return H0(r,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Z0(r,t){const n=i=>Y0({...r,hash:i});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kn={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},X0={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},jo=BigInt(2);function W0(r){const t=Kn.p,n=BigInt(3),i=BigInt(6),f=BigInt(11),s=BigInt(22),h=BigInt(23),l=BigInt(44),_=BigInt(88),x=r*r*r%t,T=x*x*r%t,C=Mt(T,n,t)*T%t,B=Mt(C,n,t)*T%t,I=Mt(B,jo,t)*x%t,M=Mt(I,f,t)*I%t,L=Mt(M,s,t)*M%t,F=Mt(L,l,t)*L%t,K=Mt(F,_,t)*F%t,G=Mt(K,l,t)*L%t,z=Mt(G,n,t)*T%t,W=Mt(z,h,t)*M%t,Z=Mt(W,i,t)*x%t,nt=Mt(Z,jo,t);if(!Vn.eql(Vn.sqr(nt),r))throw new Error("Cannot find square root");return nt}const Vn=Ke(Kn.p,{sqrt:W0}),J0=Z0({...Kn,Fp:Vn,lowS:!0,endo:X0},Ci);wr.utils.randomPrivateKey,wr.getPublicKey;function Ho(r){try{return wr.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Yo=(r,t)=>wr.sign(r,t.slice(0,32)),Q0=wr.verify,qn=r=>dt.Buffer.isBuffer(r)?r:r instanceof Uint8Array?dt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):dt.Buffer.from(r);class tl{constructor(t){Object.assign(this,t)}encode(){return dt.Buffer.from(On.serialize(Xr,this))}static decode(t){return On.deserialize(Xr,this,t)}static decodeUnchecked(t){return On.deserializeUnchecked(Xr,this,t)}}const Xr=new Map;var Zo;const el=32,Fe=32;function rl(r){return r._bn!==void 0}let Xo=1;class lt extends tl{constructor(t){if(super({}),this._bn=void 0,rl(t))this._bn=t._bn;else{if(typeof t=="string"){const n=ce.decode(t);if(n.length!=Fe)throw new Error("Invalid public key input");this._bn=new ho(n)}else this._bn=new ho(t);if(this._bn.byteLength()>Fe)throw new Error("Invalid public key input")}}static unique(){const t=new lt(Xo);return Xo+=1,new lt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ce.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(dt.Buffer);if(t.length===Fe)return t;const n=dt.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,i){const f=dt.Buffer.concat([t.toBuffer(),dt.Buffer.from(n),i.toBuffer()]),s=yo(f);return new lt(s)}static createProgramAddressSync(t,n){let i=dt.Buffer.alloc(0);t.forEach(function(s){if(s.length>el)throw new TypeError("Max seed length exceeded");i=dt.Buffer.concat([i,qn(s)])}),i=dt.Buffer.concat([i,n.toBuffer(),dt.Buffer.from("ProgramDerivedAddress")]);const f=yo(i);if(Ho(f))throw new Error("Invalid seeds, address must fall off the curve");return new lt(f)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let i=255,f;for(;i!=0;){try{const s=t.concat(dt.Buffer.from([i]));f=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;i--;continue}return[f,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new lt(t);return Ho(n.toBytes())}}Zo=lt,lt.default=new Zo("11111111111111111111111111111111"),Xr.set(lt,{kind:"struct",fields:[["_bn","u256"]]}),new lt("BPFLoader1111111111111111111111111111111111");const ur=1232,Gn=127,Wr=64;class Jr{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((s,h)=>{i.set(s.toBase58(),h)});const f=s=>{const h=i.get(s.toBase58());if(h===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return h};return t.map(s=>({programIdIndex:f(s.programId),accountKeyIndexes:s.keys.map(h=>f(h.pubkey)),data:s.data}))}}const pt=(r="publicKey")=>U.blob(32,r),nl=(r="signature")=>U.blob(64,r),cr=(r="string")=>{const t=U.struct([U.u32("length"),U.u32("lengthPadding"),U.blob(U.offset(U.u32(),-8),"chars")],r),n=t.decode.bind(t),i=t.encode.bind(t),f=t;return f.decode=(s,h)=>n(s,h).chars.toString(),f.encode=(s,h,l)=>{const _={chars:dt.Buffer.from(s,"utf8")};return i(_,h,l)},f.alloc=s=>U.u32().span+U.u32().span+dt.Buffer.from(s,"utf8").length,f},il=(r="authorized")=>U.struct([pt("staker"),pt("withdrawer")],r),ol=(r="lockup")=>U.struct([U.ns64("unixTimestamp"),U.ns64("epoch"),pt("custodian")],r),sl=(r="voteInit")=>U.struct([pt("nodePubkey"),pt("authorizedVoter"),pt("authorizedWithdrawer"),U.u8("commission")],r),al=(r="voteAuthorizeWithSeedArgs")=>U.struct([U.u32("voteAuthorizationType"),pt("currentAuthorityDerivedKeyOwnerPubkey"),cr("currentAuthorityDerivedKeySeed"),pt("newAuthorized")],r);function le(r){let t=0,n=0;for(;;){let i=r.shift();if(t|=(i&127)<<n*7,n+=1,(i&128)===0)break}return t}function de(r,t){let n=t;for(;;){let i=n&127;if(n>>=7,n==0){r.push(i);break}else i|=128,r.push(i)}}function Qt(r,t){if(!r)throw new Error(t||"Assertion failed")}class Qr{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const i=new Map,f=h=>{const l=h.toBase58();let _=i.get(l);return _===void 0&&(_={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(l,_)),_},s=f(n);s.isSigner=!0,s.isWritable=!0;for(const h of t){f(h.programId).isInvoked=!0;for(const l of h.keys){const _=f(l.pubkey);_.isSigner||=l.isSigner,_.isWritable||=l.isWritable}}return new Qr(n,i)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Qt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,_])=>_.isSigner&&_.isWritable),i=t.filter(([,_])=>_.isSigner&&!_.isWritable),f=t.filter(([,_])=>!_.isSigner&&_.isWritable),s=t.filter(([,_])=>!_.isSigner&&!_.isWritable),h={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:s.length};{Qt(n.length>0,"Expected at least one writable signer key");const[_]=n[0];Qt(_===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const l=[...n.map(([_])=>new lt(_)),...i.map(([_])=>new lt(_)),...f.map(([_])=>new lt(_)),...s.map(([_])=>new lt(_))];return[h,l]}extractTableLookup(t){const[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[f,s]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(!(n.length===0&&f.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:f},{writable:i,readonly:s}]}drainKeysFoundInLookupTable(t,n){const i=new Array,f=new Array;for(const[s,h]of this.keyMetaMap.entries())if(n(h)){const l=new lt(s),_=t.findIndex(x=>x.equals(l));_>=0&&(Qt(_<256,"Max lookup table index exceeded"),i.push(_),f.push(l),this.keyMetaMap.delete(s))}return[i,f]}}const Wo="Reached end of buffer unexpectedly";function Te(r){if(r.length===0)throw new Error(Wo);return r.shift()}function pe(r,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>r.length:n>=r.length)throw new Error(Wo);return r.splice(...t)}class fr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new lt(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ce.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Jr(this.staticAccountKeys)}static compile(t){const n=Qr.compile(t.instructions,t.payerKey),[i,f]=n.getMessageComponents(),h=new Jr(f).compileInstructions(t.instructions).map(l=>({programIdIndex:l.programIdIndex,accounts:l.accountKeyIndexes,data:ce.encode(l.data)}));return new fr({header:i,accountKeys:f,recentBlockhash:t.recentBlockhash,instructions:h})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const i=t-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];de(n,t);const i=this.instructions.map(C=>{const{accounts:B,programIdIndex:I}=C,M=Array.from(ce.decode(C.data));let L=[];de(L,B.length);let F=[];return de(F,M.length),{programIdIndex:I,keyIndicesCount:dt.Buffer.from(L),keyIndices:B,dataLength:dt.Buffer.from(F),data:M}});let f=[];de(f,i.length);let s=dt.Buffer.alloc(ur);dt.Buffer.from(f).copy(s);let h=f.length;i.forEach(C=>{const I=U.struct([U.u8("programIdIndex"),U.blob(C.keyIndicesCount.length,"keyIndicesCount"),U.seq(U.u8("keyIndex"),C.keyIndices.length,"keyIndices"),U.blob(C.dataLength.length,"dataLength"),U.seq(U.u8("userdatum"),C.data.length,"data")]).encode(C,s,h);h+=I}),s=s.slice(0,h);const l=U.struct([U.blob(1,"numRequiredSignatures"),U.blob(1,"numReadonlySignedAccounts"),U.blob(1,"numReadonlyUnsignedAccounts"),U.blob(n.length,"keyCount"),U.seq(pt("key"),t,"keys"),pt("recentBlockhash")]),_={numRequiredSignatures:dt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:dt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:dt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:dt.Buffer.from(n),keys:this.accountKeys.map(C=>qn(C.toBytes())),recentBlockhash:ce.decode(this.recentBlockhash)};let x=dt.Buffer.alloc(2048);const T=l.encode(_,x);return s.copy(x,T),x.slice(0,T+s.length)}static from(t){let n=[...t];const i=Te(n);if(i!==(i&Gn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const f=Te(n),s=Te(n),h=le(n);let l=[];for(let B=0;B<h;B++){const I=pe(n,0,Fe);l.push(new lt(dt.Buffer.from(I)))}const _=pe(n,0,Fe),x=le(n);let T=[];for(let B=0;B<x;B++){const I=Te(n),M=le(n),L=pe(n,0,M),F=le(n),K=pe(n,0,F),G=ce.encode(dt.Buffer.from(K));T.push({programIdIndex:I,accounts:L,data:G})}const C={header:{numRequiredSignatures:i,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:s},recentBlockhash:ce.encode(dt.Buffer.from(_)),accountKeys:l,instructions:T};return new fr(C)}}class tn{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Jr(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(t>=i){const f=t-i,s=this.addressTableLookups.reduce((h,l)=>h+l.writableIndexes.length,0);return f<s}else if(t>=this.header.numRequiredSignatures){const f=t-n,h=i-n-this.header.numReadonlyUnsignedAccounts;return f<h}else{const f=n-this.header.numReadonlySignedAccounts;return t<f}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const f=t.find(s=>s.key.equals(i.accountKey));if(!f)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const s of i.writableIndexes)if(s<f.state.addresses.length)n.writable.push(f.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${i.accountKey.toBase58()}`);for(const s of i.readonlyIndexes)if(s<f.state.addresses.length)n.readonly.push(f.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(t){const n=Qr.compile(t.instructions,t.payerKey),i=new Array,f={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const T of s){const C=n.extractTableLookup(T);if(C!==void 0){const[B,{writable:I,readonly:M}]=C;i.push(B),f.writable.push(...I),f.readonly.push(...M)}}const[h,l]=n.getMessageComponents(),x=new Jr(l,f).compileInstructions(t.instructions);return new tn({header:h,staticAccountKeys:l,recentBlockhash:t.recentBlockhash,compiledInstructions:x,addressTableLookups:i})}serialize(){const t=Array();de(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();de(i,this.compiledInstructions.length);const f=this.serializeAddressTableLookups(),s=Array();de(s,this.addressTableLookups.length);const h=U.struct([U.u8("prefix"),U.struct([U.u8("numRequiredSignatures"),U.u8("numReadonlySignedAccounts"),U.u8("numReadonlyUnsignedAccounts")],"header"),U.blob(t.length,"staticAccountKeysLength"),U.seq(pt(),this.staticAccountKeys.length,"staticAccountKeys"),pt("recentBlockhash"),U.blob(i.length,"instructionsLength"),U.blob(n.length,"serializedInstructions"),U.blob(s.length,"addressTableLookupsLength"),U.blob(f.length,"serializedAddressTableLookups")]),l=new Uint8Array(ur),x=h.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(T=>T.toBytes()),recentBlockhash:ce.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:f},l);return l.slice(0,x)}serializeInstructions(){let t=0;const n=new Uint8Array(ur);for(const i of this.compiledInstructions){const f=Array();de(f,i.accountKeyIndexes.length);const s=Array();de(s,i.data.length);const h=U.struct([U.u8("programIdIndex"),U.blob(f.length,"encodedAccountKeyIndexesLength"),U.seq(U.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),U.blob(s.length,"encodedDataLength"),U.blob(i.data.length,"data")]);t+=h.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(f),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:i.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(ur);for(const i of this.addressTableLookups){const f=Array();de(f,i.writableIndexes.length);const s=Array();de(s,i.readonlyIndexes.length);const h=U.struct([pt("accountKey"),U.blob(f.length,"encodedWritableIndexesLength"),U.seq(U.u8(),i.writableIndexes.length,"writableIndexes"),U.blob(s.length,"encodedReadonlyIndexesLength"),U.seq(U.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);t+=h.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(f),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:i.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const i=Te(n),f=i&Gn;Qt(i!==f,"Expected versioned message but received legacy message");const s=f;Qt(s===0,`Expected versioned message with version 0 but found version ${s}`);const h={numRequiredSignatures:Te(n),numReadonlySignedAccounts:Te(n),numReadonlyUnsignedAccounts:Te(n)},l=[],_=le(n);for(let M=0;M<_;M++)l.push(new lt(pe(n,0,Fe)));const x=ce.encode(pe(n,0,Fe)),T=le(n),C=[];for(let M=0;M<T;M++){const L=Te(n),F=le(n),K=pe(n,0,F),G=le(n),z=new Uint8Array(pe(n,0,G));C.push({programIdIndex:L,accountKeyIndexes:K,data:z})}const B=le(n),I=[];for(let M=0;M<B;M++){const L=new lt(pe(n,0,Fe)),F=le(n),K=pe(n,0,F),G=le(n),z=pe(n,0,G);I.push({accountKey:L,writableIndexes:K,readonlyIndexes:z})}return new tn({header:h,staticAccountKeys:l,recentBlockhash:x,compiledInstructions:C,addressTableLookups:I})}}const Jo={deserializeMessageVersion(r){const t=r[0],n=t&Gn;return n===t?"legacy":n},deserialize:r=>{const t=Jo.deserializeMessageVersion(r);if(t==="legacy")return fr.from(r);if(t===0)return tn.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},ul=dt.Buffer.alloc(Wr).fill(0);class Qo{constructor(t){this.keys=void 0,this.programId=void 0,this.data=dt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:i})=>({pubkey:t.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class vr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=t;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=t;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=t;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Qo(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.log("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let L=0;L<n.length;L++)if(n[L].programId===void 0)throw new Error(`Transaction instruction index ${L} has undefined program id`);const f=[],s=[];n.forEach(L=>{L.keys.forEach(K=>{s.push({...K})});const F=L.programId.toString();f.includes(F)||f.push(F)}),f.forEach(L=>{s.push({pubkey:new lt(L),isSigner:!1,isWritable:!1})});const h=[];s.forEach(L=>{const F=L.pubkey.toString(),K=h.findIndex(G=>G.pubkey.toString()===F);K>-1?(h[K].isWritable=h[K].isWritable||L.isWritable,h[K].isSigner=h[K].isSigner||L.isSigner):h.push(L)}),h.sort(function(L,F){if(L.isSigner!==F.isSigner)return L.isSigner?-1:1;if(L.isWritable!==F.isWritable)return L.isWritable?-1:1;const K={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return L.pubkey.toBase58().localeCompare(F.pubkey.toBase58(),"en",K)});const l=h.findIndex(L=>L.pubkey.equals(i));if(l>-1){const[L]=h.splice(l,1);L.isSigner=!0,L.isWritable=!0,h.unshift(L)}else h.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const L of this.signatures){const F=h.findIndex(K=>K.pubkey.equals(L.publicKey));if(F>-1)h[F].isSigner||(h[F].isSigner=!0,console.log("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${L.publicKey.toString()}`)}let _=0,x=0,T=0;const C=[],B=[];h.forEach(({pubkey:L,isSigner:F,isWritable:K})=>{F?(C.push(L.toString()),_+=1,K||(x+=1)):(B.push(L.toString()),K||(T+=1))});const I=C.concat(B),M=n.map(L=>{const{data:F,programId:K}=L;return{programIdIndex:I.indexOf(K.toString()),accounts:L.keys.map(G=>I.indexOf(G.pubkey.toString())),data:ce.encode(F)}});return M.forEach(L=>{Qt(L.programIdIndex>=0),L.accounts.forEach(F=>Qt(F>=0))}),new fr({header:{numRequiredSignatures:_,numReadonlySignedAccounts:x,numReadonlyUnsignedAccounts:T},accountKeys:I,recentBlockhash:t,instructions:M})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((f,s)=>n[s].equals(f.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(i=>{const f=i.toString();return n.has(f)?!1:(n.add(f),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const s of t){const h=s.publicKey.toString();n.has(h)||(n.add(h),i.push(s))}this.signatures=i.map(s=>({signature:null,publicKey:s.publicKey}));const f=this._compile();this._partialSign(f,...i)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const s of t){const h=s.publicKey.toString();n.has(h)||(n.add(h),i.push(s))}const f=this._compile();this._partialSign(f,...i)}_partialSign(t,...n){const i=t.serialize();n.forEach(f=>{const s=Yo(i,f.secretKey);this._addSignature(f.publicKey,qn(s))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Qt(n.length===64);const i=this.signatures.findIndex(f=>t.equals(f.publicKey));if(i<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[i].signature=dt.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const i={};for(const{signature:f,publicKey:s}of this.signatures)f===null?n&&(i.missing||=[]).push(s):Q0(f,t,s.toBytes())||(i.invalid||=[]).push(s);return i.invalid||i.missing?i:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),f=this.serializeMessage();if(i){const s=this._getMessageSignednessErrors(f,n);if(s){let h="Signature verification failed.";throw s.invalid&&(h+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(l=>l.toBase58()).join("`, `")}\`].`),s.missing&&(h+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(l=>l.toBase58()).join("`, `")}\`].`),new Error(h)}}return this._serialize(f)}_serialize(t){const{signatures:n}=this,i=[];de(i,n.length);const f=i.length+n.length*64+t.length,s=dt.Buffer.alloc(f);return Qt(n.length<256),dt.Buffer.from(i).copy(s,0),n.forEach(({signature:h},l)=>{h!==null&&(Qt(h.length===64,"signature has invalid length"),dt.Buffer.from(h).copy(s,i.length+l*64))}),t.copy(s,i.length+n.length*64),Qt(s.length<=ur,`Transaction too large: ${s.length} > ${ur}`),s}get keys(){return Qt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Qt(this.instructions.length===1),this.instructions[0].programId}get data(){return Qt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const i=le(n);let f=[];for(let s=0;s<i;s++){const h=pe(n,0,Wr);f.push(ce.encode(dt.Buffer.from(h)))}return vr.populate(fr.from(n),f)}static populate(t,n=[]){const i=new vr;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),n.forEach((f,s)=>{const h={signature:f==ce.encode(ul)?null:ce.decode(f),publicKey:t.accountKeys[s]};i.signatures.push(h)}),t.instructions.forEach(f=>{const s=f.accounts.map(h=>{const l=t.accountKeys[h];return{pubkey:l,isSigner:i.signatures.some(_=>_.publicKey.toString()===l.toString())||t.isAccountSigner(h),isWritable:t.isAccountWritable(h)}});i.instructions.push(new Qo({keys:s,programId:t.accountKeys[f.programIdIndex],data:ce.decode(f.data)}))}),i._message=t,i._json=i.toJSON(),i}}class je{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Qt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let f=0;f<t.header.numRequiredSignatures;f++)i.push(new Uint8Array(Wr));this.signatures=i}this.message=t}serialize(){const t=this.message.serialize(),n=Array();de(n,this.signatures.length);const i=U.struct([U.blob(n.length,"encodedSignaturesLength"),U.seq(nl(),this.signatures.length,"signatures"),U.blob(t.length,"serializedMessage")]),f=new Uint8Array(2048),s=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},f);return f.slice(0,s)}static deserialize(t){let n=[...t];const i=[],f=le(n);for(let h=0;h<f;h++)i.push(new Uint8Array(pe(n,0,Wr)));const s=Jo.deserialize(new Uint8Array(n));return new je(s,i)}sign(t){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const f of t){const s=i.findIndex(h=>h.equals(f.publicKey));Qt(s>=0,`Cannot sign with non signer key ${f.publicKey.toBase58()}`),this.signatures[s]=Yo(n,f.secretKey)}}addSignature(t,n){Qt(n.byteLength===64,"Signature must be 64 bytes long");const f=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));Qt(f>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[f]=n}}new lt("SysvarC1ock11111111111111111111111111111111"),new lt("SysvarEpochSchedu1e111111111111111111111111"),new lt("Sysvar1nstructions1111111111111111111111111"),new lt("SysvarRecentB1ockHashes11111111111111111111"),new lt("SysvarRent111111111111111111111111111111111"),new lt("SysvarRewards111111111111111111111111111111"),new lt("SysvarS1otHashes111111111111111111111111111"),new lt("SysvarS1otHistory11111111111111111111111111"),new lt("SysvarStakeHistory1111111111111111111111111");const cl=U.nu64("lamportsPerSignature");U.struct([U.u32("version"),U.u32("state"),pt("authorizedPubkey"),pt("nonce"),U.struct([cl],"feeCalculator")]).span;function hr(r){const t=U.blob(8,r),n=t.decode.bind(t),i=t.encode.bind(t),f=t,s=c0();return f.decode=(h,l)=>{const _=n(h,l);return s.decode(_)},f.encode=(h,l,_)=>{const x=s.encode(h);return i(x,l,_)},f}Object.freeze({Create:{index:0,layout:U.struct([U.u32("instruction"),U.ns64("lamports"),U.ns64("space"),pt("programId")])},Assign:{index:1,layout:U.struct([U.u32("instruction"),pt("programId")])},Transfer:{index:2,layout:U.struct([U.u32("instruction"),hr("lamports")])},CreateWithSeed:{index:3,layout:U.struct([U.u32("instruction"),pt("base"),cr("seed"),U.ns64("lamports"),U.ns64("space"),pt("programId")])},AdvanceNonceAccount:{index:4,layout:U.struct([U.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:U.struct([U.u32("instruction"),pt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U.struct([U.u32("instruction"),pt("authorized")])},Allocate:{index:8,layout:U.struct([U.u32("instruction"),U.ns64("space")])},AllocateWithSeed:{index:9,layout:U.struct([U.u32("instruction"),pt("base"),cr("seed"),U.ns64("space"),pt("programId")])},AssignWithSeed:{index:10,layout:U.struct([U.u32("instruction"),pt("base"),cr("seed"),pt("programId")])},TransferWithSeed:{index:11,layout:U.struct([U.u32("instruction"),hr("lamports"),cr("seed"),pt("programId")])},UpgradeNonceAccount:{index:12,layout:U.struct([U.u32("instruction")])}}),new lt("11111111111111111111111111111111"),new lt("BPFLoader2111111111111111111111111111111111"),U.struct([U.u32("typeIndex"),hr("deactivationSlot"),U.nu64("lastExtendedSlot"),U.u8("lastExtendedStartIndex"),U.u8(),U.seq(pt(),U.offset(U.u8(),-1),"authority")]);const Lt=Ir(Tn(lt),Q(),r=>new lt(r)),ts=Bn([Q(),Tt("base64")]),jn=Ir(Tn(dt.Buffer),ts,r=>dt.Buffer.from(r[0],"base64"));function es(r){return fe([X({jsonrpc:Tt("2.0"),id:Q(),result:r}),X({jsonrpc:Tt("2.0"),id:Q(),error:X({code:or(),message:Q(),data:ct(_0())})})])}const fl=es(or());function St(r){return Ir(es(r),fl,t=>"error"in t?t:{...t,result:Ar(t.result,r)})}function Ee(r){return St(X({context:X({slot:q()}),value:r}))}function en(r){return X({context:X({slot:q()}),value:r})}const hl=X({foundation:q(),foundationTerm:q(),initial:q(),taper:q(),terminal:q()});St(ot(st(X({epoch:q(),effectiveSlot:q(),amount:q(),postBalance:q(),commission:ct(st(q()))}))));const ll=ot(X({slot:q(),prioritizationFee:q()})),dl=X({total:q(),validator:q(),foundation:q(),epoch:q()}),pl=X({epoch:q(),slotIndex:q(),slotsInEpoch:q(),absoluteSlot:q(),blockHeight:ct(q()),transactionCount:ct(q())}),gl=X({slotsPerEpoch:q(),leaderScheduleSlotOffset:q(),warmup:Se(),firstNormalEpoch:q(),firstNormalSlot:q()}),_l=To(Q(),ot(q())),He=st(fe([X({}),Q()])),yl=X({err:He}),El=Tt("receivedSignature");X({"solana-core":Q(),"feature-set":ct(q())});const ml=X({program:Q(),programId:Lt,parsed:or()}),wl=X({programId:Lt,accounts:ot(Lt),data:Q()});Ee(X({err:st(fe([X({}),Q()])),logs:st(ot(Q())),accounts:ct(st(ot(st(X({executable:Se(),owner:Q(),lamports:q(),data:ot(Q()),rentEpoch:ct(q())}))))),unitsConsumed:ct(q()),returnData:ct(st(X({programId:Q(),data:Bn([Q(),Tt("base64")])}))),innerInstructions:ct(st(ot(X({index:q(),instructions:ot(fe([ml,wl]))}))))})),Ee(X({byIdentity:To(Q(),ot(q())),range:X({firstSlot:q(),lastSlot:q()})})),St(hl),St(dl),St(ll),St(pl),St(gl),St(_l),St(q()),Ee(X({total:q(),circulating:q(),nonCirculating:q(),nonCirculatingAccounts:ot(Lt)}));const Rl=X({amount:Q(),uiAmount:st(q()),decimals:q(),uiAmountString:ct(Q())});Ee(ot(X({address:Lt,amount:Q(),uiAmount:st(q()),decimals:q(),uiAmountString:ct(Q())}))),Ee(ot(X({pubkey:Lt,account:X({executable:Se(),owner:Lt,lamports:q(),data:jn,rentEpoch:q()})})));const Hn=X({program:Q(),parsed:or(),space:q()});Ee(ot(X({pubkey:Lt,account:X({executable:Se(),owner:Lt,lamports:q(),data:Hn,rentEpoch:q()})}))),Ee(ot(X({lamports:q(),address:Lt})));const Yn=X({executable:Se(),owner:Lt,lamports:q(),data:jn,rentEpoch:q()});X({pubkey:Lt,account:Yn});const Al=Ir(fe([Tn(dt.Buffer),Hn]),fe([ts,Hn]),r=>Array.isArray(r)?Ar(r,jn):r),Sl=X({executable:Se(),owner:Lt,lamports:q(),data:Al,rentEpoch:q()});X({pubkey:Lt,account:Sl}),X({state:fe([Tt("active"),Tt("inactive"),Tt("activating"),Tt("deactivating")]),active:q(),inactive:q()}),St(ot(X({signature:Q(),slot:q(),err:He,memo:st(Q()),blockTime:ct(st(q()))}))),St(ot(X({signature:Q(),slot:q(),err:He,memo:st(Q()),blockTime:ct(st(q()))}))),X({subscription:q(),result:en(Yn)});const Il=X({pubkey:Lt,account:Yn});X({subscription:q(),result:en(Il)});const vl=X({parent:q(),slot:q(),root:q()});X({subscription:q(),result:vl});const xl=fe([X({type:fe([Tt("firstShredReceived"),Tt("completed"),Tt("optimisticConfirmation"),Tt("root")]),slot:q(),timestamp:q()}),X({type:Tt("createdBank"),parent:q(),slot:q(),timestamp:q()}),X({type:Tt("frozen"),slot:q(),timestamp:q(),stats:X({numTransactionEntries:q(),numSuccessfulTransactions:q(),numFailedTransactions:q(),maxTransactionsPerEntry:q()})}),X({type:Tt("dead"),slot:q(),timestamp:q(),err:Q()})]);X({subscription:q(),result:xl}),X({subscription:q(),result:en(fe([yl,El]))}),X({subscription:q(),result:q()}),X({pubkey:Q(),gossip:st(Q()),tpu:st(Q()),rpc:st(Q()),version:st(Q())});const rs=X({votePubkey:Q(),nodePubkey:Q(),activatedStake:q(),epochVoteAccount:Se(),epochCredits:ot(Bn([q(),q(),q()])),commission:q(),lastVote:q(),rootSlot:st(q())});St(X({current:ot(rs),delinquent:ot(rs)}));const bl=fe([Tt("processed"),Tt("confirmed"),Tt("finalized")]),Ol=X({slot:q(),confirmations:st(q()),err:He,confirmationStatus:ct(bl)});Ee(ot(st(Ol))),St(q());const ns=X({accountKey:Lt,writableIndexes:ot(q()),readonlyIndexes:ot(q())}),Zn=X({signatures:ot(Q()),message:X({accountKeys:ot(Q()),header:X({numRequiredSignatures:q(),numReadonlySignedAccounts:q(),numReadonlyUnsignedAccounts:q()}),instructions:ot(X({accounts:ot(q()),data:Q(),programIdIndex:q()})),recentBlockhash:Q(),addressTableLookups:ct(ot(ns))})}),is=X({pubkey:Lt,signer:Se(),writable:Se(),source:ct(fe([Tt("transaction"),Tt("lookupTable")]))}),os=X({accountKeys:ot(is),signatures:ot(Q())}),ss=X({parsed:or(),program:Q(),programId:Lt}),as=X({accounts:ot(Lt),data:Q(),programId:Lt}),Nl=fe([as,ss]),Tl=fe([X({parsed:or(),program:Q(),programId:Q()}),X({accounts:ot(Q()),data:Q(),programId:Q()})]),us=Ir(Nl,Tl,r=>"accounts"in r?Ar(r,as):Ar(r,ss)),cs=X({signatures:ot(Q()),message:X({accountKeys:ot(is),instructions:ot(us),recentBlockhash:Q(),addressTableLookups:ct(st(ot(ns)))})}),rn=X({accountIndex:q(),mint:Q(),owner:ct(Q()),programId:ct(Q()),uiTokenAmount:Rl}),fs=X({writable:ot(Lt),readonly:ot(Lt)}),nn=X({err:He,fee:q(),innerInstructions:ct(st(ot(X({index:q(),instructions:ot(X({accounts:ot(q()),data:Q(),programIdIndex:q()}))})))),preBalances:ot(q()),postBalances:ot(q()),logMessages:ct(st(ot(Q()))),preTokenBalances:ct(st(ot(rn))),postTokenBalances:ct(st(ot(rn))),loadedAddresses:ct(fs),computeUnitsConsumed:ct(q()),costUnits:ct(q())}),Xn=X({err:He,fee:q(),innerInstructions:ct(st(ot(X({index:q(),instructions:ot(us)})))),preBalances:ot(q()),postBalances:ot(q()),logMessages:ct(st(ot(Q()))),preTokenBalances:ct(st(ot(rn))),postTokenBalances:ct(st(ot(rn))),loadedAddresses:ct(fs),computeUnitsConsumed:ct(q()),costUnits:ct(q())}),lr=fe([Tt(0),Tt("legacy")]),Ye=X({pubkey:Q(),lamports:q(),postBalance:st(q()),rewardType:st(Q()),commission:ct(st(q()))});St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),transactions:ot(X({transaction:Zn,meta:st(nn),version:ct(lr)})),rewards:ct(ot(Ye)),blockTime:st(q()),blockHeight:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),rewards:ct(ot(Ye)),blockTime:st(q()),blockHeight:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),transactions:ot(X({transaction:os,meta:st(nn),version:ct(lr)})),rewards:ct(ot(Ye)),blockTime:st(q()),blockHeight:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),transactions:ot(X({transaction:cs,meta:st(Xn),version:ct(lr)})),rewards:ct(ot(Ye)),blockTime:st(q()),blockHeight:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),transactions:ot(X({transaction:os,meta:st(Xn),version:ct(lr)})),rewards:ct(ot(Ye)),blockTime:st(q()),blockHeight:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),rewards:ct(ot(Ye)),blockTime:st(q()),blockHeight:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),transactions:ot(X({transaction:Zn,meta:st(nn)})),rewards:ct(ot(Ye)),blockTime:st(q())}))),St(st(X({blockhash:Q(),previousBlockhash:Q(),parentSlot:q(),signatures:ot(Q()),blockTime:st(q())}))),St(st(X({slot:q(),meta:st(nn),blockTime:ct(st(q())),transaction:Zn,version:ct(lr)}))),St(st(X({slot:q(),transaction:cs,meta:st(Xn),blockTime:ct(st(q())),version:ct(lr)}))),Ee(X({blockhash:Q(),lastValidBlockHeight:q()})),Ee(Se());const Bl=X({slot:q(),numTransactions:q(),numSlots:q(),samplePeriodSecs:q()});St(ot(Bl)),Ee(st(X({feeCalculator:X({lamportsPerSignature:q()})}))),St(Q()),St(Q());const Ml=X({err:He,logs:ot(Q()),signature:Q()});X({result:en(Ml),subscription:q()}),Object.freeze({CreateLookupTable:{index:0,layout:U.struct([U.u32("instruction"),hr("recentSlot"),U.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:U.struct([U.u32("instruction")])},ExtendLookupTable:{index:2,layout:U.struct([U.u32("instruction"),hr(),U.seq(pt(),U.offset(U.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U.struct([U.u32("instruction")])},CloseLookupTable:{index:4,layout:U.struct([U.u32("instruction")])}}),new lt("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:U.struct([U.u8("instruction"),U.u32("units"),U.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:U.struct([U.u8("instruction"),U.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:U.struct([U.u8("instruction"),U.u32("units")])},SetComputeUnitPrice:{index:3,layout:U.struct([U.u8("instruction"),hr("microLamports")])}}),new lt("ComputeBudget111111111111111111111111111111"),U.struct([U.u8("numSignatures"),U.u8("padding"),U.u16("signatureOffset"),U.u16("signatureInstructionIndex"),U.u16("publicKeyOffset"),U.u16("publicKeyInstructionIndex"),U.u16("messageDataOffset"),U.u16("messageDataSize"),U.u16("messageInstructionIndex")]),new lt("Ed25519SigVerify111111111111111111111111111"),J0.utils.isValidPrivateKey,U.struct([U.u8("numSignatures"),U.u16("signatureOffset"),U.u8("signatureInstructionIndex"),U.u16("ethAddressOffset"),U.u8("ethAddressInstructionIndex"),U.u16("messageDataOffset"),U.u16("messageDataSize"),U.u8("messageInstructionIndex"),U.blob(20,"ethAddress"),U.blob(64,"signature"),U.u8("recoveryId")]),new lt("KeccakSecp256k11111111111111111111111111111");var hs;new lt("StakeConfig11111111111111111111111111111111");class ls{constructor(t,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=i}}hs=ls,ls.default=new hs(0,0,lt.default),Object.freeze({Initialize:{index:0,layout:U.struct([U.u32("instruction"),il(),ol()])},Authorize:{index:1,layout:U.struct([U.u32("instruction"),pt("newAuthorized"),U.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:U.struct([U.u32("instruction")])},Split:{index:3,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},Withdraw:{index:4,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},Deactivate:{index:5,layout:U.struct([U.u32("instruction")])},Merge:{index:7,layout:U.struct([U.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:U.struct([U.u32("instruction"),pt("newAuthorized"),U.u32("stakeAuthorizationType"),cr("authoritySeed"),pt("authorityOwner")])}}),new lt("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:U.struct([U.u32("instruction"),sl()])},Authorize:{index:1,layout:U.struct([U.u32("instruction"),pt("newAuthorized"),U.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:U.struct([U.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:U.struct([U.u32("instruction"),al()])}}),new lt("Vote111111111111111111111111111111111111111"),new lt("Va1idator1nfo111111111111111111111111111111"),X({name:Q(),website:ct(Q()),details:ct(Q()),iconUrl:ct(Q()),keybaseUsername:ct(Q())}),new lt("Vote111111111111111111111111111111111111111"),U.struct([pt("nodePubkey"),pt("authorizedWithdrawer"),U.u8("commission"),U.nu64(),U.seq(U.struct([U.nu64("slot"),U.u32("confirmationCount")]),U.offset(U.u32(),-8),"votes"),U.u8("rootSlotValid"),U.nu64("rootSlot"),U.nu64(),U.seq(U.struct([U.nu64("epoch"),pt("authorizedVoter")]),U.offset(U.u32(),-8),"authorizedVoters"),U.struct([U.seq(U.struct([pt("authorizedPubkey"),U.nu64("epochOfLastAuthorizedSwitch"),U.nu64("targetEpoch")]),32,"buf"),U.nu64("idx"),U.u8("isEmpty")],"priorVoters"),U.nu64(),U.seq(U.struct([U.nu64("epoch"),U.nu64("credits"),U.nu64("prevCredits")]),U.offset(U.u32(),-8),"epochCredits"),U.struct([U.nu64("slot"),U.nu64("timestamp")],"lastTimestamp")]);var Wn={},xr={},ds;function Ll(){if(ds)return xr;ds=1,xr.byteLength=l,xr.toByteArray=x,xr.fromByteArray=B;for(var r=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,s=i.length;f<s;++f)r[f]=i[f],t[i.charCodeAt(f)]=f;t[45]=62,t[95]=63;function h(I){var M=I.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=I.indexOf("=");L===-1&&(L=M);var F=L===M?0:4-L%4;return[L,F]}function l(I){var M=h(I),L=M[0],F=M[1];return(L+F)*3/4-F}function _(I,M,L){return(M+L)*3/4-L}function x(I){var M,L=h(I),F=L[0],K=L[1],G=new n(_(I,F,K)),z=0,W=K>0?F-4:F,Z;for(Z=0;Z<W;Z+=4)M=t[I.charCodeAt(Z)]<<18|t[I.charCodeAt(Z+1)]<<12|t[I.charCodeAt(Z+2)]<<6|t[I.charCodeAt(Z+3)],G[z++]=M>>16&255,G[z++]=M>>8&255,G[z++]=M&255;return K===2&&(M=t[I.charCodeAt(Z)]<<2|t[I.charCodeAt(Z+1)]>>4,G[z++]=M&255),K===1&&(M=t[I.charCodeAt(Z)]<<10|t[I.charCodeAt(Z+1)]<<4|t[I.charCodeAt(Z+2)]>>2,G[z++]=M>>8&255,G[z++]=M&255),G}function T(I){return r[I>>18&63]+r[I>>12&63]+r[I>>6&63]+r[I&63]}function C(I,M,L){for(var F,K=[],G=M;G<L;G+=3)F=(I[G]<<16&16711680)+(I[G+1]<<8&65280)+(I[G+2]&255),K.push(T(F));return K.join("")}function B(I){for(var M,L=I.length,F=L%3,K=[],G=16383,z=0,W=L-F;z<W;z+=G)K.push(C(I,z,z+G>W?W:z+G));return F===1?(M=I[L-1],K.push(r[M>>2]+r[M<<4&63]+"==")):F===2&&(M=(I[L-2]<<8)+I[L-1],K.push(r[M>>10]+r[M>>4&63]+r[M<<2&63]+"=")),K.join("")}return xr}var on={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ps;function Cl(){return ps||(ps=1,on.read=function(r,t,n,i,f){var s,h,l=f*8-i-1,_=(1<<l)-1,x=_>>1,T=-7,C=n?f-1:0,B=n?-1:1,I=r[t+C];for(C+=B,s=I&(1<<-T)-1,I>>=-T,T+=l;T>0;s=s*256+r[t+C],C+=B,T-=8);for(h=s&(1<<-T)-1,s>>=-T,T+=i;T>0;h=h*256+r[t+C],C+=B,T-=8);if(s===0)s=1-x;else{if(s===_)return h?NaN:(I?-1:1)*(1/0);h=h+Math.pow(2,i),s=s-x}return(I?-1:1)*h*Math.pow(2,s-i)},on.write=function(r,t,n,i,f,s){var h,l,_,x=s*8-f-1,T=(1<<x)-1,C=T>>1,B=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=i?0:s-1,M=i?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,h=T):(h=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-h))<1&&(h--,_*=2),h+C>=1?t+=B/_:t+=B*Math.pow(2,1-C),t*_>=2&&(h++,_/=2),h+C>=T?(l=0,h=T):h+C>=1?(l=(t*_-1)*Math.pow(2,f),h=h+C):(l=t*Math.pow(2,C-1)*Math.pow(2,f),h=0));f>=8;r[n+I]=l&255,I+=M,l/=256,f-=8);for(h=h<<f|l,x+=f;x>0;r[n+I]=h&255,I+=M,h/=256,x-=8);r[n+I-M]|=L*128}),on}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var gs;function Ul(){return gs||(gs=1,(function(r){const t=Ll(),n=Cl(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=G,r.INSPECT_MAX_BYTES=50;const f=2147483647;r.kMaxLength=f,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.log=="function"&&console.log("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const u=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(u,e),u.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function h(u){if(u>f)throw new RangeError('The value "'+u+'" is invalid for option "size"');const e=new Uint8Array(u);return Object.setPrototypeOf(e,l.prototype),e}function l(u,e,o){if(typeof u=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(u)}return _(u,e,o)}l.poolSize=8192;function _(u,e,o){if(typeof u=="string")return B(u,e);if(ArrayBuffer.isView(u))return M(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(bt(u,ArrayBuffer)||u&&bt(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(u,SharedArrayBuffer)||u&&bt(u.buffer,SharedArrayBuffer)))return L(u,e,o);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=u.valueOf&&u.valueOf();if(g!=null&&g!==u)return l.from(g,e,o);const m=F(u);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return l.from(u[Symbol.toPrimitive]("string"),e,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}l.from=function(u,e,o){return _(u,e,o)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function x(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function T(u,e,o){return x(u),u<=0?h(u):e!==void 0?typeof o=="string"?h(u).fill(e,o):h(u).fill(e):h(u)}l.alloc=function(u,e,o){return T(u,e,o)};function C(u){return x(u),h(u<0?0:K(u)|0)}l.allocUnsafe=function(u){return C(u)},l.allocUnsafeSlow=function(u){return C(u)};function B(u,e){if((typeof e!="string"||e==="")&&(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const o=z(u,e)|0;let g=h(o);const m=g.write(u,e);return m!==o&&(g=g.slice(0,m)),g}function I(u){const e=u.length<0?0:K(u.length)|0,o=h(e);for(let g=0;g<e;g+=1)o[g]=u[g]&255;return o}function M(u){if(bt(u,Uint8Array)){const e=new Uint8Array(u);return L(e.buffer,e.byteOffset,e.byteLength)}return I(u)}function L(u,e,o){if(e<0||u.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<e+(o||0))throw new RangeError('"length" is outside of buffer bounds');let g;return e===void 0&&o===void 0?g=new Uint8Array(u):o===void 0?g=new Uint8Array(u,e):g=new Uint8Array(u,e,o),Object.setPrototypeOf(g,l.prototype),g}function F(u){if(l.isBuffer(u)){const e=K(u.length)|0,o=h(e);return o.length===0||u.copy(o,0,0,e),o}if(u.length!==void 0)return typeof u.length!="number"||At(u.length)?h(0):I(u);if(u.type==="Buffer"&&Array.isArray(u.data))return I(u.data)}function K(u){if(u>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return u|0}function G(u){return+u!=u&&(u=0),l.alloc(+u)}l.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==l.prototype},l.compare=function(e,o){if(bt(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),bt(o,Uint8Array)&&(o=l.from(o,o.offset,o.byteLength)),!l.isBuffer(e)||!l.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===o)return 0;let g=e.length,m=o.length;for(let S=0,N=Math.min(g,m);S<N;++S)if(e[S]!==o[S]){g=e[S],m=o[S];break}return g<m?-1:m<g?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,o){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return l.alloc(0);let g;if(o===void 0)for(o=0,g=0;g<e.length;++g)o+=e[g].length;const m=l.allocUnsafe(o);let S=0;for(g=0;g<e.length;++g){let N=e[g];if(bt(N,Uint8Array))S+N.length>m.length?(l.isBuffer(N)||(N=l.from(N)),N.copy(m,S)):Uint8Array.prototype.set.call(m,N,S);else if(l.isBuffer(N))N.copy(m,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=N.length}return m};function z(u,e){if(l.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||bt(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const o=u.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&o===0)return 0;let m=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Rt(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return It(u).length;default:if(m)return g?-1:Rt(u).length;e=(""+e).toLowerCase(),m=!0}}l.byteLength=z;function W(u,e,o){let g=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,e>>>=0,o<=e))return"";for(u||(u="utf8");;)switch(u){case"hex":return O(this,e,o);case"utf8":case"utf-8":return a(this,e,o);case"ascii":return A(this,e,o);case"latin1":case"binary":return v(this,e,o);case"base64":return E(this,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,o);default:if(g)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),g=!0}}l.prototype._isBuffer=!0;function Z(u,e,o){const g=u[e];u[e]=u[o],u[o]=g}l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<e;o+=2)Z(this,o,o+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<e;o+=4)Z(this,o,o+3),Z(this,o+1,o+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<e;o+=8)Z(this,o,o+7),Z(this,o+1,o+6),Z(this,o+2,o+5),Z(this,o+3,o+4);return this},l.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?a(this,0,e):W.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:l.compare(this,e)===0},l.prototype.inspect=function(){let e="";const o=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,o,g,m,S){if(bt(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(o===void 0&&(o=0),g===void 0&&(g=e?e.length:0),m===void 0&&(m=0),S===void 0&&(S=this.length),o<0||g>e.length||m<0||S>this.length)throw new RangeError("out of range index");if(m>=S&&o>=g)return 0;if(m>=S)return-1;if(o>=g)return 1;if(o>>>=0,g>>>=0,m>>>=0,S>>>=0,this===e)return 0;let N=S-m,tt=g-o;const at=Math.min(N,tt),it=this.slice(m,S),ht=e.slice(o,g);for(let et=0;et<at;++et)if(it[et]!==ht[et]){N=it[et],tt=ht[et];break}return N<tt?-1:tt<N?1:0};function nt(u,e,o,g,m){if(u.length===0)return-1;if(typeof o=="string"?(g=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,At(o)&&(o=m?0:u.length-1),o<0&&(o=u.length+o),o>=u.length){if(m)return-1;o=u.length-1}else if(o<0)if(m)o=0;else return-1;if(typeof e=="string"&&(e=l.from(e,g)),l.isBuffer(e))return e.length===0?-1:ft(u,e,o,g,m);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(u,e,o):Uint8Array.prototype.lastIndexOf.call(u,e,o):ft(u,[e],o,g,m);throw new TypeError("val must be string, number or Buffer")}function ft(u,e,o,g,m){let S=1,N=u.length,tt=e.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(u.length<2||e.length<2)return-1;S=2,N/=2,tt/=2,o/=2}function at(ht,et){return S===1?ht[et]:ht.readUInt16BE(et*S)}let it;if(m){let ht=-1;for(it=o;it<N;it++)if(at(u,it)===at(e,ht===-1?0:it-ht)){if(ht===-1&&(ht=it),it-ht+1===tt)return ht*S}else ht!==-1&&(it-=it-ht),ht=-1}else for(o+tt>N&&(o=N-tt),it=o;it>=0;it--){let ht=!0;for(let et=0;et<tt;et++)if(at(u,it+et)!==at(e,et)){ht=!1;break}if(ht)return it}return-1}l.prototype.includes=function(e,o,g){return this.indexOf(e,o,g)!==-1},l.prototype.indexOf=function(e,o,g){return nt(this,e,o,g,!0)},l.prototype.lastIndexOf=function(e,o,g){return nt(this,e,o,g,!1)};function ut(u,e,o,g){o=Number(o)||0;const m=u.length-o;g?(g=Number(g),g>m&&(g=m)):g=m;const S=e.length;g>S/2&&(g=S/2);let N;for(N=0;N<g;++N){const tt=parseInt(e.substr(N*2,2),16);if(At(tt))return N;u[o+N]=tt}return N}function k(u,e,o,g){return Et(Rt(e,u.length-o),u,o,g)}function P(u,e,o,g){return Et(xt(e),u,o,g)}function V(u,e,o,g){return Et(It(e),u,o,g)}function H(u,e,o,g){return Et(pr(e,u.length-o),u,o,g)}l.prototype.write=function(e,o,g,m){if(o===void 0)m="utf8",g=this.length,o=0;else if(g===void 0&&typeof o=="string")m=o,g=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(g)?(g=g>>>0,m===void 0&&(m="utf8")):(m=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const S=this.length-o;if((g===void 0||g>S)&&(g=S),e.length>0&&(g<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");let N=!1;for(;;)switch(m){case"hex":return ut(this,e,o,g);case"utf8":case"utf-8":return k(this,e,o,g);case"ascii":case"latin1":case"binary":return P(this,e,o,g);case"base64":return V(this,e,o,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,e,o,g);default:if(N)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),N=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(u,e,o){return e===0&&o===u.length?t.fromByteArray(u):t.fromByteArray(u.slice(e,o))}function a(u,e,o){o=Math.min(u.length,o);const g=[];let m=e;for(;m<o;){const S=u[m];let N=null,tt=S>239?4:S>223?3:S>191?2:1;if(m+tt<=o){let at,it,ht,et;switch(tt){case 1:S<128&&(N=S);break;case 2:at=u[m+1],(at&192)===128&&(et=(S&31)<<6|at&63,et>127&&(N=et));break;case 3:at=u[m+1],it=u[m+2],(at&192)===128&&(it&192)===128&&(et=(S&15)<<12|(at&63)<<6|it&63,et>2047&&(et<55296||et>57343)&&(N=et));break;case 4:at=u[m+1],it=u[m+2],ht=u[m+3],(at&192)===128&&(it&192)===128&&(ht&192)===128&&(et=(S&15)<<18|(at&63)<<12|(it&63)<<6|ht&63,et>65535&&et<1114112&&(N=et))}}N===null?(N=65533,tt=1):N>65535&&(N-=65536,g.push(N>>>10&1023|55296),N=56320|N&1023),g.push(N),m+=tt}return y(g)}const p=4096;function y(u){const e=u.length;if(e<=p)return String.fromCharCode.apply(String,u);let o="",g=0;for(;g<e;)o+=String.fromCharCode.apply(String,u.slice(g,g+=p));return o}function A(u,e,o){let g="";o=Math.min(u.length,o);for(let m=e;m<o;++m)g+=String.fromCharCode(u[m]&127);return g}function v(u,e,o){let g="";o=Math.min(u.length,o);for(let m=e;m<o;++m)g+=String.fromCharCode(u[m]);return g}function O(u,e,o){const g=u.length;(!e||e<0)&&(e=0),(!o||o<0||o>g)&&(o=g);let m="";for(let S=e;S<o;++S)m+=Ot[u[S]];return m}function D(u,e,o){const g=u.slice(e,o);let m="";for(let S=0;S<g.length-1;S+=2)m+=String.fromCharCode(g[S]+g[S+1]*256);return m}l.prototype.slice=function(e,o){const g=this.length;e=~~e,o=o===void 0?g:~~o,e<0?(e+=g,e<0&&(e=0)):e>g&&(e=g),o<0?(o+=g,o<0&&(o=0)):o>g&&(o=g),o<e&&(o=e);const m=this.subarray(e,o);return Object.setPrototypeOf(m,l.prototype),m};function R(u,e,o){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+e>o)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=this[e],S=1,N=0;for(;++N<o&&(S*=256);)m+=this[e+N]*S;return m},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=this[e+--o],S=1;for(;o>0&&(S*=256);)m+=this[e+--o]*S;return m},l.prototype.readUint8=l.prototype.readUInt8=function(e,o){return e=e>>>0,o||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,o){return e=e>>>0,o||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,o){return e=e>>>0,o||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,o){return e=e>>>0,o||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,o){return e=e>>>0,o||R(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=o+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,S=this[++e]+this[++e]*2**8+this[++e]*2**16+g*2**24;return BigInt(m)+(BigInt(S)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=o*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],S=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+g;return(BigInt(m)<<BigInt(32))+BigInt(S)}),l.prototype.readIntLE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=this[e],S=1,N=0;for(;++N<o&&(S*=256);)m+=this[e+N]*S;return S*=128,m>=S&&(m-=Math.pow(2,8*o)),m},l.prototype.readIntBE=function(e,o,g){e=e>>>0,o=o>>>0,g||R(e,o,this.length);let m=o,S=1,N=this[e+--m];for(;m>0&&(S*=256);)N+=this[e+--m]*S;return S*=128,N>=S&&(N-=Math.pow(2,8*o)),N},l.prototype.readInt8=function(e,o){return e=e>>>0,o||R(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},l.prototype.readInt16LE=function(e,o){e=e>>>0,o||R(e,2,this.length);const g=this[e]|this[e+1]<<8;return g&32768?g|4294901760:g},l.prototype.readInt16BE=function(e,o){e=e>>>0,o||R(e,2,this.length);const g=this[e+1]|this[e]<<8;return g&32768?g|4294901760:g},l.prototype.readInt32LE=function(e,o){return e=e>>>0,o||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,o){return e=e>>>0,o||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(g<<24);return(BigInt(m)<<BigInt(32))+BigInt(o+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),l.prototype.readBigInt64BE=Ut(function(e){e=e>>>0,te(e,"offset");const o=this[e],g=this[e+7];(o===void 0||g===void 0)&&yt(e,this.length-8);const m=(o<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(m)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+g)}),l.prototype.readFloatLE=function(e,o){return e=e>>>0,o||R(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,o){return e=e>>>0,o||R(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,o){return e=e>>>0,o||R(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,o){return e=e>>>0,o||R(e,8,this.length),n.read(this,e,!1,52,8)};function c(u,e,o,g,m,S){if(!l.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>m||e<S)throw new RangeError('"value" argument is out of bounds');if(o+g>u.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,o,g,m){if(e=+e,o=o>>>0,g=g>>>0,!m){const tt=Math.pow(2,8*g)-1;c(this,e,o,g,tt,0)}let S=1,N=0;for(this[o]=e&255;++N<g&&(S*=256);)this[o+N]=e/S&255;return o+g},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,o,g,m){if(e=+e,o=o>>>0,g=g>>>0,!m){const tt=Math.pow(2,8*g)-1;c(this,e,o,g,tt,0)}let S=g-1,N=1;for(this[o+S]=e&255;--S>=0&&(N*=256);)this[o+S]=e/N&255;return o+g},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,1,255,0),this[o]=e&255,o+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,65535,0),this[o]=e&255,this[o+1]=e>>>8,o+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,65535,0),this[o]=e>>>8,this[o+1]=e&255,o+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,4294967295,0),this[o+3]=e>>>24,this[o+2]=e>>>16,this[o+1]=e>>>8,this[o]=e&255,o+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,4294967295,0),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=e&255,o+4};function d(u,e,o,g,m){wt(e,g,m,u,o,7);let S=Number(e&BigInt(4294967295));u[o++]=S,S=S>>8,u[o++]=S,S=S>>8,u[o++]=S,S=S>>8,u[o++]=S;let N=Number(e>>BigInt(32)&BigInt(4294967295));return u[o++]=N,N=N>>8,u[o++]=N,N=N>>8,u[o++]=N,N=N>>8,u[o++]=N,o}function w(u,e,o,g,m){wt(e,g,m,u,o,7);let S=Number(e&BigInt(4294967295));u[o+7]=S,S=S>>8,u[o+6]=S,S=S>>8,u[o+5]=S,S=S>>8,u[o+4]=S;let N=Number(e>>BigInt(32)&BigInt(4294967295));return u[o+3]=N,N=N>>8,u[o+2]=N,N=N>>8,u[o+1]=N,N=N>>8,u[o]=N,o+8}l.prototype.writeBigUInt64LE=Ut(function(e,o=0){return d(this,e,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ut(function(e,o=0){return w(this,e,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,o,g,m){if(e=+e,o=o>>>0,!m){const at=Math.pow(2,8*g-1);c(this,e,o,g,at-1,-at)}let S=0,N=1,tt=0;for(this[o]=e&255;++S<g&&(N*=256);)e<0&&tt===0&&this[o+S-1]!==0&&(tt=1),this[o+S]=(e/N>>0)-tt&255;return o+g},l.prototype.writeIntBE=function(e,o,g,m){if(e=+e,o=o>>>0,!m){const at=Math.pow(2,8*g-1);c(this,e,o,g,at-1,-at)}let S=g-1,N=1,tt=0;for(this[o+S]=e&255;--S>=0&&(N*=256);)e<0&&tt===0&&this[o+S+1]!==0&&(tt=1),this[o+S]=(e/N>>0)-tt&255;return o+g},l.prototype.writeInt8=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,1,127,-128),e<0&&(e=255+e+1),this[o]=e&255,o+1},l.prototype.writeInt16LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,32767,-32768),this[o]=e&255,this[o+1]=e>>>8,o+2},l.prototype.writeInt16BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,2,32767,-32768),this[o]=e>>>8,this[o+1]=e&255,o+2},l.prototype.writeInt32LE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,2147483647,-2147483648),this[o]=e&255,this[o+1]=e>>>8,this[o+2]=e>>>16,this[o+3]=e>>>24,o+4},l.prototype.writeInt32BE=function(e,o,g){return e=+e,o=o>>>0,g||c(this,e,o,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[o]=e>>>24,this[o+1]=e>>>16,this[o+2]=e>>>8,this[o+3]=e&255,o+4},l.prototype.writeBigInt64LE=Ut(function(e,o=0){return d(this,e,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ut(function(e,o=0){return w(this,e,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function b(u,e,o,g,m,S){if(o+g>u.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function $(u,e,o,g,m){return e=+e,o=o>>>0,m||b(u,e,o,4),n.write(u,e,o,g,23,4),o+4}l.prototype.writeFloatLE=function(e,o,g){return $(this,e,o,!0,g)},l.prototype.writeFloatBE=function(e,o,g){return $(this,e,o,!1,g)};function Y(u,e,o,g,m){return e=+e,o=o>>>0,m||b(u,e,o,8),n.write(u,e,o,g,52,8),o+8}l.prototype.writeDoubleLE=function(e,o,g){return Y(this,e,o,!0,g)},l.prototype.writeDoubleBE=function(e,o,g){return Y(this,e,o,!1,g)},l.prototype.copy=function(e,o,g,m){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(g||(g=0),!m&&m!==0&&(m=this.length),o>=e.length&&(o=e.length),o||(o=0),m>0&&m<g&&(m=g),m===g||e.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),e.length-o<m-g&&(m=e.length-o+g);const S=m-g;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,g,m):Uint8Array.prototype.set.call(e,this.subarray(g,m),o),S},l.prototype.fill=function(e,o,g,m){if(typeof e=="string"){if(typeof o=="string"?(m=o,o=0,g=this.length):typeof g=="string"&&(m=g,g=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(e.length===1){const N=e.charCodeAt(0);(m==="utf8"&&N<128||m==="latin1")&&(e=N)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(o<0||this.length<o||this.length<g)throw new RangeError("Out of range index");if(g<=o)return this;o=o>>>0,g=g===void 0?this.length:g>>>0,e||(e=0);let S;if(typeof e=="number")for(S=o;S<g;++S)this[S]=e;else{const N=l.isBuffer(e)?e:l.from(e,m),tt=N.length;if(tt===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(S=0;S<g-o;++S)this[S+o]=N[S%tt]}return this};const J={};function rt(u,e,o){J[u]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(m){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:m,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(u,e){return`The "${u}" argument must be of type number. Received type ${typeof e}`},TypeError),rt("ERR_OUT_OF_RANGE",function(u,e,o){let g=`The value of "${u}" is out of range.`,m=o;return Number.isInteger(o)&&Math.abs(o)>2**32?m=gt(String(o)):typeof o=="bigint"&&(m=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(m=gt(m)),m+="n"),g+=` It must be ${e}. Received ${m}`,g},RangeError);function gt(u){let e="",o=u.length;const g=u[0]==="-"?1:0;for(;o>=g+4;o-=3)e=`_${u.slice(o-3,o)}${e}`;return`${u.slice(0,o)}${e}`}function _t(u,e,o){te(e,"offset"),(u[e]===void 0||u[e+o]===void 0)&&yt(e,u.length-(o+1))}function wt(u,e,o,g,m,S){if(u>o||u<e){const N=typeof e=="bigint"?"n":"";let tt;throw e===0||e===BigInt(0)?tt=`>= 0${N} and < 2${N} ** ${(S+1)*8}${N}`:tt=`>= -(2${N} ** ${(S+1)*8-1}${N}) and < 2 ** ${(S+1)*8-1}${N}`,new J.ERR_OUT_OF_RANGE("value",tt,u)}_t(g,m,S)}function te(u,e){if(typeof u!="number")throw new J.ERR_INVALID_ARG_TYPE(e,"number",u)}function yt(u,e,o){throw Math.floor(u)!==u?(te(u,o),new J.ERR_OUT_OF_RANGE("offset","an integer",u)):e<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,u)}const vt=/[^+/0-9A-Za-z-_]/g;function dr(u){if(u=u.split("=")[0],u=u.trim().replace(vt,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function Rt(u,e){e=e||1/0;let o;const g=u.length;let m=null;const S=[];for(let N=0;N<g;++N){if(o=u.charCodeAt(N),o>55295&&o<57344){if(!m){if(o>56319){(e-=3)>-1&&S.push(239,191,189);continue}else if(N+1===g){(e-=3)>-1&&S.push(239,191,189);continue}m=o;continue}if(o<56320){(e-=3)>-1&&S.push(239,191,189),m=o;continue}o=(m-55296<<10|o-56320)+65536}else m&&(e-=3)>-1&&S.push(239,191,189);if(m=null,o<128){if((e-=1)<0)break;S.push(o)}else if(o<2048){if((e-=2)<0)break;S.push(o>>6|192,o&63|128)}else if(o<65536){if((e-=3)<0)break;S.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((e-=4)<0)break;S.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return S}function xt(u){const e=[];for(let o=0;o<u.length;++o)e.push(u.charCodeAt(o)&255);return e}function pr(u,e){let o,g,m;const S=[];for(let N=0;N<u.length&&!((e-=2)<0);++N)o=u.charCodeAt(N),g=o>>8,m=o%256,S.push(m),S.push(g);return S}function It(u){return t.toByteArray(dr(u))}function Et(u,e,o,g){let m;for(m=0;m<g&&!(m+o>=e.length||m>=u.length);++m)e[m+o]=u[m];return m}function bt(u,e){return u instanceof e||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===e.name}function At(u){return u!==u}const Ot=(function(){const u="0123456789abcdef",e=new Array(256);for(let o=0;o<16;++o){const g=o*16;for(let m=0;m<16;++m)e[g+m]=u[o]+u[m]}return e})();function Ut(u){return typeof BigInt>"u"?Nt:u}function Nt(){throw new Error("BigInt not supported")}})(Wn)),Wn}var ge=Ul();class Dl{#t=null;#n=new Map;#i=new EventTarget;constructor(){window.addEventListener("message",this._handleMessage)}get publicKey(){return this.#t}on(t,n){this.#i.addEventListener(t,n)}off(t,n){this.#i.removeEventListener(t,n)}#o(t,n){this.#i.dispatchEvent(new CustomEvent(t,{detail:n}))}_handleMessage=t=>{console.log("received message from react native",t);const{detail:n}=t;let i;try{i=JSON.parse(n)}catch{console.log("Failed to parse message from React Native",n);return}const{id:f,result:s,error:h}=i,l=this.#n.get(f);l&&(s?l.resolve(s):h&&l.reject(new Error(h)),this.#n.delete(f))};async _sendRequest(t,n,i,f){return new Promise((s,h)=>{if(!window.ReactNativeWebView)return h(new Error("ReactNative is not available"));const l=crypto.randomUUID();this.#n.set(l,{resolve:s,reject:h});const _={id:l,method:t,params:n,transactionType:i,transactionTypes:f};window.ReactNativeWebView.postMessage(JSON.stringify(_))})}async connect(t){const{publicKey:n}=await this._sendRequest("connect",t);return this.#t=new lt(n),this.#o("connect",{publicKey:this.#t}),{publicKey:this.#t}}async disconnect(){await this._sendRequest("disconnect",void 0),this.#t=null,this.#o("disconnect")}async signAndSendTransaction(t,n){const i=ge.Buffer.from(t.serialize()).toString("base64"),f="version"in t?"versioned":"legacy";return{signature:await this._sendRequest("signAndSendTransaction",{transaction:i,options:n},f)}}async signTransaction(t){const n=ge.Buffer.from(t.serialize()).toString("base64"),i="version"in t?"versioned":"legacy",f=await this._sendRequest("signTransaction",{transaction:n},i);return i==="versioned"?je.deserialize(ge.Buffer.from(f,"base64")):vr.from(ge.Buffer.from(f,"base64"))}async signAllTransactions(t){const n=t.map(s=>ge.Buffer.from(s.serialize()).toString("base64")),i=t.map(s=>"version"in s?"versioned":"legacy");return(await this._sendRequest("signAllTransactions",{transactions:n},void 0,i)).map((s,h)=>i[h]==="versioned"?je.deserialize(ge.Buffer.from(s,"base64")):vr.from(ge.Buffer.from(s,"base64")))}async signMessage(t){const n=ge.Buffer.from(t).toString("base64"),i=await this._sendRequest("signMessage",{message:n});return{signature:ge.Buffer.from(i,"base64")}}async signIn(t){const n=await this._sendRequest("signIn",{input:t});console.log("raw output for sign in ",n);const i={account:{...n.account,publicKey:new Uint8Array(ge.Buffer.from(n.account.publicKey,"base64"))},signature:new Uint8Array(ge.Buffer.from(n.signature,"base64")),signedMessage:new Uint8Array(ge.Buffer.from(n.signedMessage,"base64"))};return console.log("parsed output for sign in ",i),i?.account&&this.#o("accountChanged",{publicKey:new lt(i.account.address)}),console.log("value here ",i.account),i}}function Fl(r){const t=({register:n})=>n(r);try{window.dispatchEvent(new kl(t))}catch(n){console.log(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>t(n))}catch(n){console.log(`wallet-standard:app-ready event listener could not be added
`,n)}}class kl extends Event{#t;get detail(){return this.#t}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),this.#t=t}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}const _s="solana:signAndSendTransaction",Pl="solana:signIn",ys="solana:signMessage",Es="solana:signTransaction",zl="standard:connect",$l="standard:disconnect",Kl="standard:events";function Vl(r){if(r.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let x=0;x<t.length;x++)t[x]=255;for(let x=0;x<r.length;x++){const T=r.charAt(x),C=T.charCodeAt(0);if(t[C]!==255)throw new TypeError(T+" is ambiguous");t[C]=x}const n=r.length,i=r.charAt(0),f=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function h(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";let T=0,C=0,B=0;const I=x.length;for(;B!==I&&x[B]===0;)B++,T++;const M=(I-B)*s+1>>>0,L=new Uint8Array(M);for(;B!==I;){let G=x[B],z=0;for(let W=M-1;(G!==0||z<C)&&W!==-1;W--,z++)G+=256*L[W]>>>0,L[W]=G%n>>>0,G=G/n>>>0;if(G!==0)throw new Error("Non-zero carry");C=z,B++}let F=M-C;for(;F!==M&&L[F]===0;)F++;let K=i.repeat(T);for(;F<M;++F)K+=r.charAt(L[F]);return K}function l(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;let T=0,C=0,B=0;for(;x[T]===i;)C++,T++;const I=(x.length-T)*f+1>>>0,M=new Uint8Array(I);for(;T<x.length;){const G=x.charCodeAt(T);if(G>255)return;let z=t[G];if(z===255)return;let W=0;for(let Z=I-1;(z!==0||W<B)&&Z!==-1;Z--,W++)z+=n*M[Z]>>>0,M[Z]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");B=W,T++}let L=I-B;for(;L!==I&&M[L]===0;)L++;const F=new Uint8Array(C+(I-L));let K=C;for(;L!==I;)F[K++]=M[L++];return F}function _(x){const T=l(x);if(T)return T;throw new Error("Non-base"+n+" character")}return{encode:h,decodeUnsafe:l,decode:_}}var ql="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Gl=Vl(ql),Jn=["solana:mainnet","solana:devnet","solana:testnet","solana:localnet"];function Qn(r){return Jn.includes(r)}function ms(r){return"version"in r}const jl=Jn,Hl=[_s,Es,ys];class ti{#t;#n;#i;#o;#e;#r;get address(){return this.#t}get publicKey(){return this.#n.slice()}get chains(){return this.#i.slice()}get features(){return this.#o.slice()}get label(){return this.#e}get icon(){return this.#r}constructor({address:t,publicKey:n,label:i,icon:f}){new.target===ti&&Object.freeze(this),this.#t=t,this.#n=n,this.#i=jl,this.#o=Hl,this.#e=i,this.#r=f}}const Yl="data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyODAuMTczIDI4MC4xNzMiIHZpZXdCb3g9IjAgMCAyODAuMTczIDI4MC4xNzMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTEzMy45NjEuMTQ1Yy03MC44ODIgMy41LTEyNS4xMzcgNjMuODgxLTEyNS4xMzcgMTM0Ljc2M3Y2Ni41MDYgNjUuNjMxYzAgNi4xMjYgNi4xMjYgOS42MjYgMTEuMzc2IDYuMTI2bDIwLjEyNy0xMi4yNTFjNy44NzYtNC4zNzUgMTcuNTAyLTQuMzc1IDI1LjM3NyAwbDE4LjM3NyAxMC41MDFjNy44NzYgNC4zNzUgMTcuNTAyIDQuMzc1IDI1LjM3NyAwbDE4LjM3Ny0xMC41MDFjNy44NzYtNC4zNzUgMTcuNTAyLTQuMzc1IDI1LjM3NyAwbDE4LjM3NyAxMC41MDFjNy44NzYgNC4zNzUgMTcuNTAyIDQuMzc1IDI1LjM3NyAwbDE4LjM3Ny0xMC41MDFjNy44NzYtNC4zNzUgMTcuNTAyLTQuMzc1IDI1LjM3NyAwbDE5LjI1MiAxMS4zNzZjNS4yNTEgMi42MjUgMTEuMzc2LS44NzUgMTEuMzc2LTYuMTI2IDAtMTguMzc3IDAtNTAuNzU1IDAtNjUuNjMxdi03MC4wMDdjLjAwMS03My41MDctNjIuMTMtMTMzLjg4Ny0xMzcuMzg3LTEzMC4zODd6IiBmaWxsPSIjZTI1NzRjIi8+PHBhdGggZD0ibTI2LjMyNSAxMzEuNDA4YzAtNjkuMTMyIDU0LjI1NS0xMjYuMDEyIDEyMi41MTItMTMxLjI2My0yLjYyNSAwLTYuMTI2IDAtOC43NTEgMC03Mi42MzIgMC0xMzEuMjYyIDU4LjYzMS0xMzEuMjYyIDEzMS4yNjN2MTQ4Ljc2NWM3Ljg3NiAwIDEzLjEyNi0zLjUgMTcuNTAyLTcuODc2LS4wMDEtMTUuNzUyLS4wMDEtMTQwLjg4OS0uMDAxLTE0MC44ODl6IiBmaWxsPSIjZDI1MTQ3Ii8+PHBhdGggZD0ibTE4OC4yMTYgMTEzLjkwNmMtMTYuNjI3IDAtMzAuNjI4IDE0LjAwMS0zMC42MjggMzAuNjI4czE0LjAwMSAzMC42MjggMzAuNjI4IDMwLjYyOCAzMC42MjgtMTQuMDAxIDMwLjYyOC0zMC42MjgtMTQuMDAxLTMwLjYyOC0zMC42MjgtMzAuNjI4em0tOTYuMjU5IDBjLTE2LjYyNyAwLTMwLjYyOCAxNC4wMDEtMzAuNjI4IDMwLjYyOHMxNC4wMDEgMzAuNjI4IDMwLjYyOCAzMC42MjggMzAuNjI4LTE0LjAwMSAzMC42MjgtMzAuNjI4LTE0LjAwMi0zMC42MjgtMzAuNjI4LTMwLjYyOHoiIGZpbGw9IiNlNGU3ZTciLz48cGF0aCBkPSJtMTg4LjIxNiAxMzEuNDA4Yy03LjAwMSAwLTEzLjEyNiA2LjEyNi0xMy4xMjYgMTMuMTI2IDAgNy4wMDEgNi4xMjYgMTMuMTI2IDEzLjEyNiAxMy4xMjZzMTMuMTI2LTYuMTI2IDEzLjEyNi0xMy4xMjZjMC03LjAwMS02LjEyNS0xMy4xMjYtMTMuMTI2LTEzLjEyNnptLTk2LjI1OSAwYy03LjAwMSAwLTEzLjEyNiA2LjEyNi0xMy4xMjYgMTMuMTI2IDAgNy4wMDEgNi4xMjYgMTMuMTI2IDEzLjEyNiAxMy4xMjYgNy4wMDEgMCAxMy4xMjYtNi4xMjYgMTMuMTI2LTEzLjEyNiAwLTcuMDAxLTYuMTI2LTEzLjEyNi0xMy4xMjYtMTMuMTI2eiIgZmlsbD0iIzMyNGQ1YiIvPjwvc3ZnPg==";function Zl(r,t){return Xl(r,t)}function Xl(r,t){if(r===t)return!0;const n=r.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(r[i]!==t[i])return!1;return!0}const Wl="ghost:";class ei{#t={};#n="1.0.0";#i="PingPay";#o=Yl;#e=null;#r;get version(){return this.#n}get name(){return this.#i}get icon(){return this.#o}get chains(){return Jn.slice()}get features(){return{[zl]:{version:"1.0.0",connect:this.#p},[$l]:{version:"1.0.0",disconnect:this.#g},[Kl]:{version:"1.0.0",on:this.#h},[_s]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:this.#c},[Es]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:this.#_},[ys]:{version:"1.0.0",signMessage:this.#f},[Pl]:{version:"1.0.0",signIn:this.#y},[Wl]:{ghost:this.#r}}}get accounts(){return this.#e?[this.#e]:[]}constructor(t){new.target===ei&&Object.freeze(this),this.#r=t,t.on("connect",this.#s,this),t.on("disconnect",this.#u,this),t.on("accountChanged",this.#d,this),this.#s()}#h=(t,n)=>(this.#t[t]?.push(n)||(this.#t[t]=[n]),()=>this.#l(t,n));#a(t,...n){this.#t[t]?.forEach(i=>i.apply(null,n))}#l(t,n){this.#t[t]=this.#t[t]?.filter(i=>n!==i)}#s=()=>{const t=this.#r.publicKey?.toBase58();if(t){const n=this.#r.publicKey.toBytes(),i=this.#e;(!i||i.address!==t||!Zl(i.publicKey,n))&&(this.#e=new ti({address:t,publicKey:n}),this.#a("change",{accounts:this.accounts}))}};#u=()=>{this.#e&&(this.#e=null,this.#a("change",{accounts:this.accounts}))};#d=()=>{this.#r.publicKey?this.#s():this.#u()};#p=async({silent:t}={})=>(this.#e||await this.#r.connect(t?{onlyIfTrusted:!0}:void 0),this.#s(),{accounts:this.accounts});#g=async()=>{await this.#r.disconnect()};#c=async(...t)=>{if(!this.#e)throw new Error("not connected");const n=[];if(t.length===1){const{transaction:i,account:f,chain:s,options:h}=t[0],{minContextSlot:l,preflightCommitment:_,skipPreflight:x,maxRetries:T}=h||{};if(f!==this.#e)throw new Error("invalid account");if(!Qn(s))throw new Error("invalid chain");const{signature:C}=await this.#r.signAndSendTransaction(je.deserialize(i),{preflightCommitment:_,minContextSlot:l,maxRetries:T,skipPreflight:x});n.push({signature:Gl.decode(C)})}else if(t.length>1)for(const i of t)n.push(...await this.#c(i));return n};#_=async(...t)=>{if(!this.#e)throw new Error("not connected");const n=[];if(t.length===1){const{transaction:i,account:f,chain:s}=t[0];if(f!==this.#e)throw new Error("invalid account");if(s&&!Qn(s))throw new Error("invalid chain");const h=await this.#r.signTransaction(je.deserialize(i)),l=ms(h)?h.serialize():new Uint8Array(h.serialize({requireAllSignatures:!1,verifySignatures:!1}));n.push({signedTransaction:l})}else if(t.length>1){let i;for(const h of t){if(h.account!==this.#e)throw new Error("invalid account");if(h.chain){if(!Qn(h.chain))throw new Error("invalid chain");if(i){if(h.chain!==i)throw new Error("conflicting chain")}else i=h.chain}}const f=t.map(({transaction:h})=>je.deserialize(h)),s=await this.#r.signAllTransactions(f);n.push(...s.map(h=>({signedTransaction:ms(h)?h.serialize():new Uint8Array(h.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return n};#f=async(...t)=>{if(!this.#e)throw new Error("not connected");const n=[];if(t.length===1){const{message:i,account:f}=t[0];if(f!==this.#e)throw new Error("invalid account");const{signature:s}=await this.#r.signMessage(i);n.push({signedMessage:i,signature:s})}else if(t.length>1)for(const i of t)n.push(...await this.#f(i));return n};#y=async(...t)=>{const n=[];if(t.length>1)for(const i of t)n.push(await this.#r.signIn(i));else return[await this.#r.signIn(t[0])];return n}}function ws(){let r=null;if(console.log("initialize called "),window.mea_bridge){r=window.mea_bridge,console.log("bridge object alredy exists");return}else r=new Dl;window.mea_bridge=r,Fl(new ei(r))}ws(),Ze.initialize=ws,Object.defineProperty(Ze,Symbol.toStringTag,{value:"Module"})}));
